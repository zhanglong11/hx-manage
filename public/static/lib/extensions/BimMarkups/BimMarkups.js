/*!
 * LMV v7.9.0
 * 
 * Copyright 2019 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.BimMarkups=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./extensions/BimMarkups/BimMarkups.js")}({"./extensions/BimMarkups/Actions/AddMarkupAction.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/Actions/AddMarkupAction.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return A}));var A=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=s(this,a(t).call(this,e.actionManager))).markupsManager=e,i.markup=n,i.layer=r,i}var n,r,A;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),n=t,(r=[{key:"undo",value:function(){this.markupsManager.removeMarkupFromLayer(this.markup)}},{key:"redo",value:function(){this.markupsManager.addMarkupToLayer(this.markup,this.layer)}}])&&i(n.prototype,r),A&&i(n,A),t}(n(/*! ../Utils/ActionManager/Action */"./extensions/BimMarkups/Utils/ActionManager/Action.js").default)},"./extensions/BimMarkups/Actions/DeleteMarkupAction.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Actions/DeleteMarkupAction.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return A}));var A=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,a(t).call(this,e.actionManager))).markupsManager=e,r.markup=n,r.layer=r.markup.layer,r}var n,r,A;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),n=t,(r=[{key:"undo",value:function(){this.markupsManager.addMarkupToLayer(this.markup,this.layer)}},{key:"redo",value:function(){this.markupsManager.removeMarkupFromLayer(this.markup)}}])&&i(n.prototype,r),A&&i(n,A),t}(n(/*! ../Utils/ActionManager/Action */"./extensions/BimMarkups/Utils/ActionManager/Action.js").default)},"./extensions/BimMarkups/Actions/UpdateMarkupAction.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Actions/UpdateMarkupAction.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n,i){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=a(this,o(t).call(this,e.actionManager))).markupsManager=e,s.markup=n,s.layer=s.markup.layer,s.oldState=r.default.cloneDeep(s.markup.getState()),s.newState=r.default.cloneDeep(i),s}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(i=[{key:"undo",value:function(){this.markup.setState(this.oldState),this.markup.syncEditState()}},{key:"redo",value:function(){this.markup.setState(this.newState),this.markup.syncEditState()}}])&&s(n.prototype,i),u&&s(n,u),t}(n(/*! ../Utils/ActionManager/Action */"./extensions/BimMarkups/Utils/ActionManager/Action.js").default)},"./extensions/BimMarkups/BimMarkups.js":
/*!*********************************************!*\
  !*** ./extensions/BimMarkups/BimMarkups.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(/*! ./MarkupsTool */"./extensions/BimMarkups/MarkupsTool.js"),i=n(/*! ./UI/MarkupsUI */"./extensions/BimMarkups/UI/MarkupsUI.js"),s=n(/*! ./MarkupsManager */"./extensions/BimMarkups/MarkupsManager.js"),a=n(/*! ./MarkupsRenderer */"./extensions/BimMarkups/MarkupsRenderer.js"),o=n(/*! ./FilterManager */"./extensions/BimMarkups/FilterManager.js"),A=n(/*! ./MarkupsPermissionManager */"./extensions/BimMarkups/MarkupsPermissionManager.js"),u=n(/*! ./MarkupsMobileCallbacks */"./extensions/BimMarkups/MarkupsMobileCallbacks.js"),l=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),c=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),d=n(/*! ./CacheObject */"./extensions/BimMarkups/CacheObject.js"),h=n(/*! ./Service/MarkupsServiceOperator */"./extensions/BimMarkups/Service/MarkupsServiceOperator.js"),f=n(/*! ./Utils/EventUtils */"./extensions/BimMarkups/Utils/EventUtils.js"),p=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,r,i,s,a){try{var o=e[s](a),A=o.value}catch(e){return void n(e)}o.done?t(A):Promise.resolve(A).then(r,i)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?k(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=AutodeskNamespace("Autodesk.BIM360.Markups"),C=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,t),(n=B(this,v(t).call(this,e,r))).viewer=e,n.options=r,n.cache=n.getCache(),n.onModelLoadedBinded=n.onModelLoaded.bind(k(n)),n}var n,l,c,p,E;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,Autodesk.Viewing.Extension),n=t,(l=[{key:"onModelLoaded",value:function(e){if(this.viewer.model&&!this.initialized){this.initCache();var t=e.model.getDocumentNode();t?(this.sheetList=t.getRootNode().search({type:"geometry"}),this.options.sheetGUID=t.guid(),this.options.sheetName=t.name(),this.options.fileName=t.findViewableParent().name()):this.sheetList=[],this.markupsManager=new s.default(this),this.filterManager=new o.default(this,this.options),this.permissionManager=new A.default(this.options),this.markupsTool=new r.default(this),this.viewer.toolController.registerTool(this.markupsTool);var n=this.viewer.toolController.setIsLocked(!1);this.viewer.toolController.activateTool(this.markupsTool.getName()),this.viewer.toolController.setIsLocked(n),this.renderer=new a.default(this),this.markupsManager.setDefaultCreationStyleProperties(),this.options.isMobileApp?this.mobileCallbacks=new u.default(this):(this.markupsUI=new i.default(this),this.initMarkupsPanel()),this.initServiceOperator(),this.selectInitialLayer(),this.initialized=!0}}},{key:"initCache",value:function(){this.cache.hasOwnProperty("markupsCache")||(this.cache.markupsCache=new d.default),this.markupsCache=this.cache.markupsCache,this.markupsCache.currentUrn!==this.options.documentUrn&&(this.cache.layerToSelect=null,this.cache.layerToEdit=null,this.cache.filters=null),this.cache.markupsCache.setCurrentUrn(this.options.documentUrn)}},{key:"initServiceOperator",value:function(){this.serviceOperator||(this.serviceOperator=new h.default),this.serviceOperator.reset(this),this.serviceOperator.fetchMarkups()}},{key:"initMarkupsPanel",value:function(){this.options.panelContainer&&this.options.uiClasses&&this.options.uiClasses.MarkupPanelClass&&(this.cache.markupsPanel||(this.cache.markupsPanel=new this.options.uiClasses.MarkupPanelClass),this.cache.markupsPanel.reset(this))}},{key:"selectInitialLayer",value:function(){var e=this;setTimeout((function(){f.default.executeAfterTransitionEnded(e.viewer,(function(){e.cache.layerToSelect&&(e.selectLayer(e.cache.layerToSelect,!0,!0),e.cache.layerToSelect=null),e.cache.layerToEdit&&(e.editLayer(e.cache.layerToEdit,!0,!0,!0),e.cache.layerToEdit=null)}))}))}},{key:"load",value:(p=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewer.loadExtension("Autodesk.Snapping");case 2:return this.viewer.model?this.onModelLoaded({model:this.viewer.model}):this.viewer.addEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,this.onModelLoadedBinded),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})),E=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=p.apply(e,t);function s(e){m(i,n,r,s,a,"next",e)}function a(e){m(i,n,r,s,a,"throw",e)}s(void 0)}))},function(){return E.apply(this,arguments)})},{key:"unload",value:function(){return this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,this.onModelLoadedBinded),this.mobileCallbacks&&(this.mobileCallbacks.destroy(),this.mobileCallbacks=null),this.markupsUI&&(this.markupsUI.destroy(),this.markupsUI=null),this.renderer&&(this.renderer.destroy(),this.renderer=null),this.markupsTool&&(this.viewer.toolController.deregisterTool(this.markupsTool),this.markupsTool=null),this.markupsManager&&(this.markupsManager.destroy(),this.markupsManager=null),this.filterManager&&(this.filterManager.destroy(),this.filterManager=null),this.permissionManager&&(this.permissionManager.destroy(),this.permissionManager=null),this.serviceOperator&&(this.serviceOperator.terminate(),this.serviceOperator=null),this.markupsCache=null,this.initialized=!1,!0}},{key:"startMarkupSession",value:function(e,t){this.markupsManager.startMarkupSession(e,t)}},{key:"endMarkupSession",value:function(e){this.markupsManager.endMarkupSession(e)}},{key:"setToolEnabled",value:function(e){this.markupsManager.setToolEnabled(e)}},{key:"isToolEnabled",value:function(){return this.markupsManager.isToolEnabled()}},{key:"editLayer",value:function(e,t,n,r){this.markupsManager.editLayer(e,t,n,r)}},{key:"changeMarkupCreationType",value:function(e,t){(this.markupsManager.isMarkupSessionOpen()||t)&&this.markupsManager.changeMarkupCreationType(e)}},{key:"deleteMarkup",value:function(e){this.markupsManager.deleteMarkup(e)}},{key:"deleteInEditMarkups",value:function(){this.markupsManager.deleteInEditMarkups()}},{key:"undo",value:function(){this.markupsManager.undo()}},{key:"redo",value:function(){this.markupsManager.redo()}},{key:"copy",value:function(){this.markupsManager.copy()}},{key:"paste",value:function(){this.markupsManager.paste()}},{key:"cut",value:function(){this.markupsManager.cut()}},{key:"selectMarkup",value:function(e){this.markupsManager.selectMarkup(e)}},{key:"deselectMarkup",value:function(e){this.markupsManager.deselectMarkup(e)}},{key:"deselectAllMarkups",value:function(e){this.markupsManager.deselectAllMarkups(e)}},{key:"deselectAllLayers",value:function(e){this.markupsManager.deselectAllLayers(e)}},{key:"exitMarkupView",value:function(){this.markupsManager.exitMarkupView()}},{key:"getSelectedMarkups",value:function(){return this.markupsManager.getSelectedMarkups()}},{key:"getSelectedLayer",value:function(){return this.markupsManager.getSelectedLayer()}},{key:"getVisibleMarkups",value:function(){return this.markupsManager.getVisibleMarkups()}},{key:"selectLayer",value:function(e,t,n){this.markupsManager.selectLayer(e,t,n)}},{key:"deselectLayer",value:function(e){this.markupsManager.deselectLayer(e)}},{key:"getStyleProperty",value:function(e){return this.markupsManager.getStyleProperty(e)}},{key:"changeStyleProperty",value:function(e,t,n){this.markupsManager.changeStyleProperty(e,t,n)}},{key:"loadLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.markupsCache&&this.markupsCache.getAsList(),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.markupsManager.loadLayers(e,t,n)}},{key:"removeLayer",value:function(e){this.markupsManager.removeLayer(e)}},{key:"changeCreationStatusType",value:function(e){this.markupsManager.changeCreationStatusType(e)}},{key:"getCreationStatusType",value:function(){return this.markupsManager.getCreationStatusType()}},{key:"updateFilters",value:function(e){this.filterManager.updateFilters(e)}}])&&y(n.prototype,l),c&&y(n,c),t}();Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.BIM360.Markups",C),w.Constants=Object.assign({},l),w.Events=Object.assign({},c.MARKUPS_EVENTS),w.markupsOverlayRenderer=p.markupsOverlayRenderer},"./extensions/BimMarkups/CacheObject.js":
/*!**********************************************!*\
  !*** ./extensions/BimMarkups/CacheObject.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return i}));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={},this.currentUrn="default"}var t,n,i;return t=e,(n=[{key:"setCurrentUrn",value:function(e){this.currentUrn=e,this.cache[e]=this.cache[e]||{}}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentUrn;this.cache[n][e]=t}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentUrn;delete this.cache[t][e]}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentUrn;return this.cache[t][e]}},{key:"getAsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUrn,n=[];return Object.keys(this.cache[t]).forEach((function(r){n.push(e.cache[t][r])})),n}},{key:"getCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUrn;return this.cache[e]}},{key:"cleanCache",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUrn;Object.keys(this.cache[t]).forEach((function(t){e.remove(t)}))}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUrn;return Object.keys(this.cache[e]).length}},{key:"isEmpty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUrn;return 0===this.length(e)}}])&&r(t.prototype,n),i&&r(t,i),e}()},"./extensions/BimMarkups/EditHandlers/AnchorHandler.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/AnchorHandler.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),i=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(i=[{key:"handleMouseMove",value:function(e){return!!this.activeAnchor&&(e=this.getSnappedPosition(),this.markup.applyInverseRotation(e),this.markup.applyInverseScaleAndTranslation(e),this.markupsExtension.markupsTool.shiftDown&&this.snapAxis(e),this.updateActiveAnchor(e),!0)}},{key:"handleButtonDown",value:function(e,t){return!!this.activeAnchor||(this.activeAnchor=this.intersect(e),this.activeAnchor&&(this.originalAnchor=this.activeAnchor.clone(),this.editStart()),!!this.activeAnchor)}},{key:"handleButtonUp",value:function(e,t){return!!this.activeAnchor&&(e=this.getSnappedPosition(),this.markup.applyInverseRotation(e),this.markup.applyInverseScaleAndTranslation(e),this.markupsExtension.markupsTool.shiftDown&&this.snapAxis(e),this.updateActiveAnchor(e),Object(r.isEqualVectors)(this.activeAnchor,this.originalAnchor,this.getMinChangeDistanceWorld())?this.cancelAnchorEditing():(this.submitChanges(),this.editEnd()),this.activeAnchor=null,!0)}},{key:"handleKeyDown",value:function(e,t){if(this.activeAnchor)switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:return this.cancelAnchorEditing(),!0}return!1}},{key:"handleKeyUp",value:function(e,t){}},{key:"handleDoubleClick",value:function(e,t){}},{key:"updateActiveAnchor",value:function(e){this.markup.getAnchors(),this.activeAnchor.copy(e),this.updateEditStateAnchors(),this.handleCompensation()}},{key:"cancelAnchorEditing",value:function(){this.activeAnchor=null,this.markup.syncEditState(),this.updateEditStateAnchors(),this.editEnd()}},{key:"isDragging",value:function(){return!!this.activeAnchor}},{key:"snapAxis",value:function(e){var t=this,n=this.markup.getAnchors(),r=n.findIndex((function(e){return e===t.activeAnchor}));n[r-1]?this.snapPointToAxis(e,n[r-1],s.ROTATION_SNAP_DEGREES):n[r+1]&&this.snapPointToAxis(e,n[r+1],s.ROTATION_SNAP_DEGREES)}},{key:"intersect",value:function(e){var t=this;e=e.clone(),this.markup.applyInverseRotation(e),this.markup.applyInverseScaleAndTranslation(e);var n=this.markupsExtension.renderer.worldToClient(e);return this.markup.getAnchors().find((function(e){if(t.markup.isAnchorHandlingAllowed(e))return t.markupsExtension.renderer.worldToClient(e).distanceTo(n)<=s.TOUCH_RADIUS}))}},{key:"getCursor",value:function(){return this.activeAnchor?"grabbing":"grab"}}])&&A(n.prototype,i),a&&A(n,a),t}(i.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js":
/*!********************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js ***!
  \********************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(/*! ../../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),a=n(/*! ../../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),o=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,t),(r=c(this,d(t).call(this,e,n,i))).onCreationStartCB=i.onCreationStart,r.onCreationEndCB=i.onCreationEnd,r}var n,s,A;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(s=[{key:"creationStart",value:function(){this.creationStarted=!0,this.onCreationStartCB?this.onCreationStartCB():(this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DRAWING_START,markup:this.markup}),this.markupsExtension.markupsManager.deselectAllMarkups(),this.markupsExtension.markupsManager.deselectAllLinks(),this.editStart())}},{key:"fixInitialRotation",value:function(){var e,t=this;(this.markup.rotationHandler||this.markup.options.rotationNotAllowed)&&(e=t.markupsExtension.renderer.getCameraRotation(),Math.abs(e)>o.EPSILON&&function(){for(var n=t.markupsExtension.renderer.getCameraEyeVector(),s=t.markupsExtension.markupsManager.actionManager;!s.isUndoStackEmpty();){var a=s.undoStack[s.undoStack.length-1];if(Array.isArray(a)&&(a=a[a.length-1]),a.markup!==t.markup)break;t.getEditState().anchors.forEach((function(i){r.default.applyRotation(i,e,t.markup.getWorldCenter(),n)})),t.prevCenter=t.markup.center.clone(),t.markup.setLocked(!0),t.updateEditStateAnchors(),t.updateEditState({rotation:-e}),t.markup.setLocked(!1),t.handleCompensation();var o=i.default.cloneDeep(t.getEditState());if(a.markup.state=o,a.markup.editState=o,a.newState&&(a.newState=o),s.isRedoStackEmpty()||(s.redoStack[s.redoStack.length-1].oldState=o),s.isGroupOpen)break;s.undo()}for(;!s.isRedoStackEmpty();)s.redo()}())}},{key:"creationEnd",value:function(e){this.fixInitialRotation(),this.onCreationEndCB?this.onCreationEndCB(e):(this.markup.disableEdit(),this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DRAWING_END,markup:this.markup}),this.markupsExtension.markupsManager.duringCreationMarkup=null,this.editEnd(),this.markup.complete())}},{key:"creationCancel",value:function(){this.markup.anchorHandler&&this.markup.anchorHandler.cancelAnchorEditing(),this.markup.disableEdit(),this.markup.remove(),this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,markup:this.markup}),this.markupsExtension.markupsManager.duringCreationMarkup=null,this.editEnd()}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:return this.creationCancel(),!0;case Autodesk.Viewing.KeyCode.ESCAPE:return this.onEscape()}return!1}},{key:"onEscape",value:function(){return this.creationCancel(),!0}}])&&l(n.prototype,s),A&&l(n,A),t}(s.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js":
/*!*************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js ***!
  \*************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,t),(r=A(this,u(t).call(this,e,n,i))).tailIndex=i.reverseHead?1:0,r.headIndex=i.reverseHead?0:1,r}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"handleMouseMove",value:function(e){var t=this.getEditState().anchors;return t[this.headIndex]||(t[this.headIndex]=t[this.tailIndex]),this.creationStarted||this.creationStart(),t[this.tailIndex]&&(this.markupsExtension.markupsTool.shiftDown&&this.snapPointToAxis(e,t[this.tailIndex],i.ROTATION_SNAP_DEGREES),t[this.headIndex]=e,this.updateEditStateAnchors()),!0}},{key:"handleButtonDown",value:function(e,t){var n=this.getEditState().anchors;return n[this.tailIndex]||(n[this.tailIndex]=e,this.updateEditStateAnchors()),!0}},{key:"handleButtonUp",value:function(e,t){var n=this.getEditState().anchors;return n[this.headIndex]?this.isSamePoint(e,n[this.tailIndex])?(this.creationCancel(),!1):(this.markupsExtension.markupsTool.shiftDown&&this.snapPointToAxis(e,n[this.tailIndex],i.ROTATION_SNAP_DEGREES),n[this.headIndex]=e,this.updateEditStateAnchors(),this.submitChanges(),this.creationEnd(e),!0):this.handleMouseMove(e,t)}}])&&o(n.prototype,r),s&&o(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js":
/*!********************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js ***!
  \********************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ./CreationHandlerCallout */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCallout.js"),i=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,A(t).call(this,e,n,r,[{class:i.MARKUP_TYPE_ARROW,options:{reverseHead:!0,tailHandlingNotAllowed:!0}},{class:i.MARKUP_TYPE_CALLOUT,options:{requiresClick:!0,rotationNotAllowed:!0,frameType:r.calloutFrameType?r.calloutFrameType:i.MARKUP_TYPE_RECTANGLE}}]))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"getArrowIndex",value:function(){return 0}},{key:"getTextIndex",value:function(){return 1}}])&&a(n.prototype,r),s&&a(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCloudCallout.js":
/*!*************************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCloudCallout.js ***!
  \*************************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ./CreationHandlerCallout */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCallout.js"),i=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,A(t).call(this,e,n,r,[{class:i.MARKUP_TYPE_CLOUD,options:{fillNotAllowed:!0,rotationNotAllowed:!0}},{class:i.MARKUP_TYPE_ARROW,options:{reverseHead:!0,headHandlingNotAllowed:!0,tailHandlingNotAllowed:!0}},{class:i.MARKUP_TYPE_CALLOUT,options:{requiresClick:!0,rotationNotAllowed:!0,frameType:r.calloutFrameType?r.calloutFrameType:i.MARKUP_TYPE_RECTANGLE}}]))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"getArrowIndex",value:function(){return 1}},{key:"getTextIndex",value:function(){return 2}}])&&a(n.prototype,r),s&&a(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCallout.js":
/*!***************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCallout.js ***!
  \***************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ./CreationHandlerCompound */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js"),i=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,A(t).call(this,e,n,r,i))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"afterNextMarkupCreated",value:function(e){if(e===this.getTextIndex()){var t,n=this.getArrow(),r=this.getText(),s=r.getWorldBoundingBox(!0),a=r.editState.style[i.STYLE_PROPERTIES.THICKNESS]/2,o=s.size().y/2-a,A=s.size().x/2-a,u=n.getHead(),l=n.getTail(),c=Math.atan2(u.y-l.y,u.x-l.x);switch(this.markup.getTextQuadrant(c)){case 1:t=new THREE.Vector3(0,o,0);break;case 2:t=new THREE.Vector3(-A,0,0);break;case 3:t=new THREE.Vector3(0,-o,0);break;case 4:t=new THREE.Vector3(A,0,0)}if(r.editState.frameType===i.MARKUP_TYPE_CLOUD){var d=t.clone().negate(),h=this.markup.getVectorToClosestPointOnCloud(d);t.add(h)}r.creationHandler.updateEditState({translation:t}),r.creationHandler.submitChanges()}}},{key:"getArrowIndex",value:function(){throw new Error("getArrowIndex needs implementation")}},{key:"getTextIndex",value:function(){throw new Error("getTextIndex needs implementation")}},{key:"getArrow",value:function(){return this.markup.markups[this.getArrowIndex()]}},{key:"getText",value:function(){return this.markup.markups[this.getTextIndex()]}}])&&a(n.prototype,r),s&&a(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js ***!
  \****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e,n,r){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];a(this,t),(i=A(this,l(t).call(this,e,n,r))).creationHandlers=[],i.currentStep=0,i.lastCompleted=-1,i.markup.markups=[];var o=[];i.markup.state.uuid?o=i.markup.state.componentsState.sort((function(e,t){return e.groupOrder-t.groupOrder})):i.markup.editState.uuid=THREE.Math.generateUUID(),i.markupClasses=s,i.numMarkups=s.length;for(var u=0;u<i.numMarkups;u++){var c=s[u].class,d=s[u].options||{};i._restoreFill(o[u],s[u],o);var h=u===s.length-1;d.onCreationEnd=function(e){i.onCreationEnd(e)},d.onCreationStart=function(){i.onCreationStart()};var f=i.markupsExtension.markupsManager.createMarkup(c,o[u],d);h||(f.selectWhenCompleted=function(){return!1}),f.markupGroup=i.markup,f.editState.groupId=i.markup.editState.uuid,f.editState.groupOrder=u,i.markup.markups.push(f),i.creationHandlers.push(f.creationHandler)}return delete i.markup.state.componentsState,i}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"_restoreFill",value:function(e,t,n){if(e&&t.options.fillNotAllowed)for(var r=0;r<this.numMarkups;r++)if(!(t===this.markupClasses[r]||this.markupClasses[r].options&&this.markupClasses[r].options.fillNotAllowed)){e.style[i.STYLE_PROPERTIES.FILL_OPACITY]=n[r].style[i.STYLE_PROPERTIES.FILL_OPACITY],e.style[i.STYLE_PROPERTIES.FILL_COLOR]=n[r].style[i.STYLE_PROPERTIES.FILL_COLOR];break}}},{key:"handleMouseMove",value:function(e){return this.creationHandlers[this.currentStep].handleMouseMove(e)}},{key:"handleButtonDown",value:function(e,t){return this.creationHandlers[this.currentStep].handleButtonDown(e,t)}},{key:"handleButtonUp",value:function(e,t){return this.creationHandlers[this.currentStep].handleButtonUp(e,t)}},{key:"handleDoubleClick",value:function(e,t){return this.creationHandlers[this.currentStep].handleDoubleClick(e,t)}},{key:"creationCancel",value:function(){for(u(l(t.prototype),"creationCancel",this).call(this),this.markupsExtension.markupsManager.closeActionGroup();this.currentStep-- >0;)this.markupsExtension.markupsManager.actionManager.undo(!1)}},{key:"onCreationStart",value:function(){0===this.currentStep&&(this.markupsExtension.markupsManager.openActionGroup(),this.creationStart()),this.markup.markups[this.currentStep].setVisible(!0),this.markup.markups[this.currentStep].enableEdit()}},{key:"closeGroup",value:function(){this.lastCompleted===this.currentStep&&this.markupsExtension.markupsManager.closeActionGroup(),this.lastCompleted=this.currentStep}},{key:"onCreationEnd",value:function(e){if(this.markup.markups[this.currentStep].disableEdit(),this.markup.markups[this.currentStep].complete(),this.currentStep===this.numMarkups-1)this.submitChanges(),this.creationEnd(e);else{var t=this.markup.markups[this.currentStep].getStartPointForNextMarkup();this.currentStep+=1,this.markupClasses[this.currentStep].options.requiresClick?this.creationHandlers[this.currentStep].handleClick(t):this.creationHandlers[this.currentStep].handleButtonDown(t),this.afterNextMarkupCreated(this.currentStep)}this.closeGroup()}},{key:"afterNextMarkupCreated",value:function(e){}}])&&o(n.prototype,r),s&&o(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js ***!
  \*****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=o(this,u(t).call(this,e,n,r))).measurement=new Autodesk.Viewing.MeasureCommon.Measurement(Autodesk.Viewing.MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE),i.snapper=i.markupsExtension.markupsTool.snapper,i.viewer=i.markupsExtension.viewer,i}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"getMeasureExtension",value:function(){return this.measureExtension||(this.measureExtension=this.markupsExtension.viewer.getExtension("Autodesk.Measure"),this.measureExtension||console.error("Measure extension not available!")),this.measureExtension}},{key:"handleMouseMove",value:function(e){var t=this.getEditState().anchors;return this.creationStarted||this.creationStart(),t[0]&&(this.markupsExtension.markupsTool.shiftDown&&this.viewer.impl.is2d&&this.snapPointToAxis(e,t[0],90),t[1]||this.updateViewportId(this.measurement.getPick(1).viewportIndex2d),this.pickSecondAnchor(e)),!0}},{key:"handleButtonDown",value:function(e,t){var n=this.getMeasureExtension();if((n.forceCalibrate||this.viewer.model.getData().isLeaflet||this.viewer.model.getData().isPdf)&&!n.calibrationTool.isCalibrated())return n.openCalibrationRequiredDialog("dimension"),this.markupsExtension.markupsManager.dispatchEvent({type:i.MARKUPS_EVENTS.CALIBRATION_REQUIRED}),this.creationCancel(),!0;var r=this.getEditState().anchors;if(!r[0]){if(!this.snapper.isSnapped())return!1;this.snapper.copyResults(this.measurement.getPick(1));var s=Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(),this.viewer);r[0]=this.markupsExtension.renderer.documentCameraToMarkupsCamera(s),this.updateEditStateAnchors()}return!0}},{key:"handleButtonUp",value:function(e,t){var n=this.getEditState().anchors;return n[1]?this.isSamePoint(e,n[0])?(this.creationCancel(),!1):(this.markupsExtension.markupsTool.shiftDown&&this.viewer.impl.is2d&&this.snapPointToAxis(e,n[0],90),!!this.pickSecondAnchor(e)&&(this.updateViewportId(),this.submitChanges(),this.creationEnd(e),this.markup.dimensionEditHandler&&this.markup.dimensionEditHandler.handleButtonDown(e,t),!0)):this.handleMouseMove(e,t)}},{key:"pickSecondAnchor",value:function(e){var t=this.getEditState().anchors;if(this.markupsExtension.markupsTool.shiftDown&&this.viewer.impl.is2d){var n=this.markupsExtension.renderer.worldToClient(e);this.snapper.onMouseMove({x:n.x,y:n.y})}var r=this.measurement.getPick(2),i=this.snapper.isSnapped();i?(this.snapper.copyResults(r),t[1]=Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(),this.viewer)):(t[1]=e,r.geomType=Autodesk.Viewing.MeasureCommon.SnapType.SNAP_VERTEX,r.geomVertex=e,r.intersectPoint=e),Autodesk.Viewing.MeasureCommon.correctPerpendicularPicks(this.measurement.getPick(1),this.measurement.getPick(2),this.viewer,this.snapper)&&(t[1]=Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.measurement.getPick(2),this.viewer),this.snapper.indicator.render()),i&&(t[1]=this.markupsExtension.renderer.documentCameraToMarkupsCamera(t[1]));var s=i||this.viewer.impl.is2d?this.getDistance():"";return this.updateEditState({text:s,anchors:t}),i}},{key:"creationCancel",value:function(){A(u(t.prototype),"creationCancel",this).call(this),this.updateViewportId()}},{key:"updateViewportId",value:function(e){this.viewer.model&&this.viewer.impl.is2d&&(e?(this.viewer.impl.updateViewportId(e),this.snapper.setViewportId(e)):(this.viewer.impl.updateViewportId(0),this.snapper.setViewportId(null)))}},{key:"getDistance",value:function(){var e=this.getMeasureExtension().sharedMeasureConfig;if(this.measurement.computeResult(this.measurement.picks,this.markupsExtension.viewer),this.markupsExtension.viewer.model&&this.measurement.distanceXYZ){var t=Autodesk.Viewing.Private.convertUnits(this.markupsExtension.viewer.model.getUnitString(),e.units,e.calibrationFactor,this.measurement.distanceXYZ);return Autodesk.Viewing.Private.formatValueWithUnits(t,e.units,3,e.precision)}return null}}])&&a(n.prototype,r),s&&a(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js":
/*!***************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js ***!
  \***************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ./CreationHandlerRectangle */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js"),s=n(/*! ./CreationHandlerPolyline */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js"),a=n(/*! ./CreationHandlerPolycloud */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js"),o=n(/*! ./CreationHandlerFreehand */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js"),A=n(/*! ./CreationHandlerArrow */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js"),u=n(/*! ./CreationHandlerText */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js"),l=n(/*! ./CreationHandlerDimension */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js"),c=n(/*! ./CreationHandlerArrowCallout */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js"),d=n(/*! ./CreationHandlerArrowCloudCallout */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCloudCallout.js");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,f;return t=e,f=[{key:"getCreationHandler",value:function(e,t,n){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(e){case r.MARKUP_TYPE_ARROW:case r.MARKUP_TYPE_LINE:return new A.default(t,n,h);case r.MARKUP_TYPE_RECTANGLE:case r.MARKUP_TYPE_CIRCLE:case r.MARKUP_TYPE_CLOUD:return new i.default(t,n,h);case r.MARKUP_TYPE_FREEHAND:case r.MARKUP_TYPE_HIGHLIGHT:return new o.default(t,n,h);case r.MARKUP_TYPE_POLYCLOUD:return new a.default(t,n,h);case r.MARKUP_TYPE_POLYLINE:return new s.default(t,n,h);case r.MARKUP_TYPE_CALLOUT:return new u.default(t,n,h);case r.MARKUP_TYPE_DIMENSION:return new l.default(t,n,h);case r.MARKUP_TYPE_ARROW_CALLOUT:return new c.default(t,n,h);case r.MARKUP_TYPE_ARROW_CLOUD_CALLOUT:return new d.default(t,n,h)}throw new Error("".concat(e," creation handler does not exist"))}}],(n=null)&&h(t.prototype,n),f&&h(t,f),e}()},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js ***!
  \****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"handleMouseMove",value:function(e){return 1===this.getEditState().anchors.length&&this.creationStart(),this.addPoint(e),!0}},{key:"handleButtonDown",value:function(e,t){return this.addPoint(e),!0}},{key:"handleButtonUp",value:function(e,t){return this.addPoint(e),this.submitChanges(),this.creationEnd(e),!0}},{key:"addPoint",value:function(e){var t=this.getEditState().anchors;0!==t.length&&Object(i.isEqualVectors)(e,t[t.length-1],this.markupsExtension.renderer.sizeFromClientToWorld(s.MIN_FREEHAND_POINT_DISTANCE))||(t.push(e),t=Object(i.simplify)(t,this.markupsExtension.renderer.sizeFromClientToWorld(.5),!0),this.updateEditStateAnchors(t))}},{key:"handleKeyDown",value:function(e,t){var n=this.getEditState().anchors;switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:return n.length>0&&this.creationCancel(),!0}return!1}}])&&A(n.prototype,r),a&&A(n,a),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js ***!
  \*****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){function t(){return i(this,t),a(this,o(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"beforeCreationEnd",value:function(){this.updateEditState({closed:!0}),this.submitChanges()}},{key:"getMinimumPoints",value:function(){return 3}}])&&s(n.prototype,r),u&&s(n,u),t}(n(/*! ./CreationHandlerPolyline */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js").default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js ***!
  \****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ../../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"handleMouseMove",value:function(e){var t=this.getEditState().anchors;if(this.creationStarted||this.creationStart(),t.length>0){this.popTemporaryPoint(),this.markupsExtension.markupsTool.shiftDown&&t.length>0&&this.snapPointToAxis(e,t[t.length-1],s.ROTATION_SNAP_DEGREES);var n=this.isClosingLoop(e);n||(t.push(e),this.needPop=!0),this.updateEditState({anchors:t,closed:n})}return!0}},{key:"handleButtonDown",value:function(e,t){var n=this.getEditState().anchors;return 0===n.length&&(n.push(e),this.updateEditStateAnchors()),!0}},{key:"handleButtonUp",value:function(e,t){var n=this.getEditState().anchors;this.creationStarted||this.creationStart(),this.popTemporaryPoint();var r=this.isClosingLoop(e);return(r||this.isNewLocation(e))&&(this.markupsExtension.markupsTool.shiftDown&&n.length>0&&this.snapPointToAxis(e,n[n.length-1],s.ROTATION_SNAP_DEGREES),r||n.push(e),this.updateEditState({anchors:n,closed:r}),n.length>1&&this.submitChanges(),r&&this.creationEnd(e)),!0}},{key:"beforeCreationEnd",value:function(){return!0}},{key:"handleDoubleClick",value:function(e,t){return this.getEditState().anchors.length>=this.getMinimumPoints()?(this.popTemporaryPoint(),this.beforeCreationEnd(),this.creationEnd(e)):this.markupsExtension.markupsManager.getMarkupById(this.markup.id)?this.deleteMarkup():this.creationCancel(),!0}},{key:"getMinimumPoints",value:function(){return 2}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:var n=this.getEditState().anchors;return n.length>0&&(this.popTemporaryPoint(),n.pop(),this.updateEditStateAnchors(),n.length>1?this.submitChanges():this.markupsExtension.markupsManager.getMarkupById(this.markup.id)?this.deleteMarkup():this.creationCancel()),!0;case Autodesk.Viewing.KeyCode.ESCAPE:return this.onEscape()}return!1}},{key:"onEscape",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getEditState(),n=t.anchors;return n.length>0&&(this.popTemporaryPoint(),n.length>=this.getMinimumPoints()?(e&&this.beforeCreationEnd(),this.creationEnd()):this.markupsExtension.markupsManager.getMarkupById(this.markup.id)?this.deleteMarkup():this.creationCancel(),!0)}},{key:"isClosingLoop",value:function(e){var t=this.getEditState().anchors;return t.length>2&&Object(i.isEqualVectors)(e,t[0],this.snapDistance())}},{key:"isNewLocation",value:function(e){var t=this.getEditState().anchors;return!(t.length>0&&this.isSamePoint(e,t[t.length-1]))}},{key:"popTemporaryPoint",value:function(){this.needPop&&(this.getEditState().anchors.pop(),this.needPop=!1,this.updateEditStateAnchors())}}])&&A(n.prototype,r),a&&A(n,a),t}(r.default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js ***!
  \*****************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){function t(){return i(this,t),a(this,o(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"handleMouseMove",value:function(e){var t=this.getEditState().anchors;return t[0]&&(this.creationStarted||this.creationStart(),this.updateRectPoints(t,e)),!0}},{key:"updateRectPoints",value:function(e,t){this.markupsExtension.markupsTool.shiftDown&&this.snapPointToAxis(t,e[0],90,45);var n=this.markupsExtension.renderer.getCameraRightVector(),r=this.markupsExtension.renderer.getCameraUpVector();e[2]=t;var i=e[2].clone().sub(e[0]),s=i.dot(n);e[1]=e[0].clone().add(n.multiplyScalar(s));var a=i.dot(r);e[3]=e[0].clone().add(r.multiplyScalar(a)),this.updateEditStateAnchors()}},{key:"handleButtonDown",value:function(e,t){var n=this.getEditState().anchors;return n[0]||(n[0]=e,this.updateEditStateAnchors()),!0}},{key:"handleButtonUp",value:function(e,t){var n=this.getEditState().anchors;return n[1]?this.isSamePoint(e,n[0])?(this.creationCancel(),!1):(this.updateRectPoints(n,e),this.submitChanges(),this.creationEnd(e),!0):this.handleMouseMove(e,t)}}])&&s(n.prototype,r),u&&s(n,u),t}(n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js").default)},"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js":
/*!************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js ***!
  \************************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./CreationHandler */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js"),i=n(/*! ../../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return a(this,t),A(this,u(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"calculateAnchorsByCenterPoint",value:function(e){var t=this.getEditState(),n=t.anchors,r=t.text,s=this.markupsExtension.renderer.getCameraRightVector(),a=this.markupsExtension.renderer.getCameraUpVector(),o=this.markup.getTextStyle(),A=Object(i.getTextSize)(r,o),u=this.markupsExtension.renderer.getFontToWorldScale(),l=Math.ceil(A.width)*u,c=A.height*u;n[0]=e.clone().sub(a.clone().multiplyScalar(c/2)).sub(s.clone().multiplyScalar(l/2)),n[1]=n[0].clone().add(s.multiplyScalar(l)),n[2]=n[1].clone().add(a.clone().multiplyScalar(c)),n[3]=n[0].clone().add(a.clone().multiplyScalar(c))}},{key:"handleButtonDown",value:function(e,t){return!0}},{key:"handleButtonUp",value:function(e,t){return!this.didMouseMove()&&this.handleClick(e,t)}},{key:"handleClick",value:function(e,t){return this.calculateAnchorsByCenterPoint(e),this.creationStart(),this.updateEditStateAnchors(),this.submitChanges(),this.creationEnd(e),Autodesk.Viewing.isIOSDevice()||this.markup.textInputHandler.startTextEditing(!0),!0}}])&&o(n.prototype,r),s&&o(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js":
/*!********************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js ***!
  \********************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),i=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(this,t),A(this,u(t).call(this,e,n,r))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"handleMouseMove",value:function(e){return this.translating&&this.handleMouseTranslation(e),this.translating}},{key:"handleButtonDown",value:function(e,t){if(!this.translating){if(this.translating=this.intersect(e),this.translating){var n=this.markup.getAnchors(),r=n[1].clone().sub(n[0]).normalize(),i=this.markupsExtension.renderer.getCameraEyeVector();this.normal=r.clone().cross(i).normalize(),this.editStart()}return this.translating}return!0}},{key:"getPointOnNormal",value:function(e){var t=this.markup.getAnchors(),n=t[0].clone().add(this.normal);return Object(i.nearestPointInPointToLine)(e,t[0],n)}},{key:"handleButtonUp",value:function(e,t){if(this.translating){var n=this.getPointOnNormal(e);return Object(i.isEqualVectors)(n,this.lastTranslationPoint,this.getMinChangeDistanceWorld())?this.cancelTransformEditing():this.lastTranslationPoint&&(this.submitChanges(),this.editEnd()),this.translating=!1,this.lastTranslationPoint=null,!0}return!1}},{key:"handleDoubleClick",value:function(e,t){return this.translating}},{key:"getCursor",value:function(){return"move"}},{key:"cancelTransformEditing",value:function(){this.markup.syncEditState(),this.translating=!1,this.lastTranslationPoint=null,this.editEnd()}},{key:"handleMouseTranslation",value:function(e){var t=this.getPointOnNormal(e);this.lastTranslationPoint||(this.lastTranslationPoint=t);var n=t.clone().sub(this.lastTranslationPoint).clone().add(this.markup.state.translation);this.updateEditState({translation:n})}},{key:"intersect",value:function(e){e=e.clone(),this.markup.applyInverseRotation(e);var t=this.markupsExtension.renderer.worldToClient(e);return this.markup.getClientBoundingBox(!0).containsPoint(t)}},{key:"isDragging",value:function(){return this.translating}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:if(this.translating)return this.cancelTransformEditing(),!0}return!1}}])&&o(n.prototype,r),s&&o(n,s),t}(r.default)},"./extensions/BimMarkups/EditHandlers/EditHandler.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/EditHandler.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../Actions/AddMarkupAction */"./extensions/BimMarkups/Actions/AddMarkupAction.js"),a=n(/*! ../Actions/UpdateMarkupAction */"./extensions/BimMarkups/Actions/UpdateMarkupAction.js"),o=n(/*! ../Actions/DeleteMarkupAction */"./extensions/BimMarkups/Actions/DeleteMarkupAction.js"),A=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),u=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),l=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=Autodesk.Viewing,f=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.setGlobalManager(t.globalManager),this.markupsExtension=t,this.viewer=t.viewer,this.markup=n,this.options=r}var t,n,h;return t=e,(n=[{key:"getEditState",value:function(){return this.markup.getEditState()}},{key:"setEditState",value:function(e,t){this.markup.setEditState(e,t,this)}},{key:"getAnchors",value:function(){return this.getEditState().anchors}},{key:"updateEditState",value:function(e){this.setEditState(this.getEditState(),e)}},{key:"updateEditStateAnchors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getEditState().anchors;this.updateEditState({anchors:e})}},{key:"handleCompensation",value:function(){if(this.markup.layer){var e=this.markup.getAnchors();this.prevCenter||(this.prevCenter=this.markup.center.clone());var t=this.markup.center.clone().sub(this.prevCenter);e.forEach((function(e){e.sub(t)})),t.applyMatrix4(this.markup.scaleMatrix);var n=this.markup.getRotation();if(0!==n){var i=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(t,n,new THREE.Vector3,i)}t.add(this.markup.editState.translation),this.updateEditState({anchors:e,translation:t}),this.prevCenter.copy(this.markup.center)}}},{key:"submitChanges",value:function(e){var t;if(this.markup.layer){if(this.markup.belongsToGroup())return void this.submitGroupUpdate(e);t=new a.default(this.markupsExtension.markupsManager,this.markup,this.getEditState())}else{var n=this.markupsExtension.markupsManager.getActiveLayer();this.markup.syncState(),t=new s.default(this.markupsExtension.markupsManager,this.markup,n)}t.isDuringEdit=e,t.execute()}},{key:"submitGroupUpdate",value:function(e){var t=this,n=this.markup.markupGroup.markups,r=this.markupsExtension.markupsManager.isActionGroupOpen();r||this.markupsExtension.markupsManager.openActionGroup(),n.forEach((function(r,i){var s=new a.default(t.markupsExtension.markupsManager,r,r.getEditState());s.isDuringEdit=i<n.length-1||e,s.execute()})),r||this.markupsExtension.markupsManager.closeActionGroup()}},{key:"deleteMarkup",value:function(){new o.default(this.markupsExtension.markupsManager,this.markup).execute()}},{key:"changeStyleProperty",value:function(e,t,n){var r=i.default.cloneDeep(this.getEditState());r.style[e]=t,this.updateEditState({style:Object.assign({},r.style)}),n||(this.submitChanges(!0),this.editEnd(!0))}},{key:"snapPointToAxis",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!Object(u.isEqualVectors)(e,t)){var s=this.markupsExtension.renderer.worldToClient(e),a=this.markupsExtension.renderer.worldToClient(t),o=s.clone().sub(a).normalize(),A=r.default.getSignedAngle(this.markupsExtension.renderer.absoluteUpVec,o,this.markupsExtension.renderer.getCameraEyeVector()),l=A+r.default.degreesToRadians(i),c=r.default.degreesToRadians(n),d=Math.ceil((l-r.default.degreesToRadians(n/2))/c)*c,h=new THREE.Vector3(0,0,-1),f=s.clone();r.default.applyRotation(f,d-l,a,h);var p=f.clone().sub(a).normalize(),E=s.clone().sub(a).dot(p),m=a.add(p.multiplyScalar(E));e.copy(this.markupsExtension.renderer.clientToWorld(m))}}},{key:"getSnappedPosition",value:function(){return this.markupsExtension.markupsTool.isSnappingAllowed()?this.markupsExtension.markupsTool.getSnappedPosition():this.markupsExtension.markupsTool.lastMousePos}},{key:"didMouseMove",value:function(){return this.markupsExtension.markupsTool.mouseMoved}},{key:"getTouchRadiusWorld",value:function(){return this.markupsExtension.renderer.sizeFromClientToWorld(l.TOUCH_RADIUS)}},{key:"getMinChangeDistanceWorld",value:function(){return this.markupsExtension.renderer.sizeFromClientToWorld(l.MIN_CHANGE_DISTANCE)}},{key:"snapDistance",value:function(){return this.markupsExtension.renderer.sizeFromClientToWorld(l.SNAP_DISTANCE)}},{key:"intersect",value:function(e){return null}},{key:"getCursor",value:function(){return"crosshair"}},{key:"isDragging",value:function(){return!1}},{key:"editStart",value:function(){this.markupsExtension.markupsManager.dispatchEvent({type:A.MARKUPS_EVENTS.MARKUP_EDIT_START,markup:this.markup,handler:this})}},{key:"editEnd",value:function(e){this.markupsExtension.markupsManager.dispatchEvent({type:A.MARKUPS_EVENTS.MARKUP_EDIT_END,markup:this.markup,isDuringEdit:e,handler:this})}},{key:"isSamePoint",value:function(e,t){return Object(u.isEqualVectors)(e,t,this.getMinChangeDistanceWorld())}},{key:"isSamePointClient",value:function(e,t){return Object(u.isEqualVectors)(e,t,l.MIN_CHANGE_DISTANCE)}},{key:"handleDoubleClick",value:function(e,t){}},{key:"handleButtonDown",value:function(e,t){}},{key:"handleButtonUp",value:function(e,t){}},{key:"handleKeyDown",value:function(e,t){}},{key:"handleKeyUp",value:function(e,t){}},{key:"handleMouseMove",value:function(e){}},{key:"handleGesture",value:function(e){}},{key:"handleResize",value:function(){}},{key:"destroy",value:function(){this.markupsExtension=null,this.viewer=null,this.markup=null}}])&&d(t.prototype,n),h&&d(t,h),e}();h.GlobalManagerMixin.call(f.prototype)},"./extensions/BimMarkups/EditHandlers/RectSelector.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/RectSelector.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,t),(n=o(this,A(t).call(this,e,null,i))).bounds=new THREE.Box3,n.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,n.clean.bind(u(n))),n}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"handleMouseMove",value:function(e){var t=this;return!!(this.buttonDownPoint&&this.markupsExtension.markupsTool.dragging&&this.didMouseMove())&&(this.bounds.makeEmpty(),this.bounds.expandByVector(new THREE.Vector3(0,0,1/0)),this.bounds.expandByPoint(e),this.bounds.expandByPoint(this.buttonDownPoint),this.markupsExtension.markupsManager.getEnabledMarkups().filter((function(e){return!e.isSelected()})).forEach((function(e){var n=e.getWorldBoundingBox(!0);t.bounds.isIntersectionBox(n)&&e.setHover(!0)})),this.markupsExtension.markupsManager.dispatchEvent({type:r.MARKUPS_EVENTS.RECT_SELECTOR_UPDATED,bounds:this.bounds}),!0)}},{key:"clean",value:function(){this.buttonDownPoint=null,this.bounds.makeEmpty(),this.markupsExtension.markupsManager.dispatchEvent({type:r.MARKUPS_EVENTS.RECT_SELECTOR_UPDATED,bounds:this.bounds})}},{key:"handleButtonDown",value:function(e,t){return this.clean(),this.buttonDownPoint=e,!0}},{key:"handleButtonUp",value:function(e,t){return this.selectMarkups(),this.clean(),!1}},{key:"selectMarkups",value:function(){var e=this;this.markupsExtension.markupsTool.shiftDown||this.markupsExtension.markupsManager.deselectAllMarkups(),this.markupsExtension.markupsManager.getEnabledMarkups().filter((function(e){return!e.isSelected()})).forEach((function(t){var n=t.getWorldBoundingBox(!0);e.bounds.isIntersectionBox(n)&&t.select()}))}}])&&a(n.prototype,i),c&&a(n,c),t}(n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js").default)},"./extensions/BimMarkups/EditHandlers/RotationHandler.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/RotationHandler.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(i=[{key:"handleMouseMove",value:function(e){return this.rotating&&this.handleRotation(e),this.rotating}},{key:"handleButtonDown",value:function(e,t){return this.rotating||(this.rotating=this.intersect(e),this.rotating&&(this.originalRotation=this.markup.getRotation(),this.handleRotation(e),this.editStart())),this.rotating}},{key:"handleButtonUp",value:function(e,t){return!!this.rotating&&(this.rotating=!1,Math.abs(this.originalRotation-this.markup.getRotation())<s.MIN_ANGLE_CHANGE?this.cancelTransformEditing():(this.submitChanges(),this.editEnd()),this.originalRotation=null,!0)}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:if(this.rotating)return this.cancelTransformEditing(),!0}return!1}},{key:"handleKeyUp",value:function(e,t){return!1}},{key:"handleDoubleClick",value:function(e,t){return this.rotating}},{key:"getCursor",value:function(){return"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5tb3VzZSBjdXJzb3Ivcm90YXRlPC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBhdGggZD0iTTMsOCBMMSw4IEw0LDQgTDcsOCBMNSw4IEM1LDEwLjQ4NTI4MTQgNy41MTQ3MTg2MywxMyAxMCwxMyBDMTIuNDg1MjgxNCwxMyAxNSwxMC40ODUyODE0IDE1LDggTDEzLDggTDE2LDQgTDE5LDggTDE3LDggQzE3LDExLjU4OTg1MDkgMTMuNTg5ODUwOSwxNSAxMCwxNSBDNi40MTAxNDkxMywxNSAzLDExLjU4OTg1MDkgMyw4IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4gICAgICAgIDxmaWx0ZXIgeD0iLTMzLjMlIiB5PSItNjkuNyUiIHdpZHRoPSIxNjYuNyUiIGhlaWdodD0iMTk3LjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+ICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjEiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9Ii0yIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4gICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+ICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb21wb3NpdGU+ICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuNSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+ICAgICAgICA8L2ZpbHRlcj4gICAgPC9kZWZzPiAgICA8ZyBpZD0ibW91c2UtY3Vyc29yL3JvdGF0ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMDAwMDAwLCA5LjUwMDAwMCkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTEwLjAwMDAwMCwgLTkuNTAwMDAwKSAiPiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPHBhdGggc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjEiIGQ9Ik0yLjUyMDExNDgzLDguNSBMMy40MjUyNjAwOGUtMTIsOC41IEw0LDMuMTY2NjY2NjcgTDgsOC41IEw1LjUzODA0MjA3LDguNSBDNS44NDQ5MzkyOCwxMC41NDE1MjMyIDcuOTU3NDAyMDYsMTIuNSAxMCwxMi41IEMxMi4wNDI1OTc5LDEyLjUgMTQuMTU1MDYwNywxMC41NDE1MjMyIDE0LjQ2MTk1NzksOC41IEwxMiw4LjUgTDE2LDMuMTY2NjY2NjcgTDIwLDguNSBMMTcuNDc5ODg1Miw4LjUgQzE3LjE4NTI0NywxMi4xNzM1MTU3IDEzLjY5ODgwMSwxNS41IDEwLDE1LjUgQzYuMzAxMTk5MDIsMTUuNSAyLjgxNDc1MzAzLDEyLjE3MzUxNTcgMi41MjAxMTQ4Myw4LjUgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=) 10 10, auto"}},{key:"cancelTransformEditing",value:function(){this.markup.syncEditState(),this.rotating=!1,this.editEnd()}},{key:"handleRotation",value:function(e){var t=this.markupsExtension.renderer.worldToClient(e),n=this.markup.getClientCenter(),i=t.clone().sub(n).normalize(),a=r.default.getSignedAngle(i,this.markupsExtension.renderer.getCameraUpVector(),this.markupsExtension.renderer.getCameraEyeVector());if(this.markupsExtension.markupsTool.shiftDown){var o=r.default.degreesToRadians(s.ROTATION_SNAP_DEGREES);a=Math.ceil((a-r.default.degreesToRadians(s.ROTATION_SNAP_DEGREES/2))/o)*o}this.updateEditState({rotation:a})}},{key:"getRotationAnchor",value:function(){var e=this.markup.getClientBoundingBox(!0),t=e.center().add(new THREE.Vector3(0,s.ROTATION_ANCHOR_DISTANCE+e.size().y/2,0)),n=e.center(),i=this.markup.getRotation()+this.markupsExtension.renderer.getCameraRotation();return r.default.applyRotation(t,i,n,this.markupsExtension.renderer.absoluteEyeVec),t}},{key:"intersect",value:function(e){e=e.clone();var t=this.markupsExtension.renderer.worldToClient(e);return this.getRotationAnchor().distanceTo(t)<=s.TOUCH_RADIUS}},{key:"isDragging",value:function(){return this.rotating}}])&&A(n.prototype,i),a&&A(n,a),t}(i.default)},"./extensions/BimMarkups/EditHandlers/ScaleHandler.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/ScaleHandler.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),s=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),a=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return A(this,t),l(this,c(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(i=[{key:"handleMouseMove",value:function(e){if(this.scaling){var t=e.clone();this.markup.applyInverseRotation(t),this.markup.applyInverseCameraRotation(t),this.handleScaling(t)}return this.scaling}},{key:"handleButtonDown",value:function(e,t){return this.scaling||(this.scaleAnchor=this.intersect(e),this.scaling=!!this.scaleAnchor,this.scaling&&(this.originalPoint=e.clone(),this.editStart())),this.scaling}},{key:"handleButtonUp",value:function(e,t){return!!this.scaling&&(this.scaleAnchor=null,this.scaling=!1,this.isSamePoint(e,this.originalPoint)?this.cancelTransformEditing():(this.submitChanges(),this.editEnd()),!0)}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:if(this.scaling)return this.cancelTransformEditing(),!0}return!1}},{key:"handleDoubleClick",value:function(e,t){return this.scaling}},{key:"getCursor",value:function(){if(this.cursor&&this.scaling)return this.cursor;var e=this.markup.getClientCenter(),t=this.lastIntersectPoint.clone().sub(e).normalize(),n=new THREE.Vector3(1,0,0),i=this.lastIntersectPoint.y<e.y?1:-1,s=r.default.radiansToDegrees(t.angleTo(n))*i,a=45*Math.ceil((s-22.5)/45);switch(this.cursor=null,a){case 180:case-180:case 0:this.cursor="ew-resize";break;case 90:case-90:this.cursor="ns-resize";break;case 135:case-45:this.cursor="nwse-resize";break;case-135:case 45:this.cursor="nesw-resize"}return this.cursor}},{key:"cancelTransformEditing",value:function(){this.markup.syncEditState(),this.scaleAnchor=null,this.scaling=!1,this.editEnd()}},{key:"handleScaling",value:function(e){var t=this,n=this.markupsExtension.renderer.worldToClient(e);this.originalBoundingBox=r.default.swapBoundingBoxY(this.markup.getWorldBoundingBox().clone()),this.scaleAnchor.axisList.forEach((function(e){var r=t.getAnchorPosByAxisList([e],!1),i=n.clone().sub(e.clone().multiplyScalar(t.markup.getMarginSize()));t.resize(i,r,e)})),this.updateTranslation()}},{key:"updateTranslation",value:function(){var e=this.scaleAnchor.axisList.reduce((function(e,t){return e.clone().add(t)})),t=r.default.swapBoundingBoxY(this.markup.getWorldBoundingBox().clone()).size().sub(this.originalBoundingBox.size()).multiply(e).multiplyScalar(.5),n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(t,this.markup.getRotation(),new THREE.Vector3,n);var i=t.add(this.markup.editState.translation);this.updateEditState({translation:i}),this.originalBoundingBox=r.default.swapBoundingBoxY(this.markup.getWorldBoundingBox().clone())}},{key:"resize",value:function(e,t,n,r){var i=t.clone().add(n),a=Object(s.nearestPointInPointToLine)(e,t,i),o=this.markup.getClientBoundingBox(!1),A=this.getOppositePoint(t,o),u=a.clone().sub(A),l=n.clone().multiply(u),c=o.size().multiply(n).length(),d=u.length();if(r||!(d<this.markup.getMinimumSize())){if(!r&&l.x+l.y<0){var h=A.clone().add(n);return this.resize(h,t,n,!0),this.updateTranslation(),n.negate(),this.applyReflection(n),void this.resize(e,h,n,!0)}var f=d/c-1,p=(this.markupsExtension.markupsTool.shiftDown?new THREE.Vector3(1,1,0):new THREE.Vector3(Math.abs(n.x),Math.abs(n.y),Math.abs(n.z))).clone().multiplyScalar(f).addScalar(1).clone().multiply(this.markup.editState.scale);this.updateEditState({scale:p})}}},{key:"intersect",value:function(e){var t=this.getScaleAnchors(),n=e.clone();this.markup.applyInverseRotation(n),this.markup.applyInverseCameraRotation(n);var r=this.markupsExtension.renderer.worldToClient(n);return this.lastIntersectPoint=r,t.find((function(e){return e.pos.distanceTo(r)<=a.TOUCH_RADIUS}))}},{key:"isDragging",value:function(){return this.scaling}},{key:"getOppositePoint",value:function(e,t){var n=t.center(),r=e.clone().distanceTo(n),i=e.clone().sub(n).normalize();return e.clone().sub(i.multiplyScalar(2*r))}},{key:"applyReflection",value:function(e){var t=new THREE.Vector3(1,1,1).sub(e.clone().multiply(e).multiplyScalar(2)),n=this.markup.editState.scale.clone();n.multiply(t),this.updateEditState({scale:n})}},{key:"getScaleAnchors",value:function(){return this.getEditState().anchors.length<2?[]:this.options.onlyHorizontal?[this.getEastAnchor(),this.getWestAnchor()]:[this.getEastAnchor(),this.getWestAnchor(),this.getNorthAnchor(),this.getSouthAnchor(),this.getNorthWestAnchor(),this.getSouthWestAnchor(),this.getNorthEastAnchor(),this.getSouthEastAnchor()]}},{key:"getAnchorPosByAxisList",value:function(e,t){var n=this.markup.getClientBoundingBox(t),r=n.center();return e.forEach((function(e){var t=e.clone().multiply(n.size().multiplyScalar(.5));r.add(t)})),r}},{key:"getAnchor",value:function(e,t){return{pos:this.getAnchorPosByAxisList(e,!this.markup.belongsToGroup()),axisList:e,id:t}}},{key:"getNorthAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,1,0)],"n")}},{key:"getSouthAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,-1,0)],"s")}},{key:"getEastAnchor",value:function(){return this.getAnchor([new THREE.Vector3(1,0,0)],"e")}},{key:"getWestAnchor",value:function(){return this.getAnchor([new THREE.Vector3(-1,0,0)],"w")}},{key:"getNorthWestAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,1,0),new THREE.Vector3(-1,0,0)],"nw")}},{key:"getSouthWestAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,-1,0),new THREE.Vector3(-1,0,0)],"sw")}},{key:"getNorthEastAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,1,0),new THREE.Vector3(1,0,0)],"ne")}},{key:"getSouthEastAnchor",value:function(){return this.getAnchor([new THREE.Vector3(0,-1,0),new THREE.Vector3(1,0,0)],"se")}}])&&u(n.prototype,i),o&&u(n,o),t}(i.default)},"./extensions/BimMarkups/EditHandlers/SelectionHandler.js":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/SelectionHandler.js ***!
  \****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){function t(){return i(this,t),a(this,o(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"getCursor",value:function(){return"pointer"}},{key:"intersect",value:function(e){return this.markup.intersect(e)}},{key:"handleMouseMove",value:function(e){if(this.markupsExtension.markupsTool.dragging||Autodesk.Viewing.isMobileDevice())return!1;var t=this.markup.intersect(e);return t&&(this.markup.layer===this.markupsExtension.markupsManager.getActiveLayer()?this.markup.setHover(!0):this.markup.layer.setHover(!0)),t}},{key:"handleDoubleClick",value:function(e,t){return!this.didMouseMove()&&!!this.markup.intersect(e)&&(this.markupsExtension.markupsManager.isMarkupSessionOpen()||this.markup.layer===this.markupsExtension.markupsManager.getActiveLayer()||this.markupsExtension.markupsManager.editLayer(this.markup.layer,!1,!1,!1),this.markupsExtension.markupsTool.shiftDown||this.markupsExtension.markupsTool.ctrlDown||this.markupsExtension.markupsManager.deselectAllMarkups([this.markup]),this.markup.select(),!0)}},{key:"handleButtonDown",value:function(e,t){return!1}},{key:"handleButtonUp",value:function(e,t){return!this.didMouseMove()&&!!this.markup.intersect(e)&&(this.markupsExtension.markupsManager.deselectAllLayers([this.markup.layer]),this.markupsExtension.markupsManager.selectLayer(this.markup.layer,!1,!1),this.markupsExtension.markupsManager.isMarkupSessionOpen()&&(this.markupsExtension.markupsTool.shiftDown||this.markupsExtension.markupsTool.ctrlDown||this.markupsExtension.markupsManager.deselectAllMarkups([this.markup]),this.markup.select()),!0)}}])&&s(n.prototype,r),u&&s(n,u),t}(n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js").default)},"./extensions/BimMarkups/EditHandlers/TextInputHandler.js":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/TextInputHandler.js ***!
  \****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/ActionManager/ActionManager */"./extensions/BimMarkups/Utils/ActionManager/ActionManager.js"),s=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),a=n(/*! ../ThirdParty/textarea-caret/textarea-caret */"./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js"),o=n.n(a),A=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),u=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),l=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),c=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),d=n(/*! ../EditHandlers/RotationHandler */"./extensions/BimMarkups/EditHandlers/RotationHandler.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}(this,p(t).call(this,e,n,r))).polyFillIE(),i.textboxActive=!1,i.submitChangesDebounced=s.default.debounce(i.options.submitChanges||i.submitChanges,c.TEXT_DEBOUNCE),Autodesk.Viewing.isIOSDevice()&&(i.onMarkupEditEnabledBinded=i.onMarkupEditEnabled.bind(E(i)),i.onMarkupEditDisabledBinded=i.onMarkupEditDisabled.bind(E(i)),i.onMarkupEditStartBinded=i.onMarkupEditStart.bind(E(i)),i.onMarkupEditEndBinded=i.onMarkupEditEnd.bind(E(i)),i.onTouchEndBinded=i.onTouchEnd.bind(E(i)),i.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_ENABLE_EDIT,i.onMarkupEditEnabledBinded),i.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_DISABLE_EDIT,i.onMarkupEditDisabledBinded)),i}var n,a,A;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(a=[{key:"intersect",value:function(e){if(!this.markup.isTextMarkup())return!1;e=e.clone(),this.markup.applyInverseRotation(e),this.markup.applyInverseCameraRotation(e);var t=this.markupsExtension.renderer.worldToClient(e);return this.markup.getClientBoundingBox(!0).containsPoint(t)}},{key:"updateCaretPosition",value:function(){var e=this.markupsExtension.renderer.textRenderer.getLabel(this.markup),t=this.getUpdatedCaretPosition(e);0===t.start&&0===t.end||(this.lastCaretPosition=t)}},{key:"getCursor",value:function(){return"pointer"}},{key:"handleDoubleClick",value:function(e,t){if(Autodesk.Viewing.isIOSDevice())return!1;if(this.intersect(e)){var n=this.markupsExtension.renderer.textRenderer.getLabel(this.markup);return this.lastCaretPosition={start:n.innerText.length,end:n.innerText.length},this.startTextEditing(),!0}return!1}},{key:"handleButtonDown",value:function(e){return this.textboxActive?(this.submitChangesDebounced.flush(),this.endTextEditing(),!0):this.isEmpty()}},{key:"handleButtonUp",value:function(e){return!!this.isEmpty()&&(this.onEmptyTextMarkup(),!0)}},{key:"isEmpty",value:function(){return""===this.markup.editState.text.trim()}},{key:"onEmptyTextMarkup",value:function(){this.options.onEmptyTextMarkup?(this.textboxActive=!1,this.options.onEmptyTextMarkup()):this.deleteEmptyTextMarkup()}},{key:"deleteEmptyTextMarkup",value:function(){this.textboxActive=!1,this.markupsExtension.markupsManager.actionManager.undo(),this.markupsExtension.markupsManager.deleteMarkup(this.markup)}},{key:"onCameraChanged",value:function(e){this.markupsExtension.renderer.textRenderer.getLabel(this.markup).focus()}},{key:"startTextEditing",value:function(e){var t=this,n=this.markupsExtension.renderer.textRenderer.getLabel(this.markup);if(this.label=n,n){this.textboxActive=!0,n.style.position="fixed",n.setAttribute("contenteditable",!0),n.style.webkitUserSelect="text",n.style.userSelect="text",n.style.pointerEvents="auto",n.setAttribute("spellcheck",!1),this.setCaretPosition(n),n.blur(),n.focus();var r=this.getDocument();e&&r.execCommand("selectAll",!1,null),this.onCameraChanged=function(){n.focus()};var a=Autodesk.Viewing.isSafari()||Autodesk.Viewing.isIOSDevice();this.onCameraChangedDebounced=s.default.debounce(this.onCameraChanged,5),a&&this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedDebounced),this.onKeyDown=function(e){n.focus();var r=n.getBoundingClientRect(),i=t.markupsExtension.viewer.impl.getCanvasBoundingClientRect(),s=t.markup.getTextStyle(),A=Object(l.getTextSize)("AA",s),u=t.markupsExtension.renderer.getFontToWorldScale(),d=t.markupsExtension.renderer.sizeFromWorldToClient(u),h=function(){return r.bottom+A.height*d>i.bottom-30},f=t.getWindow();switch(e.keyCode){case Autodesk.Viewing.KeyCode.ESCAPE:t.submitChangesDebounced.flush(),t.endTextEditing(),t.textboxActive=!0;break;case Autodesk.Viewing.KeyCode.ENTER:a&&h()||t.options.singleLine?e.preventDefault():f.getSelection().anchorNode.firstChild&&"BR"===f.getSelection().anchorNode.firstChild.tagName||0===f.getSelection().anchorOffset?(e.preventDefault(),Autodesk.Viewing.isIE11&&(t.enterPressed=!0)):t.enterPressed=!0;break;case Autodesk.Viewing.KeyCode.BACKSPACE:t.backspacePressed=!0;break;default:a&&(function(){var e=t.getUpdatedCaretPosition(n),s=t.getWindow().getSelection().anchorNode.parentElement;s.value=s.innerText;var a=o()(s,e.end);return r.left+(a.left+A.width*d)>i.right-30}()?h()||t.options.singleLine?e.preventDefault():r.right<i.right?t.addNewline=!0:e.preventDefault():h()&&e.preventDefault())}var p=t.lastCaretPosition.end-t.lastCaretPosition.start;!e.metaKey&&e.keyCode>47&&n.innerText.length-p>c.TEXT_LENGTH_LIMIT&&e.preventDefault(),Autodesk.Viewing.isIE11&&t.onInput(!0)},this.onKeyUp=function(){t.onInput(!0)},this.onInput=function(e){n.innerText||(n.innerText=Autodesk.Viewing.isIE11?" ":String.fromCharCode(10)),t.lastCaretPosition=t.getUpdatedCaretPosition(n);var r=n.innerText;t.addNewline&&(r+="\r\n"),Autodesk.Viewing.isIE11&&!0===e&&(r=r.replace(/(\r\n){2,}/g,"\r\n"),t.enterPressed&&(r+="\r\n\r\n")),t.options.singleLine||t.expandBoundingBox(r),t.updateEditState({text:r}),t.submitChangesDebounced(),t.enterPressed=!1,t.addNewline=!1,t.backspacePressed=!1},this.onPaste=function(e){e.preventDefault();var r=t.getWindow(),i=t.getDocument(),s=e.clipboardData&&e.clipboardData.getData("text")||r.clipboardData&&r.clipboardData.getData&&r.clipboardData.getData("Text");if(s){var a=t.lastCaretPosition.end-t.lastCaretPosition.start,o=c.TEXT_LENGTH_LIMIT+a-n.innerText.length;if(s.length>o&&(s=s.substr(0,o)+"…"),Autodesk.Viewing.isIE11){var A=r.getSelection(),u=A.getRangeAt(0),l=i.createDocumentFragment();l.appendChild(i.createElement("br"));var d=i.createElement("span");d.innerText=s,l.appendChild(d),u.insertNode(l),u.selectNodeContents(d),A.removeAllRanges(),A.addRange(u),i.execCommand("ms-endUndoUnit",!1,null)}else i.execCommand("insertText",!1,s)}},this.onMouseWheel=function(e){var n=new MouseEvent(e.type,e);n.wheelDelta=e.wheelDelta,n.deltaY=e.deltaY,t.markupsExtension.viewer.toolController.domElement.dispatchEvent(n),n.defaultPrevented&&e.preventDefault()},this.onDOMMouseScroll=function(e){var n=new MouseEvent(e.type,e);n.wheelDelta=e.wheelDelta,n.deltaY=e.deltaY,t.markupsExtension.viewer.toolController.domElement.dispatchEvent(n),n.defaultPrevented&&e.preventDefault()},this.onMouseMove=function(e){var n=new MouseEvent(e.type,e);t.markupsExtension.viewer.toolController.domElement.dispatchEvent(n),n.defaultPrevented&&e.preventDefault()},n.addEventListener("keydown",this.onKeyDown),n.addEventListener("keypress",this.onKeyPress),n.addEventListener("input",this.onInput),n.addEventListener("paste",this.onPaste),Autodesk.Viewing.isIE11&&n.addEventListener("keyup",this.onKeyUp),n.addEventListener("mousewheel",this.onMouseWheel),n.addEventListener("DOMMouseScroll",this.onDOMMouseScroll),n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mouseup",(function(){setTimeout((function(){t.lastCaretPosition=t.getUpdatedCaretPosition(n)}),25)})),n.addEventListener("touchend",(function(){setTimeout((function(){t.lastCaretPosition=t.getUpdatedCaretPosition(n)}),25)})),this.onHistoryChangedBinded=this.onHistoryChanged.bind(this),this.endTextEditingBinded=this.endTextEditing.bind(this),this.onStyleChangedBinded=this.onStyleChanged.bind(this),this.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_DISABLE_EDIT,this.endTextEditingBinded,{once:!0}),this.markupsExtension.markupsManager.addEventListener(i.default.HISTORY_CHANGED_EVENT,this.onHistoryChangedBinded),this.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_STYLE_PROPERTY_CHANGED,this.onStyleChangedBinded),this.markupsExtension.markupsManager.dispatchEvent({type:u.MARKUPS_EVENTS.TEXT_EDITING_STARTED})}}},{key:"removeSelection",value:function(){this.getWindow().getSelection().removeAllRanges(),this.label.style.position="absolute",this.label.style.pointerEvents="none",this.label.setAttribute("contenteditable",!1),this.label.style.webkitUserSelect="none",this.label.style.userSelect="none"}},{key:"setCaretPosition",value:function(e){this.lastCaretPosition||(this.lastCaretPosition={start:0,end:e.innerText.length});var t=this.getWindow(),n=this.getDocument().createRange(),r=t.getSelection(),i=Math.min(this.lastCaretPosition.start,e.childNodes[0].length),s=Math.min(this.lastCaretPosition.end,e.childNodes[0].length);n.setStart(e.childNodes[0],i),n.setEnd(e.childNodes[0],s),r.removeAllRanges(),r.addRange(n)}},{key:"getUpdatedCaretPosition",value:function(e){var t,n,r={start:0,end:0},i=this.getWindow();return i.getSelection?(t=i.getSelection()).rangeCount&&((n=t.getRangeAt(0)).commonAncestorContainer.parentNode===e||n.commonAncestorContainer.parentNode.parentNode===e)&&(r={start:n.startOffset,end:n.endOffset}):r={start:e.innerText.length,end:e.innerText.length},r}},{key:"onHistoryChanged",value:function(e){var t=this;e.actionGroup.forEach((function(e){e.trigger!==i.default.UNDO&&e.trigger!==i.default.REDO||t.markupsExtension.renderer&&t.markupsExtension.renderer.textRenderer.getLabel(t.markup)&&t.endTextEditing()}))}},{key:"endTextEditing",value:function(){if(this.textboxActive&&this.markupsExtension.renderer){var e=this.markupsExtension.renderer.textRenderer.getLabel(this.markup);e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("input",this.onInput),e.removeEventListener("paste",this.onPaste),Autodesk.Viewing.isIE11&&e.removeEventListener("keyup",this.onKeyUp),e.removeEventListener("mousewheel",this.onMouseWheel),e.removeEventListener("DOMMouseScroll",this.onDOMMouseScroll),e.removeEventListener("mousemove",this.onMouseMove),this.markupsExtension.markupsManager.removeEventListener(u.MARKUPS_EVENTS.MARKUP_DISABLE_EDIT,this.endTextEditingBinded),this.markupsExtension.markupsManager.removeEventListener(i.default.HISTORY_CHANGED_EVENT,this.onHistoryChangedBinded),this.markupsExtension.markupsManager.removeEventListener(u.MARKUPS_EVENTS.MARKUP_STYLE_PROPERTY_CHANGED,this.onStyleChangedBinded),this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedDebounced),this.getWindow().getSelection().removeAllRanges(),e.style.position="absolute",e.style.pointerEvents="none",e.blur(),e.setAttribute("contenteditable",!1),e.style.webkitUserSelect="none",e.style.userSelect="none",this.textboxActive=!1,this.isEmpty()?this.onEmptyTextMarkup():(this.markup.syncEditState(),this.editEnd()),this.markupsExtension.markupsManager.dispatchEvent({type:u.MARKUPS_EVENTS.TEXT_EDITING_ENDED})}}},{key:"onStyleChanged",value:function(){this.textboxActive&&this.onCameraChanged()}},{key:"handleKeyDown",value:function(e,t){return!(!this.textboxActive||e.keyCode!==Autodesk.Viewing.KeyCode.ESCAPE||(this.isEmpty()&&this.onEmptyTextMarkup(),this.textboxActive=!1,0))}},{key:"expandBoundingBox",value:function(e){var t=this.getEditState(),n=t.translation,i=t.scale,s=this.markup.getTextStyle(),a=this.markup.getWorldBoundingBoxTextOnly().size(),o=this.markupsExtension.renderer.getFontToWorldScale(),A=this.markup.getTextWidthInFontScale().width;s.width="".concat(A,"px");var u=Object(l.getTextSize)(this.markup.editState.text,s),c=Object(l.getTextSize)(e,s);if((this.enterPressed||this.backspacePressed||this.addNewline)&&c.height!==u.height){var d=(c.height-u.height)*o;this.translateBoundingBox(d)}else if(c.height>u.height){s.width=null;var h=Object(l.getTextSize)("A",s).width*o;i.multiply(new THREE.Vector3((a.x+h)/a.x,1,1));var f=this.markup.getRotation(),p=new THREE.Vector3(h/2,0,0);if(0!==f){var E=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(p,f,new THREE.Vector3,E)}n.add(p),this.updateEditState({scale:i,translation:n})}}},{key:"translateBoundingBox",value:function(e){var t=this.getEditState().translation,n=this.markup.getBoundingBoxVerticalTranslation(e);t.add(n),this.updateEditState({translation:t})}},{key:"destroy",value:function(){this.markupsExtension.markupsManager.removeEventListener(u.MARKUPS_EVENTS.MARKUP_ENABLE_EDIT,this.onMarkupEditStartBinded),this.markupsExtension.markupsManager.removeEventListener(u.MARKUPS_EVENTS.MARKUP_EDIT_END,this.onMarkupEditEndBinded)}},{key:"polyFillIE",value:function(){var e=this.getWindow();try{return new e.MouseEvent("test"),!1}catch(e){}var t=this,n=function(e,n){var r=t.getWindow();n=n||{bubbles:!1,cancelable:!1};var i=t.getDocument().createEvent("MouseEvent");return i.initMouseEvent(e,n.bubbles,n.cancelable,r,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!1,!1,!1,!1,0,null),i};n.prototype=Event.prototype,e.MouseEvent=n}},{key:"onMarkupEditEnabled",value:function(e){var t=this;e.markup===this.markup&&(this.markupsExtension.markupsManager.hasEventListener(u.MARKUPS_EVENTS.MARKUP_EDIT_START,this.onMarkupEditStartBinded)||this.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_EDIT_START,this.onMarkupEditStartBinded),this.markupsExtension.markupsManager.hasEventListener(u.MARKUPS_EVENTS.MARKUP_EDIT_END,this.onMarkupEditEndBinded)||this.markupsExtension.markupsManager.addEventListener(u.MARKUPS_EVENTS.MARKUP_EDIT_END,this.onMarkupEditEndBinded),setTimeout((function(){var e=t.markupsExtension.renderer.textRenderer.getLabel(t.markup);e&&(e.addEventListener("touchend",t.onTouchEndBinded),e.style.pointerEvents="auto")}),10))}},{key:"onTouchEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.startTextEditing()}},{key:"onMarkupEditDisabled",value:function(e){if(e.markup===this.markup){var t=this.markupsExtension.renderer.textRenderer.getLabel(this.markup);t&&(t.removeEventListener("touchend",this.onTouchEndBinded),t.style.pointerEvents="none")}}},{key:"onMarkupEditStart",value:function(e){this.textboxActive&&(this.textboxWasActive=!0),e.markup===this.markup&&e.handler instanceof d.default&&this.removeSelection()}},{key:"onMarkupEditEnd",value:function(e){e.handler instanceof t||e.markup===this.markup&&this.textboxWasActive&&e.handler instanceof d.default&&(this.textboxWasActive=!1,this.startTextEditing())}}])&&f(n.prototype,a),A&&f(n,A),t}(A.default)},"./extensions/BimMarkups/EditHandlers/TranslationHandler.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/TranslationHandler.js ***!
  \******************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ./EditHandler */"./extensions/BimMarkups/EditHandlers/EditHandler.js"),i=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o(this,t),(r=u(this,l(t).call(this,e,n,i))).keyTranslation=new THREE.Vector3,r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,a=[{key:"hasOneGroupInEdit",value:function(e){var t=0,n=0;return e.forEach((function(e){e.isGroupMarkup()?t++:e.belongsToGroup()||n++})),1===t&&0===n}}],(r=[{key:"handleMouseMove",value:function(e){return this.translating&&this.handleMouseTranslation(e),this.translating}},{key:"handleButtonDown",value:function(e,t){return!!this.translating||(this.translating=this.intersect(e),this.translating&&(this.lastTranslationPoint=e,this.buttonDownPos=e,this.editStart()),this.translating)}},{key:"handleButtonUp",value:function(e,t){if(this.translating){var n,r=this.markupsExtension.markupsManager.getInEditMarkups();return this.markupsExtension.markupsManager.openActionGroup(),Object(i.isEqualVectors)(e,this.lastTranslationPoint,this.getMinChangeDistanceWorld())?(this.cancelTransformEditing(),n=!1):(r.forEach((function(e,t){e.translationHandler&&e.translationHandler.submitChanges(t<r.length-1)})),this.editEnd(),n=!0),this.markupsExtension.markupsManager.closeActionGroup(),this.translating=!1,this.lastTranslationPoint=null,n}return!1}},{key:"handleKeyDown",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:if(this.translating)return this.cancelTransformEditing(),!0;break;case Autodesk.Viewing.KeyCode.UP:return this.handleKeyTranslation(this.markupsExtension.renderer.getCameraUpVector()),!0;case Autodesk.Viewing.KeyCode.DOWN:return this.handleKeyTranslation(this.markupsExtension.renderer.getCameraUpVector().negate()),!0;case Autodesk.Viewing.KeyCode.RIGHT:return this.handleKeyTranslation(this.markupsExtension.renderer.getCameraRightVector()),!0;case Autodesk.Viewing.KeyCode.LEFT:return this.handleKeyTranslation(this.markupsExtension.renderer.getCameraRightVector().negate()),!0}return!1}},{key:"handleKeyUp",value:function(e,t){switch(t){case Autodesk.Viewing.KeyCode.UP:case Autodesk.Viewing.KeyCode.DOWN:case Autodesk.Viewing.KeyCode.RIGHT:case Autodesk.Viewing.KeyCode.LEFT:return this.keyTranslation.set(0,0,0),this.submitChanges(e.isDuringEdit),!0}return!1}},{key:"handleDoubleClick",value:function(e,t){return this.translating}},{key:"getCursor",value:function(){return"move"}},{key:"cancelTransformEditing",value:function(){this.markupsExtension.markupsManager.getInEditMarkups().forEach((function(e){e.syncEditState()})),this.translating=!1,this.lastTranslationPoint=null,this.editEnd()}},{key:"handleMouseTranslation",value:function(e){var n=this;this.markupsExtension.markupsTool.shiftDown&&(e=e.clone(),this.snapPointToAxis(e,this.buttonDownPos,90));var r=e.clone().sub(this.lastTranslationPoint),i=this.markupsExtension.markupsManager.getInEditMarkups();t.hasOneGroupInEdit(i)?this.handleTranslation(this.markup,r):i.forEach((function(e){n.handleTranslation(e,r)}))}},{key:"handleKeyTranslation",value:function(e){var t=e.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(s.ARROW_MOVE_OFFSET));this.keyTranslation.add(t),this.handleTranslation(this.markup,this.keyTranslation)}},{key:"handleTranslation",value:function(e,t){if(e.translationHandler){var n=t.clone().add(e.state.translation);e.translationHandler.updateEditState({translation:n})}}},{key:"intersect",value:function(e){return this.markup.intersect(e)}},{key:"isDragging",value:function(){return this.translating}}])&&A(n.prototype,r),a&&A(n,a),t}(r.default)},"./extensions/BimMarkups/FilterManager.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/FilterManager.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(/*! date-fns */"./node_modules/date-fns/index.js"),i=n(/*! ./Utils/ModelUtils */"./extensions/BimMarkups/Utils/ModelUtils.js"),s=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),a=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.options=n,this.filters=this.markupsExtension.cache.filters||this.getInitialFilters(),this.filterWithGUID=this.fileTypeSupportGUID(this.options.fileName)}var t,n,A;return t=e,(n=[{key:"getInitialFilters",value:function(){return{createdByFilter:[],createdAtStartFilter:null,createdAtEndFilter:null,showPrivateFilter:!0,showPublishedFilter:!0,showArchivedFilter:!1,toggleMarkupViewFilter:!0}}},{key:"updateFilters",value:function(e){this.markupsExtension.cache.filters=this.filters=Object.assign({},this.filters,e),this.markupsExtension.loadLayers(),this.markupsExtension.markupsManager.dispatchEvent({type:s.MARKUPS_EVENTS.FILTER_CHANGED,filters:this.filters})}},{key:"filterLayers",value:function(e,t){var n=this;return!t&&this.filters.hideAllMarkups?[]:e.filter((function(e){return n.filterByVersion(e)&&n.filterBySheet(e,t&&n.filters.toggleMarkupViewFilter)&&n.filterByDate(e)&&n.filterPrivate(e)&&n.filterPublished(e)&&n.filterArchived(e)&&n.filterCreator(e)&&n.filterDeleted(e)}))}},{key:"fileTypeSupportGUID",value:function(e){var t=i.default.getModelExtension(e);return!!t&&(t=t.toLowerCase(),a.MARKUP_SUPPORT_GUID_EXT.includes(t))}},{key:"isDateInRange",value:function(e,t,n){var i=Object(r.format)(e,"MM/DD/YYYY"),s=Object(r.format)(t,"MM/DD/YYYY"),a=Object(r.format)(n,"MM/DD/YYYY");return Object(r.isWithinRange)(i,s,a)}},{key:"filterByDate",value:function(e){return!this.filters.createdAtStartFilter||!this.filters.createdAtEndFilter||this.isDateInRange(e.metadata.created_at,this.filters.createdAtStartFilter,this.filters.createdAtEndFilter)}},{key:"filterBySheet",value:function(e,t){if(t||!this.options.hasMultiSheet)return!0;var n=e.metadata.markup_metadata&&e.metadata.markup_metadata.sheetGUID,r=e.metadata.markup_metadata&&e.metadata.markup_metadata.sheetName;return this.filterWithGUID&&!e.loadedByName&&this.options.sheetGUID&&n?this.options.sheetGUID===n:!this.options.sheetName||!r||this.options.sheetName===r}},{key:"filterDeleted",value:function(e){return e.status!==a.MARKUP_STATUS_DELETE_SUCCEED}},{key:"filterPrivate",value:function(e){return this.filters.showPrivateFilter||e.metadata.status!==a.MARKUP_STATUS_PRIVATE}},{key:"filterPublished",value:function(e){return this.filters.showPublishedFilter||e.metadata.status!==a.MARKUP_STATUS_PUBLISHED}},{key:"filterArchived",value:function(e){return this.filters.showArchivedFilter||e.metadata.status!==a.MARKUP_STATUS_ARCHIVED}},{key:"filterCreator",value:function(e){return!this.filters.createdByFilter||0===this.filters.createdByFilter.length||this.filters.createdByFilter.some((function(t){return e.metadata.created_by===t.value}))}},{key:"filterByVersion",value:function(e){var t=e.metadata.starting_version;return this.options.documentVersion>=t}},{key:"destroy",value:function(){this.filters=null,this.options=null}}])&&o(t.prototype,n),A&&o(t,A),e}()},"./extensions/BimMarkups/FrameRenderer.css":
/*!*************************************************!*\
  !*** ./extensions/BimMarkups/FrameRenderer.css ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/dist/cjs.js!./FrameRenderer.css */"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/FrameRenderer.css");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./extensions/BimMarkups/FrameRenderer.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/FrameRenderer.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),i=n(/*! ./Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),s=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");n(/*! ./FrameRenderer.css */"./extensions/BimMarkups/FrameRenderer.css");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=Autodesk.Viewing,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.setGlobalManager(t.globalManager),this.viewer=this.markupsExtension.viewer,this.container=this.viewer.appendOrderedElementToViewer("markup-frames-container"),this.container.className="markup-frames-container",this.markupFrames={},this.layerFrames={},this.anchors={},this.segments={},this.rotationAxis=new THREE.Vector3(0,0,1),this.registerEventListeners()}var t,n,A;return t=e,(n=[{key:"registerEventListeners",value:function(){this.onMarkupDirtyBinded=this.onMarkupDirty.bind(this),this.onLayerDirtyBinded=this.onLayerDirty.bind(this),this.onLayerDeletedBinded=this.onLayerDeleted.bind(this),this.onMarkupRemovedBinded=this.onMarkupRemoved.bind(this),this.renderAllBinded=this.renderAll.bind(this),this.onRectSelectorUpdatedBinded=this.onRectSelectorUpdated.bind(this),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_DIRTY,this.onMarkupDirtyBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_DIRTY,this.onLayerDirtyBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_REMOVED,this.onMarkupRemovedBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_DELETED,this.onLayerDeletedBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.renderAllBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.renderAllBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.RECT_SELECTOR_UPDATED,this.onRectSelectorUpdatedBinded),this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.renderAllBinded)}},{key:"unregisterEventListeners",value:function(){this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_DIRTY,this.onMarkupDirtyBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_DIRTY,this.onLayerDirtyBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_REMOVED,this.onMarkupRemovedBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_DELETED,this.onLayerDeletedBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.renderAllBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.renderAllBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.RECT_SELECTOR_UPDATED,this.onRectSelectorUpdatedBinded),this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.renderAllBinded)}},{key:"renderAll",value:function(){var e=this.markupsExtension.markupsManager.getAllMarkups();this.renderMarkups(e);var t=this.markupsExtension.markupsManager.getLayersAsList();this.renderLayers(t)}},{key:"onMarkupDirty",value:function(e){var t=e.markup;this.renderMarkups([t])}},{key:"onLayerDirty",value:function(e){var t=e.layer;this.renderLayerSelectionFrame(t)}},{key:"renderLayers",value:function(e){var t=this;e.forEach((function(e){t.renderLayerSelectionFrame(e)}))}},{key:"renderMarkups",value:function(e){var t=this;e.forEach((function(e){e.belongsToGroup()||t.renderMarkupSelectionFrame(e),t.renderTransformAnchors(e),e.layer&&t.renderLayerSelectionFrame(e.layer)}))}},{key:"renderFrame",value:function(e,t,n){var r=this.getDocument();if(!e){(e=r.createElement("div")).className="markup-selection-frame-container",this.container.appendChild(e);var a=r.createElement("div");a.className="markup-selection-frame fill",a.style.width="".concat(s.FRAME_SIZE_SCALE,"px"),a.style.height="".concat(s.FRAME_SIZE_SCALE,"px"),Autodesk.Viewing.isIOSDevice()&&(a.className+=" ios"),e.appendChild(a),e.fillElement=a;for(var o=0;o<4;o++){var A=r.createElement("div");A.className="markup-selection-frame border",A.style.width="".concat(s.FRAME_SIZE_SCALE,"px"),A.style.height="".concat(s.FRAME_SIZE_SCALE,"px"),Autodesk.Viewing.isIOSDevice()&&(A.className+=" ios"),e.appendChild(A),e["border_".concat(o)]=A}}e.classList.contains("visible")||(e.classList.add("visible"),e.offsetHeight),n&&!e.fillElement.classList.contains("visible")?(e.fillElement.classList.add("visible"),e.fillElement.offsetHeight):!n&&e.fillElement.classList.contains("visible")&&(e.fillElement.classList.remove("visible"),e.fillElement.offsetHeight);var u=t.getClientBoundingBox(!0),l=u.center();l.x-=s.FRAME_SIZE_SCALE/2,l.y-=s.FRAME_SIZE_SCALE/2;var c=u.size(),d=i.default.radiansToDegrees(t.getRotation()+this.markupsExtension.renderer.getCameraRotation())||0;return n&&(e.fillElement.style.transform="translate(".concat(l.x,"px, ").concat(l.y,"px) rotate(").concat(d,"deg) scale(").concat(c.x/s.FRAME_SIZE_SCALE,", ").concat(c.y/s.FRAME_SIZE_SCALE,")")),e.border_0.style.transform="translate(".concat(l.x,"px, ").concat(l.y,"px) rotate(").concat(d,"deg) translate(0px, ").concat(c.y/2,"px) scale(").concat(c.x/s.FRAME_SIZE_SCALE,", ").concat(1/s.FRAME_SIZE_SCALE,")"),e.border_1.style.transform="translate(".concat(l.x,"px, ").concat(l.y,"px) rotate(").concat(d,"deg) translate(0px, ").concat(-c.y/2,"px) scale(").concat(c.x/s.FRAME_SIZE_SCALE,", ").concat(1/s.FRAME_SIZE_SCALE,")"),e.border_2.style.transform="translate(".concat(l.x,"px, ").concat(l.y,"px) rotate(").concat(d,"deg) translate(").concat(c.x/2,"px, 0px) scale(").concat(1/s.FRAME_SIZE_SCALE,", ").concat(c.y/s.FRAME_SIZE_SCALE,")"),e.border_3.style.transform="translate(".concat(l.x,"px, ").concat(l.y,"px) rotate(").concat(d,"deg) translate(").concat(-c.x/2,"px, 0px) scale(").concat(1/s.FRAME_SIZE_SCALE,", ").concat(c.y/s.FRAME_SIZE_SCALE,")"),e}},{key:"renderMarkupSelectionFrame",value:function(e){var t=this.markupFrames[e.id],n=e.isHovered(),r=e.isSelected();(r||n)&&e.layer?this.markupFrames[e.id]=this.renderFrame(t,e,r):t&&t.classList.contains("visible")&&(t.classList.remove("visible"),t.offsetHeight)}},{key:"renderLayerSelectionFrame",value:function(e){var t=this.layerFrames[e.id],n=e.isHovered(),r=e.isSelected(),i=e.isVisible();(r||n)&&i&&!this.markupsExtension.markupsManager.isMarkupSessionOpen()?this.layerFrames[e.id]=this.renderFrame(t,e,!1):t&&t.classList.contains("visible")&&(this.container.removeChild(t),delete this.layerFrames[e.id])}},{key:"_renderScaleAnchors",value:function(e){var t=this;if(e.scaleHandler)if(e.isInEdit()){var n=e.scaleHandler.getScaleAnchors(),r=e.getClientCenter();n.forEach((function(n,s){var a="".concat(e.id,"_scale_").concat(s),o=e.getRotation()+t.markupsExtension.renderer.getCameraRotation();i.default.applyRotation(n.pos,o,r,t.rotationAxis);var A=e.scaleHandler.isDragging()&&n.id===e.scaleHandler.scaleAnchor.id;t.createAnchorElement(a,n.pos,A,o,"rectangle")}))}else for(var s=0;s<8;s++){var a="".concat(e.id,"_scale_").concat(s);this.anchors[a]&&this.anchors[a].classList.contains("visible")&&this.anchors[a].classList.remove("visible")}}},{key:"_renderRotationAnchor",value:function(e){if(e.rotationHandler){var t="".concat(e.id,"_rotation_anchor");if(e.isInEdit()){var n=e.rotationHandler.getRotationAnchor(),r=e.rotationHandler.isDragging();this.createAnchorElement(t,n,r);var s=e.getClientBoundingBox(!0),a=s.center().add(new THREE.Vector3(0,s.size().y/2,0)),o=s.center(),A=e.getRotation()+this.markupsExtension.renderer.getCameraRotation();i.default.applyRotation(a,A,o,this.rotationAxis),this.createSegment(t,a,n)}else this.anchors[t]&&this.anchors[t].classList.contains("visible")&&(this.anchors[t].classList.remove("visible"),this.segments[t].classList.remove("visible"))}}},{key:"_renderAnchors",value:function(e){var t=this;if(e.anchorHandler){var n,r=function(e){var n=t.anchors[e];n&&n.classList.contains("visible")&&n.classList.remove("visible")},s=function(e){var n=t.segments[e];n&&n.classList.contains("visible")&&n.classList.remove("visible")},a="".concat(e.id,"_anchor"),o=e.anchorHandler.getAnchors();if(e.isInEdit()){for(var A=e.getClientCenter(),u=function(n){return e.applyScaleAndTranslation(n),n=t.markupsExtension.renderer.worldToClient(n),i.default.applyRotation(n,e.getRotation(),A,t.rotationAxis),n},l=null,c=null,d=0;d<o.length;d++){var h="".concat(a,"_").concat(d);c=u(o[d].clone());var f=o[d]===e.anchorHandler.activeAnchor;e.isAnchorHandlingAllowed(o[d])&&this.createAnchorElement(h,c,f),e.showPath()&&d>0&&this.createSegment(h,l,c),l=c}if(e.showPath()&&e.editState.closed){var p="".concat(a,"_").concat(o.length),E=u(o[0].clone());this.createSegment(p,c,E)}for(var m=(n=a,Object.keys(t.anchors).filter((function(e){return 0===e.indexOf(n)}))),g=function(e){return Object.keys(t.segments).filter((function(t){return 0===t.indexOf(e)}))}(a),y=o.length;y<m.length;y++)r("".concat(a,"_").concat(y));for(var B=e.editState.closed?g.length:g.length+1,v=o.length;v<B;v++)s("".concat(a,"_").concat(v))}else for(var k=0;k<=o.length;k++){var _="".concat(a,"_").concat(k);r(_),s(_)}}}},{key:"renderTransformAnchors",value:function(e){e.isCompleted()&&(this._renderScaleAnchors(e),this._renderRotationAnchor(e),this._renderAnchors(e))}},{key:"createAnchorElement",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this.anchors[e],A=this.getDocument();if(!o){(o=A.createElement("div")).className="markup-anchor "+a;var u="".concat(2*s.ANCHOR_RADIUS,"px");o.style.width=u,o.style.height=u,this.container.appendChild(o),this.anchors[e]=o;var l=A.createElement("div");l.className="markup-anchor-fill "+a,o.appendChild(l),o.anchorFill=l}o.classList.contains("visible")||o.classList.add("visible"),n&&!o.anchorFill.classList.contains("visible")?o.anchorFill.classList.add("visible"):!n&&o.anchorFill.classList.contains("visible")&&o.anchorFill.classList.remove("visible");var c=i.default.radiansToDegrees(r);o.style.transform="translate(".concat(t.x-s.ANCHOR_RADIUS,"px, ").concat(t.y-s.ANCHOR_RADIUS,"px) rotate(").concat(c,"deg)")}},{key:"createSegment",value:function(e,t,n){var r=this.segments[e],a=this.getDocument();r||((r=a.createElement("div")).className="markup-selection-frame segment border",r.style.width="".concat(s.FRAME_SIZE_SCALE,"px"),r.style.height="".concat(s.FRAME_SIZE_SCALE,"px"),this.container.appendChild(r),this.segments[e]=r),r.classList.contains("visible")||r.classList.add("visible");var o=t.clone().add(n).multiplyScalar(.5);o.x-=s.FRAME_SIZE_SCALE/2,o.y-=s.FRAME_SIZE_SCALE/2;var A=t.distanceTo(n),u=i.default.getSignedAngle(n.clone().sub(t),this.markupsExtension.renderer.getCameraUpVector(),this.markupsExtension.renderer.getCameraEyeVector());r.style.transform="translate(".concat(o.x,"px, ").concat(o.y,"px) rotate(").concat(i.default.radiansToDegrees(u+this.markupsExtension.renderer.getCameraRotation()),"deg) scale(").concat(1/s.FRAME_SIZE_SCALE,", ").concat(A/s.FRAME_SIZE_SCALE,")")}},{key:"onLayerDeleted",value:function(e){var t=e.layer.id,n=this.layerFrames[t];n&&this.container.removeChild(n),delete this.layerFrames[t]}},{key:"onMarkupRemoved",value:function(e){var t=e.markup,n=t.id,r=this.markupFrames[n];r&&this.container.removeChild(r),delete this.markupFrames[n],t.layer&&t.layer.isEmpty()&&this.onLayerDeleted(t)}},{key:"onRectSelectorUpdated",value:function(e){var t=e.bounds,n=this.getDocument();this.rectSelectorFrame||(this.rectSelectorFrame=n.createElement("div"),this.rectSelectorFrame.className="rect-selector-frame",this.container.appendChild(this.rectSelectorFrame));var r=!t.empty();r&&!this.rectSelectorFrame.classList.contains("visible")?(this.rectSelectorFrame.classList.add("visible"),this.rectSelectorFrame.offsetHeight):!r&&this.rectSelectorFrame.classList.contains("visible")&&(this.rectSelectorFrame.classList.remove("visible"),this.rectSelectorFrame.offsetHeight);var i=t.clone();i.min=this.markupsExtension.renderer.worldToClient(i.min),i.max=this.markupsExtension.renderer.worldToClient(i.max);var s=i.size();this.rectSelectorFrame.style.width="".concat(Math.abs(s.x),"px"),this.rectSelectorFrame.style.height="".concat(Math.abs(s.y),"px"),this.rectSelectorFrame.style.transformOrigin="top left",this.rectSelectorFrame.style.transform="translate(".concat(i.min.x,"px, ").concat(i.min.y,"px) scale(").concat(Math.sign(s.x),", ").concat(Math.sign(s.y),")")}},{key:"destroy",value:function(){var e=this;this.unregisterEventListeners(),Object(a.forAll)(this.markupFrames,(function(t){e.container.removeChild(t)})),this.markupFrames=null,Object(a.forAll)(this.layerFrames,(function(t){e.container.removeChild(t)})),this.layerFrames=null,Object(a.forAll)(this.anchors,(function(t){e.container.removeChild(t)})),this.anchors=null,Object(a.forAll)(this.segments,(function(t){e.container.removeChild(t)})),this.segments=null,this.markupsExtension=null,this.viewer=null}}])&&o(t.prototype,n),A&&o(t,A),e}();A.GlobalManagerMixin.call(u.prototype)},"./extensions/BimMarkups/Links/Link.js":
/*!*********************************************!*\
  !*** ./extensions/BimMarkups/Links/Link.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),o=n(/*! ./LinkAnchorHandler */"./extensions/BimMarkups/Links/LinkAnchorHandler.js"),A=n(/*! ./LinkSelectionHandler */"./extensions/BimMarkups/Links/LinkSelectionHandler.js");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n,r,i,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.guid=r,this.layer=i,this.type=s,this.markupsExtension=t,this.visible=!0,this.selected=!1,this.hover=!1,this.dirty=!1,a?this.state=a:(this.state=this.getDefaultState(),this.state.style=this.getDefaultStyle()),this.editState={},this.registerSelectionHandler(),this.registerAnchorHandler()}var t,n,l;return t=e,(n=[{key:"getDefaultState",value:function(){return{}}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e}},{key:"getEditState",value:function(){return this.editState}},{key:"setEditState",value:function(e){this.editState=e,this.setDirty(!0)}},{key:"syncEditState",value:function(){this.setEditState(i.default.cloneDeep(this.getState()))}},{key:"setDirty",value:function(e){this.dirty=e,e&&this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.LINK_DIRTY,link:this})}},{key:"isDirty",value:function(){return this.dirty}},{key:"isVisible",value:function(){return this.layer.isVisible()}},{key:"getLinkBasePosition",value:function(){var e=this.layer.getClientBoundingBox(!0),t=e.max.clone().setY(e.min.y),n=this.markupsExtension.renderer.getCameraUpVector(),i=this.markupsExtension.renderer.getCameraRightVector(),a=this.getClientBoundingBox().size(),o=n.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(a.y/2)),A=i.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(s.LINK_POSITION_OFFSET+a.x/2)),u=this.markupsExtension.renderer.getCameraEyeVector(),l=this.markupsExtension.renderer.getCameraRotation();return r.default.applyRotation(t,-l,e.center(),u),this.markupsExtension.renderer.clientToWorld(t).sub(o).add(A)}},{key:"getClientBoundingBox",value:function(){return this.markupsExtension.renderer.linksRenderer.getLinkBoundingBox(this)}},{key:"getPosition",value:function(){return this.editState.position?this.editState.position:this.getLinkBasePosition()}},{key:"select",value:function(){this.selected=!0,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.LINK_SELECTED,link:this}),this.setDirty(!0)}},{key:"deselect",value:function(){this.selected=!1,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.LINK_DESELECTED,link:this}),this.setDirty(!0)}},{key:"isSelected",value:function(){return this.selected}},{key:"setHover",value:function(e){this.hover!==e&&(this.hover=e,this.setDirty(!0))}},{key:"isHovered",value:function(){return this.hover}},{key:"isCompleted",value:function(){return!0}},{key:"registerSelectionHandler",value:function(){this.selectionHandler=new A.default(this.markupsExtension,this)}},{key:"registerAnchorHandler",value:function(){this.anchorHandler=new o.default(this.markupsExtension,this)}},{key:"destroy",value:function(){this.translationHandler&&(this.translationHandler.destroy(),this.translationHandler=null),this.markupsExtension=null,this.state=null,this.editState=null}}])&&u(t.prototype,n),l&&u(t,l),e}()},"./extensions/BimMarkups/Links/LinkAnchorHandler.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkAnchorHandler.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return s(this,t),o(this,A(t).apply(this,arguments))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"handleMouseMove",value:function(e){var t=this.grabbing||this.intersect(e);return this.link.setHover(t),!!this.grabbing&&(this.updatePosition(e),!0)}},{key:"handleButtonDown",value:function(e,t){return!!this.grabbing||(this.grabbing=this.intersect(e),this.grabbing&&(this.originalPosition=e.clone(),this.lastTranslationPoint=e),!!this.grabbing)}},{key:"handleButtonUp",value:function(e,t){return!!this.grabbing&&(this.updatePosition(e),Object(r.isEqualVectors)(e,this.originalPosition,this.getMinChangeDistanceWorld())?(this.cancelAnchorEditing(),!1):(this.submitChanges(),this.grabbing=!1,this.lastTranslationPoint=null,!0))}},{key:"handleKeyDown",value:function(e,t){if(this.grabbing)switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:case Autodesk.Viewing.KeyCode.ESCAPE:return this.cancelAnchorEditing(),!0}return!1}},{key:"updateEditStatePosition",value:function(){this.updateEditState({position:this.getEditState().position})}},{key:"updatePosition",value:function(e){var t=e.clone().sub(this.lastTranslationPoint);this.link.editState.position||(this.link.editState.position=this.link.getLinkBasePosition()),Object(r.applyTranslation)(this.link.editState.position,t),this.lastTranslationPoint=e,this.updateEditStatePosition()}},{key:"cancelAnchorEditing",value:function(){this.grabbing=!1,this.link.syncEditState(),this.updateEditStatePosition()}},{key:"isDragging",value:function(){return this.grabbing}},{key:"intersect",value:function(e){var t=this.markupsExtension.renderer.worldToClient(e);return this.link.getClientBoundingBox().containsPoint(t)}},{key:"getCursor",value:function(){return this.grabbing?"grabbing":"grab"}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./LinkEditHandler */"./extensions/BimMarkups/Links/LinkEditHandler.js").default)},"./extensions/BimMarkups/Links/LinkAttachment.js":
/*!*******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkAttachment.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e,n,i,o,A){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,a(t).call(this,e,n,i,o,r.LINK_TYPE_DOCUMENT_ATTACHMENT,A))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),t}(n(/*! ./Link */"./extensions/BimMarkups/Links/Link.js").default)},"./extensions/BimMarkups/Links/LinkEditHandler.js":
/*!********************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkEditHandler.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(/*! ../Actions/UpdateMarkupAction */"./extensions/BimMarkups/Actions/UpdateMarkupAction.js"),i=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.viewer=t.viewer,this.link=n,this.link.syncEditState()}var t,n,a;return t=e,(n=[{key:"getEditState",value:function(){return this.link.getEditState()}},{key:"setEditState",value:function(e){this.link.setEditState(e)}},{key:"updateEditState",value:function(e){this.setEditState(Object.assign({},this.getEditState(),e))}},{key:"submitChanges",value:function(){new r.default(this.markupsExtension.markupsManager,this.link,this.getEditState()).execute()}},{key:"isDragging",value:function(){return!1}},{key:"getTouchRadiusWorld",value:function(){return this.markupsExtension.renderer.sizeFromClientToWorld(i.TOUCH_RADIUS)}},{key:"getMinChangeDistanceWorld",value:function(){return this.markupsExtension.renderer.sizeFromClientToWorld(i.MIN_CHANGE_DISTANCE)}},{key:"didMouseMove",value:function(){return this.markupsExtension.markupsTool.mouseMoved}},{key:"handleDoubleClick",value:function(e,t){}},{key:"handleButtonDown",value:function(e,t){}},{key:"handleButtonUp",value:function(e,t){}},{key:"handleKeyDown",value:function(e,t){}},{key:"handleKeyUp",value:function(e,t){}},{key:"handleMouseMove",value:function(e){}},{key:"handleGesture",value:function(e){}},{key:"handleResize",value:function(){}},{key:"destroy",value:function(){this.markupsExtension=null,this.viewer=null,this.link=null}}])&&s(t.prototype,n),a&&s(t,a),e}()},"./extensions/BimMarkups/Links/LinkSelectionHandler.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkSelectionHandler.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){function t(){return i(this,t),a(this,o(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"intersect",value:function(e){var t=this.markupsExtension.renderer.worldToClient(e);return this.link.getClientBoundingBox().containsPoint(t)}},{key:"handleMouseMove",value:function(e){if(this.markupsExtension.markupsTool.dragging||Autodesk.Viewing.isMobileDevice())return!1;var t=this.intersect(e);return this.link.setHover(t),t&&this.link.layer.setHover(!0),t}},{key:"getCursor",value:function(){return"pointer"}},{key:"handleButtonUp",value:function(e,t){return!(this.didMouseMove()||!this.intersect(e)||(this.markupsExtension.markupsManager.deselectAllLinks(),this.markupsExtension.markupsManager.selectLink(this.link),0))}}])&&s(n.prototype,r),u&&s(n,u),t}(n(/*! ./LinkEditHandler */"./extensions/BimMarkups/Links/LinkEditHandler.js").default)},"./extensions/BimMarkups/Links/LinkTypesDictionary.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkTypesDictionary.js ***!
  \************************************************************/
/*! exports provided: linkTypesDictionary */function(e,t,n){"use strict";n.r(t),n.d(t,"linkTypesDictionary",(function(){return A}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ./LinkAttachment */"./extensions/BimMarkups/Links/LinkAttachment.js");var s,a,o,A=(s={},a=r.LINK_TYPE_DOCUMENT_ATTACHMENT,o=i.default,a in s?Object.defineProperty(s,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[a]=o,s)},"./extensions/BimMarkups/Links/LinksRenderer.css":
/*!*******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinksRenderer.css ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/dist/cjs.js!./LinksRenderer.css */"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/Links/LinksRenderer.css");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./extensions/BimMarkups/Links/LinksRenderer.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinksRenderer.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),i=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js");n(/*! ./LinksRenderer.css */"./extensions/BimMarkups/Links/LinksRenderer.css");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=Autodesk.Viewing,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.setGlobalManager(t.globalManager),this.viewer=this.markupsExtension.viewer,this.container=this.viewer.appendOrderedElementToViewer("markup-links-container"),this.container.className="markup-links-container",this.links={},this.linksSizeCache={},this.registerEventListeners()}var t,n,a;return t=e,(n=[{key:"registerEventListeners",value:function(){this.onLinkDirtyBinded=this.onLinkDirty.bind(this),this.onMarkupDirtyBinded=this.onMarkupDirty.bind(this),this.renderAllLinksBinded=this.renderAllLinks.bind(this),this.onLinkDeletedBinded=this.onLinkDeleted.bind(this),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LINK_DIRTY,this.onLinkDirtyBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_DIRTY,this.onMarkupDirtyBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LINK_SYNCED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LINK_REMOVED,this.onLinkDeletedBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.renderAllLinksBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.renderAllLinksBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_SELECTED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_DESELECTED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_VIEW_EXITED,this.renderAllLinksBinded),this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.renderAllLinksBinded)}},{key:"unregisterEventListeners",value:function(){this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LINK_DIRTY,this.onLinkDirtyBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_DIRTY,this.onMarkupDirtyBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LINK_SYNCED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LINK_REMOVED,this.onLinkDeletedBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.renderAllLinksBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.renderAllLinksBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_SELECTED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_DESELECTED,this.renderAllLinksBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_VIEW_EXITED,this.renderAllLinksBinded),this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.renderAllLinksBinded)}},{key:"onMarkupDirty",value:function(e){var t=this,n=e.markup;n.layer&&Object(i.forAll)(n.layer.links,(function(e){t.renderLink(e)}))}},{key:"onLinkDirty",value:function(e){var t=e.link;this.renderLink(t)}},{key:"renderLink",value:function(e){if(!e.layer.isEmpty()){var t="".concat(e.layer.id,"_link_").concat(e.id);if(e.isVisible()){var n=e.isSelected(),r=e.isHovered(),i=this.markupsExtension.markupsManager.getActiveLayer()===e.layer,s=e.layer.layerData.attachments.length,a=this.markupsExtension.markupsManager.isMarkupSessionOpen()&&!i||this.markupsExtension.markupsManager.getSelectedLayers().length>0&&!e.layer.isSelected()||!this.markupsExtension.isToolEnabled();this.createLinkElement(t,e,n,i,r,s,a)}else this.links[t]&&this.links[t].classList.remove("visible");e.setDirty(!1)}}},{key:"renderAllLinks",value:function(){var e=this,t=this.markupsExtension.markupsManager.layers;Object(i.forAll)(t,(function(t){Object(i.forAll)(t.links,(function(t){e.renderLink(t)}))})),this.markupsExtension.markupsManager.dispatchEvent({type:r.MARKUPS_EVENTS.LINK_RENDERED})}},{key:"createLinkElement",value:function(e,t,n,r,i,s,a){var o=this.links[e],A=this.getDocument();if(!o){(o=A.createElement("div")).className="link";var u=A.createElement("div");u.className="link-document-attachment",o.appendChild(u),this.container.appendChild(o),this.links[e]=o}o.classList.contains("visible")||o.classList.add("visible"),a&&!o.classList.contains("transparent")?o.classList.add("transparent"):!a&&o.classList.contains("transparent")&&o.classList.remove("transparent"),n&&!o.classList.contains("selected")?o.classList.add("selected"):!n&&o.classList.contains("selected")&&o.classList.remove("selected"),i&&!o.classList.contains("hover")?o.classList.add("hover"):!i&&o.classList.contains("hover")&&o.classList.remove("hover"),r&&!o.classList.contains("editable")?o.classList.add("editable"):!r&&o.classList.contains("editable")&&o.classList.remove("editable");var l=s>99?"99+":s;o.firstChild.innerText=l,this.linksSizeCache[l]||(this.linksSizeCache[l]=o.firstChild.getBoundingClientRect());var c=new THREE.Box3,d=new THREE.Vector3(this.linksSizeCache[l].width/2,this.linksSizeCache[l].height/2,0);c.expandByPoint(new THREE.Vector3),c.expandByVector(d),o.boundingBox=c;var h=t.getPosition(),f=this.markupsExtension.renderer.worldToClient(h);o.style.transform="translate(".concat(Math.round(f.x-this.linksSizeCache[l].width/2),"px, ").concat(Math.round(f.y-this.linksSizeCache[l].height/2),"px)"),c.makeEmpty(),c.expandByPoint(f),c.expandByVector(d)}},{key:"getLinkBoundingBox",value:function(e){var t="".concat(e.layer.id,"_link_").concat(e.id),n=this.links[t];return n?n.boundingBox:new THREE.Box3}},{key:"onLinkDeleted",value:function(e){var t=e.link,n="".concat(t.layer.id,"_link_").concat(t.id),r=this.links[n];r&&this.container.removeChild(r),delete this.links[n]}},{key:"destroy",value:function(){var e=this;this.unregisterEventListeners(),Object(i.forAll)(this.links,(function(t){e.container.removeChild(t)})),this.links=null,this.markupsExtension=null,this.viewer=null}}])&&s(t.prototype,n),a&&s(t,a),e}();a.GlobalManagerMixin.call(o.prototype)},"./extensions/BimMarkups/MarkupTypes/Markup.js":
/*!*****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/Markup.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),o=n(/*! ../EditHandlers/SelectionHandler */"./extensions/BimMarkups/EditHandlers/SelectionHandler.js"),A=n(/*! ../EditHandlers/TranslationHandler */"./extensions/BimMarkups/EditHandlers/TranslationHandler.js"),u=n(/*! ../EditHandlers/AnchorHandler */"./extensions/BimMarkups/EditHandlers/AnchorHandler.js"),l=n(/*! ../EditHandlers/RotationHandler */"./extensions/BimMarkups/EditHandlers/RotationHandler.js"),c=n(/*! ../EditHandlers/ScaleHandler */"./extensions/BimMarkups/EditHandlers/ScaleHandler.js"),d=n(/*! ../EditHandlers/TextInputHandler */"./extensions/BimMarkups/EditHandlers/TextInputHandler.js"),h=n(/*! ../EditHandlers/DimensionEditHandler */"./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js"),f=n(/*! ../EditHandlers/CreationHandlers/CreationHandlerFactory */"./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js"),p=n(/*! ../RendererHelpers/MarkupsGeometryManager */"./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=Autodesk.Viewing,B=function(){function e(t,n,r,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};m(this,e),this.setGlobalManager(t.globalManager),this.id=n,this.type=r,this.options=a,this.markupsExtension=t,this.materialManager=this.markupsExtension.renderer.materialManager,this.layer=null,this.meshContainer=null,this.strokeMaterial=null,this.fillMaterial=null,this.center=new THREE.Vector3,this.matrix=new THREE.Matrix4,this.invMatrix=new THREE.Matrix4,this.scaleMatrix=new THREE.Matrix4,this.invScaleMatrix=new THREE.Matrix4,this.completed=!1,this.selected=!1,this.inEdit=!1,this.enabled=!0,this.transparent=!1,this.visible=!1,this.hover=!1,this.locked=!1,s?this.state=s:(this.state=this.getDefaultState(),this.state.anchors=this.getDefaultAnchors(),this.state.style=this.getDefaultStyle()),this.state.translation=this.state.translation||new THREE.Vector3,this.state.rotation=this.state.rotation||0,this.state.scale=this.state.scale||new THREE.Vector3(1,1,1),this.editState=i.default.cloneDeep(this.state),this.updateMatrix(),this.registerSelectionHandler(),this.creationHandler=f.default.getCreationHandler(this.type,this.markupsExtension,this,a)}var t,n,y;return t=e,y=[{key:"createMesh",value:function(e,t){var n=new THREE.Mesh(e,t);return n.frustumCulled=!1,n}}],(n=[{key:"updateMatrix",value:function(){this.scaleMatrix.makeScale(this.editState.scale.x,this.editState.scale.y,this.editState.scale.z),this.matrix.copy(this.scaleMatrix),this.matrix.setPosition(this.editState.translation),this.invMatrix.getInverse(this.matrix),this.invScaleMatrix.getInverse(this.scaleMatrix),this.updateCenter()}},{key:"updateCenter",value:function(){if(0!==this.editState.anchors.length){var e=(new THREE.Vector3).set(-1/0,-1/0,-1/0),t=(new THREE.Vector3).set(1/0,1/0,1/0);this.editState.anchors.forEach((function(n){e=e.max(n),t=t.min(n)})),this.center.x=(e.x+t.x)/2,this.center.y=(e.y+t.y)/2}}},{key:"getDefaultState",value:function(){return{}}},{key:"getDefaultAnchors",value:function(){return[]}},{key:"getDefaultStyle",value:function(){var e;return E(e={},s.STYLE_PROPERTIES.COLOR,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.LAST_COLOR)),E(e,s.STYLE_PROPERTIES.FONT_SIZE,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FONT_SIZE)),E(e,s.STYLE_PROPERTIES.FONT_WEIGHT,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FONT_WEIGHT)),E(e,s.STYLE_PROPERTIES.FONT_FAMILY,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FONT_FAMILY)),E(e,s.STYLE_PROPERTIES.FONT_STYLE,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FONT_STYLE)),E(e,s.STYLE_PROPERTIES.FONT_COLOR,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FONT_COLOR)),E(e,s.STYLE_PROPERTIES.THICKNESS,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.THICKNESS)),E(e,s.STYLE_PROPERTIES.FILL_OPACITY,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FILL_OPACITY)),E(e,s.STYLE_PROPERTIES.FILL_COLOR,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.FILL_COLOR)),E(e,s.STYLE_PROPERTIES.OPACITY,this.markupsExtension.getStyleProperty(s.STYLE_PROPERTIES.OPACITY)),e}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=i.default.cloneDeep(e),this.rotatedBoundingBox=null,this.boundingBox=null}},{key:"getEditState",value:function(){return this.editState}},{key:"setEditState",value:function(e,t,n){var r=this.editState;this.editState=t?Object.assign({},e,t):i.default.cloneDeep(e),this.updateMatrix(),this.rotatedBoundingBox=null,this.boundingBox=null,this.visible&&this.markupsExtension.renderer&&this.render(t),this.belongsToGroup()&&!this.isLocked()&&this.syncGroup(r,this.editState,t,n)}},{key:"isLocked",value:function(){return this.locked}},{key:"setLocked",value:function(e){this.locked=e}},{key:"render",value:function(e){this.meshContainer||(this.meshContainer=new THREE.Group,this.markupsExtension.renderer.addToScene(this))}},{key:"syncEditState",value:function(){this.setEditState(this.getState())}},{key:"syncState",value:function(){this.setState(this.getEditState())}},{key:"syncGroup",value:function(e,t,n,r){this.markupGroup.rotatedBoundingBox=null,this.markupGroup.boundingBox=null,n&&this.markupGroup.syncGroupMarkups(this,e,t,n,r)}},{key:"select",value:function(){this.layer&&!this.markupsExtension.permissionManager.canEditMarkup(this.layer.layerData)||(this.selected=!0,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_SELECTED,markup:this}),this.enableEdit(),this.belongsToGroup()&&!this.markupGroup.locked&&this.markupGroup.select(this))}},{key:"deselect",value:function(){this.selected=!1,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DESELECTED,markup:this}),this.disableEdit()}},{key:"setVisible",value:function(e,t){(this.visible!==e||t)&&(this.visible=e,this.meshContainer&&(this.meshContainer.visible=e),this.markupsExtension.renderer&&(this.visible?this.render():this.markupsExtension.renderer.invalidate()),this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_VISIBILITY_CHANGED,markup:this,visible:e}))}},{key:"isVisible",value:function(){return this.visible}},{key:"isSelected",value:function(){return this.selected}},{key:"enableEdit",value:function(){this.inEdit=!0,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_ENABLE_EDIT,markup:this}),this.setDirty()}},{key:"disableEdit",value:function(){this.inEdit=!1,this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DISABLE_EDIT,markup:this}),this.setDirty()}},{key:"enable",value:function(){this.enabled=!0,this.changeTransparency(!1)}},{key:"disable",value:function(){this.enabled=!1,this.changeTransparency(!0)}},{key:"isEnabled",value:function(){return this.enabled}},{key:"changeTransparency",value:function(e){this.transparent!==e&&(this.transparent=e,this.visible&&this.markupsExtension.renderer&&this.render({style:{}}),this.setDirty())}},{key:"isTransparent",value:function(){return this.transparent}},{key:"setHover",value:function(e){this.hover!==e&&(this.hover=e,this.belongsToGroup()&&!this.markupGroup.locked&&this.markupGroup.setHover(e,this),this.setDirty())}},{key:"isHovered",value:function(){return this.hover}},{key:"isInEdit",value:function(){return this.inEdit}},{key:"setDirty",value:function(){this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_DIRTY,markup:this})}},{key:"isCompleted",value:function(){return this.completed}},{key:"complete",value:function(){this.completed=!0,this.selectWhenCompleted()?this.select():this.setDirty(),this.visible&&this.markupsExtension.renderer&&this.render(),this.markupsExtension.markupsManager.selectLayer(this.layer,!1,!1)}},{key:"selectWhenCompleted",value:function(){return!0}},{key:"registerAnchorHandler",value:function(e){this.anchorHandler=new u.default(this.markupsExtension,this,e)}},{key:"registerTranslationHandler",value:function(e){this.translationHandler=new A.default(this.markupsExtension,this,e)}},{key:"registerRotationHandler",value:function(e){this.rotationHandler=new l.default(this.markupsExtension,this,e)}},{key:"registerScaleHandler",value:function(e){this.scaleHandler=new c.default(this.markupsExtension,this,e)}},{key:"registerSelectionHandler",value:function(e){this.selectionHandler=new o.default(this.markupsExtension,this,e)}},{key:"registerTextInputHandler",value:function(e){this.textInputHandler=new d.default(this.markupsExtension,this,e)}},{key:"registerDimensionEditHandler",value:function(e){this.dimensionEditHandler=new h.default(this.markupsExtension,this,e)}},{key:"applyCameraRotation",value:function(e){var t=this.markupsExtension.renderer.getCameraRotation(),n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(e,t,this.getWorldCenter(),n)}},{key:"applyInverseCameraRotation",value:function(e){var t=this.markupsExtension.renderer.getCameraRotation(),n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(e,-t,this.getWorldCenter(),n)}},{key:"applyInverseRotation",value:function(e){var t=this.getRotation();if(0!==t){var n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(e,-t,this.getWorldCenter(),n)}}},{key:"applyRotation",value:function(e){var t=this.getRotation();if(0!==t){var n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(e,t,this.getWorldCenter(),n)}}},{key:"applyRotationForAnchors",value:function(e){var t=this.getRotation();if(0!==t){var n=this.markupsExtension.renderer.getCameraEyeVector(),i=this.getWorldCenter();e.forEach((function(e){r.default.applyRotation(e,t,i,n)}))}}},{key:"applyScaleAndTranslation",value:function(e){e.sub(this.center),e.applyMatrix4(this.matrix),e.add(this.center)}},{key:"applyInverseScaleAndTranslation",value:function(e){e.sub(this.center),e.applyMatrix4(this.invMatrix),e.add(this.center)}},{key:"calculateWorldBoundingBox",value:function(e){var t,n=this,r=new THREE.Box3;(t=this.meshLine&&this.meshLine.boundingPoints?i.default.cloneDeep(this.meshLine.boundingPoints):i.default.cloneDeep(this.editState.anchors)).forEach((function(e){n.applyScaleAndTranslation(e)})),e&&this.applyRotationForAnchors(t),t.forEach((function(e){r.expandByPoint(e)}));var a=this.editState.style[s.STYLE_PROPERTIES.THICKNESS]/2;return r.expandByVector(new THREE.Vector3(a,a,0)),r}},{key:"getWorldBoundingBox",value:function(e){return e?(this.rotatedBoundingBox||(this.rotatedBoundingBox=this.calculateWorldBoundingBox(e)),this.rotatedBoundingBox):(this.boundingBox||(this.boundingBox=this.calculateWorldBoundingBox(e)),this.boundingBox)}},{key:"getClientBoundingBox",value:function(e,t){var n=this.getWorldBoundingBox(t).clone();n.min=this.markupsExtension.renderer.worldToClient(n.min),n.max=this.markupsExtension.renderer.worldToClient(n.max);var i=this.markupsExtension.renderer.getCameraEyeVector(),s=n.center(),a=this.markupsExtension.renderer.getCameraRotation();if(r.default.applyRotation(n.min,a,s,i),r.default.applyRotation(n.max,a,s,i),r.default.swapBoundingBoxY(n),e){var o=this.getMarginSize();n.expandByVector(new THREE.Vector3(o,o,0))}return n.min.z=0,n.max.z=0,n}},{key:"getMarginSize",value:function(){return s.BOUNDING_BOX_MARGIN}},{key:"getMinimumSize",value:function(){return Math.max(this.markupsExtension.renderer.sizeFromWorldToClient(this.editState.style[s.STYLE_PROPERTIES.THICKNESS]),this.getMarginSize())}},{key:"getCenter",value:function(){return this.center}},{key:"setPosition",value:function(){var e=this.center.clone().add(this.editState.translation);this.meshContainer.position.copy(e)}},{key:"setRotation",value:function(){this.meshContainer.rotation.z=this.editState.rotation*this.markupsExtension.renderer.getCameraEyeVector().z}},{key:"getWorldCenter",value:function(){return this.center.clone().add(this.editState.translation)}},{key:"getClientCenter",value:function(){return this.markupsExtension.renderer.worldToClient(this.getWorldCenter())}},{key:"getRotation",value:function(){return this.editState.rotation}},{key:"getScale",value:function(){return this.editState.scale}},{key:"getAnchors",value:function(){return this.editState.anchors}},{key:"isAnchorHandlingAllowed",value:function(e){return!0}},{key:"getTail",value:function(){return this.editState.anchors[this.editState.anchors.length-1]}},{key:"getHead",value:function(){return this.editState.anchors[0]}},{key:"getStartPointForNextMarkup",value:function(){return new THREE.Vector3}},{key:"intersect",value:function(e){var t=e.clone();this.applyInverseRotation(t);var n=this.markupsExtension.renderer.worldToClient(t),i=this.getClientBoundingBox(!0),a=this.markupsExtension.renderer.getCameraEyeVector(),o=this.markupsExtension.renderer.getCameraRotation();r.default.applyRotation(n,o,i.center(),a),n.z=0;var A=i.containsPoint(n);if(!A||this.isTextMarkup())return A;if(this.hasFill()&&this.fillMesh&&this.markupsExtension.renderer.raycaster.intersectObject(this.fillMesh).length>0)return!0;var u=this.strokeMaterial.uniforms.lineWidth.value/2;return u+=this.markupsExtension.renderer.sizeFromClientToWorld(s.HIT_AREA_MARGIN),this.meshLine.isPointNear(e,u*u,this.meshContainer.matrixWorld)}},{key:"isGroupMarkup",value:function(){return!1}},{key:"belongsToGroup",value:function(){return!!this.markupGroup}},{key:"isTextMarkup",value:function(){return!1}},{key:"isGeometricMarkup",value:function(){return!0}},{key:"isWithFillMarkup",value:function(){return!1}},{key:"isPoint",value:function(){return this.editState.anchors.length<2||p.default.areAllAnchorsEqual(this.editState.anchors)}},{key:"hasFill",value:function(){return this.isWithFillMarkup()&&!this.options.fillNotAllowed&&this.editState.style[s.STYLE_PROPERTIES.FILL_OPACITY]>0&&this.editState.style[s.STYLE_PROPERTIES.FILL_COLOR]!==s.COLORS.NO_COLOR}},{key:"needsMiter",value:function(){return!0}},{key:"showPath",value:function(){return!1}},{key:"hasThicknessChanged",value:function(){return this.strokeMaterial&&this.strokeMaterial.uniforms.lineWidth.value!==this.editState.style[s.STYLE_PROPERTIES.THICKNESS]}},{key:"removeFill",value:function(){this.fillMaterial&&(this.materialManager.removeMaterial(this.fillMaterial),this.fillMaterial=null),this.fillMesh&&(this.meshContainer.remove(this.fillMesh),this.fillMesh=null)}},{key:"remove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.markupsExtension.renderer&&(this.strokeMaterial&&(this.materialManager.removeMaterial(this.strokeMaterial),this.strokeMaterial=null),this.strokeMesh&&(this.meshContainer.remove(this.strokeMesh),this.strokeMesh=null),this.meshLine&&!this.markupsExtension.renderer.geometryManager.isCachedGeometry(this.meshLine)&&(this.meshLine.dispose(),this.meshLine=null),this.fillMaterial&&(this.materialManager.removeMaterial(this.fillMaterial),this.fillMaterial=null),this.fillMesh&&(this.markupsExtension.renderer.geometryManager.isCachedGeometry(this.fillMesh.geometry)||this.fillMesh.traverse((function(e){e.geometry&&e.geometry.dispose()})),this.meshContainer.remove(this.fillMesh),this.fillMesh=null),this.meshContainer&&(this.markupsExtension.renderer.removeFromScene(this),this.meshContainer=null),e&&this.markupsExtension.markupsManager.dispatchEvent({type:a.MARKUPS_EVENTS.MARKUP_REMOVED,markup:this}))}},{key:"destroy",value:function(){this.anchorHandler&&(this.anchorHandler.destroy(),this.anchorHandler=null),this.translationHandler&&(this.translationHandler.destroy(),this.translationHandler=null),this.rotationHandler&&(this.rotationHandler.destroy(),this.rotationHandler=null),this.scaleHandler&&(this.scaleHandler.destroy(),this.scaleHandler=null),this.selectionHandler&&(this.selectionHandler.destroy(),this.selectionHandler=null),this.textInputHandler&&(this.textInputHandler.destroy(),this.textInputHandler=null),this.markupsExtension=null,this.state=null,this.editState=null,this.layer=null}}])&&g(t.prototype,n),y&&g(t,y),e}();y.GlobalManagerMixin.call(B.prototype),B.singleClickMarkup=!1,B.withSnappingMarkup=!1,B.useTimerBeforeSelection=!1},"./extensions/BimMarkups/MarkupTypes/MarkupArrow.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupArrow.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,A(t).call(this,e,n,r.MARKUP_TYPE_ARROW,i,a))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"getTail",value:function(){return this.editState.anchors[0]}},{key:"getHead",value:function(){return this.editState.anchors[1]}},{key:"getStartPointForNextMarkup",value:function(){return this.getTail().clone()}},{key:"isAnchorHandlingAllowed",value:function(e){return!(this.options.headHandlingNotAllowed&&e===this.getHead()||this.options.tailHandlingNotAllowed&&e===this.getTail())}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./MarkupLines */"./extensions/BimMarkups/MarkupTypes/MarkupLines.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js":
/*!*****************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js ***!
  \*****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,A(t).call(this,e,n,r.MARKUP_TYPE_ARROW_CALLOUT,i,a))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"getTextMarkup",value:function(){return this.markups[1]}},{key:"getArrowMarkup",value:function(){return this.markups[0]}},{key:"applyArrowConstraints",value:function(e){this.applyArrowTextConstraint(e)}},{key:"applyConstraints",value:function(e,t,n){var i=this;this.markups.forEach((function(t){t!==e&&t.isCompleted()&&e.type===r.MARKUP_TYPE_ARROW&&e.anchorHandler.activeAnchor===e.getHead()&&(e.setLocked(!0),i.applyArrowConstraints(n),e.setLocked(!1))}))}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./MarkupCallout */"./extensions/BimMarkups/MarkupTypes/MarkupCallout.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupArrowCloudCallout.js":
/*!**********************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupArrowCloudCallout.js ***!
  \**********************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,A(t).call(this,e,n,r.MARKUP_TYPE_ARROW_CLOUD_CALLOUT,i,a))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"getTextMarkup",value:function(){return this.markups[2]}},{key:"getArrowMarkup",value:function(){return this.markups[1]}},{key:"getShapeMarkup",value:function(){return this.markups[0]}},{key:"applyArrowConstraints",value:function(e){this.applyArrowTextConstraint(e),this.applyShapeArrowConstraint(e)}},{key:"applyConstraints",value:function(e,t,n){var i=this;this.markups.forEach((function(t){t!==e&&t.isCompleted()&&e.type===r.MARKUP_TYPE_ARROW&&(e.setLocked(!0),t.type===r.MARKUP_TYPE_CLOUD?i.applyShapeArrowConstraint(n):i.applyArrowTextConstraint(n),e.setLocked(!1))}))}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./MarkupCallout */"./extensions/BimMarkups/MarkupTypes/MarkupCallout.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupCallout.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupCallout.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r,i){var a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};s(this,t);var c=(a=o(this,A(t).call(this,e,n,r,i,l))).getTextMarkup();return c.textInputHandler.onEmptyTextMarkup=a.onEmptyTextMarkup.bind(u(a)),a}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"getArrowMarkup",value:function(){throw new Error("getArrowMarkup should be implemented")}},{key:"getTextMarkup",value:function(){throw new Error("getTextMarkup should be implemented")}},{key:"getShapeMarkup",value:function(){throw new Error("getShapeMarkup should be implemented")}},{key:"getQuadrant",value:function(e,t){var n=e.getWorldBoundingBox(!0),r=Math.atan2(n.size().y,n.size().x);return t>=-(Math.PI-r)&&t<-r?1:t>=-r&&t<r?2:t>=r&&t<Math.PI-r?3:4}},{key:"getTextQuadrant",value:function(e){return this.getQuadrant(this.getTextMarkup(),e)}},{key:"getShapeQuadrant",value:function(e){return this.getQuadrant(this.getShapeMarkup(),e)}},{key:"getVectorToClosestPointOnCloud",value:function(e){var t=this.getTextMarkup().frameMarkup.meshLine.sourceGeo,n=1/0,r=null;return t.forEach((function(t){var i=e.distanceToSquared(t);i<n&&(n=i,r=t)})),e.clone().sub(r)}},{key:"applyArrowTextConstraint",value:function(e){var t=this.getArrowMarkup(),n=this.getTextMarkup();if((e=e||t.getEditState()).anchors[0]&&e.anchors[1]){var i=n.getWorldBoundingBox(!0),s=i.center(),a=n.editState.style[r.STYLE_PROPERTIES.THICKNESS]/2,o=i.size().y/2-a,A=i.size().x/2-a,u=e.anchors[0],l=e.anchors[1].clone();t.applyScaleAndTranslation(l);var c=Math.atan2(l.y-s.y,l.x-s.x);switch(this.getTextQuadrant(c)){case 1:u.set(s.x,s.y-o,0);break;case 2:u.set(s.x+A,s.y,0);break;case 3:u.set(s.x,s.y+o,0);break;case 4:u.set(s.x-A,s.y,0)}if(n.editState.frameType===r.MARKUP_TYPE_CLOUD){var d=u.clone().sub(s),h=this.getVectorToClosestPointOnCloud(d).negate();u.add(h)}t.applyInverseScaleAndTranslation(u),t.creationHandler.updateEditStateAnchors()}}},{key:"applyShapeArrowConstraint",value:function(e){var t=this.getArrowMarkup(),n=this.getShapeMarkup();if((e=e||t.getEditState()).anchors[0]&&e.anchors[1]){var r=n.getWorldBoundingBox(!0),i=r.center(),s=r.size().y/2,a=r.size().x/2,o=e.anchors[1],A=e.anchors[0].clone();t.applyScaleAndTranslation(A);var u,l=A.x-i.x,c=A.y-i.y,d=Math.atan2(c,l),h=function(e){return e>0?1:-1};switch(this.getShapeQuadrant(d)){case 1:u=h(l)*a/3,o.set(i.x+u,i.y-s,0);break;case 2:u=h(c)*s/3,o.set(i.x+a,i.y+u,0);break;case 3:u=h(l)*a/3,o.set(i.x+u,i.y+s,0);break;case 4:u=h(c)*s/3,o.set(i.x-a,i.y+u,0)}t.applyInverseScaleAndTranslation(o),t.creationHandler.updateEditStateAnchors()}}},{key:"applyArrowConstraints",value:function(e){throw new Error("applyArrowTextConstraint must be implemented")}},{key:"applyConstraints",value:function(e,t,n){throw new Error("applyConstraints must be implemented")}},{key:"applyTranslation",value:function(e,t,n){var i=this;this.markups.forEach((function(s){if(s!==e&&s.isCompleted()){if(s.setLocked(!0),e.type===r.MARKUP_TYPE_ARROW){var a=n.translation.clone().sub(t.translation);a=s.editState.translation.clone().add(a),s.creationHandler.updateEditState({translation:a})}else i.applyArrowConstraints();s.setLocked(!1)}}))}},{key:"applyStyle",value:function(e,t,n,r){var i=this;this.markups.forEach((function(t){t!==e&&t.isCompleted()&&(t.setLocked(!0),t.creationHandler.updateEditState({style:r.style}),i.applyArrowConstraints(),t.setLocked(!1))}))}},{key:"applyScale",value:function(e,t,n){var i=this;this.markups.forEach((function(t){t!==e&&t.isCompleted()&&t.type===r.MARKUP_TYPE_ARROW&&(t.setLocked(!0),i.applyArrowConstraints(),t.setLocked(!1))}))}},{key:"applyTextChange",value:function(e,t,n){this.applyArrowConstraints()}},{key:"onEmptyTextMarkup",value:function(){this.markupsExtension.markupsManager.actionManager.undo();var e=this.getTextMarkup();e.creationHandler.updateEditState({text:e.getDefaultState().text}),e.creationHandler.submitChanges()}}])&&a(n.prototype,i),c&&a(n,c),t}(n(/*! ./MarkupGroup */"./extensions/BimMarkups/MarkupTypes/MarkupGroup.js").default);c.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupCircle.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupCircle.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,A(t).call(this,e,n,r.MARKUP_TYPE_CIRCLE,i,a))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"isWithFillMarkup",value:function(){return!0}},{key:"needsMiter",value:function(){return!1}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./MarkupScalableShape */"./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupCloud.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupCloud.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e,n,i){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a(this,t),(s=A(this,l(t).call(this,e,n,r.MARKUP_TYPE_CLOUD,i,o))).registerTranslationHandler(),o.rotationNotAllowed||s.registerRotationHandler(),s.registerScaleHandler(),s}var n,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(s=[{key:"createCloud",value:function(){if(this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.fillMesh&&(this.meshContainer.remove(this.fillMesh),this.fillMesh=null),this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=i.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.hasFill()&&!this.isPoint()&&this.createFillMesh(),this.meshContainer.add(this.strokeMesh),this.meshLine.type===r.MARKUP_TYPE_CIRCLE){var e=this.editState.anchors[0].distanceTo(this.editState.anchors[1]),t=this.editState.anchors[2].distanceTo(this.editState.anchors[1]),n=this.markupsExtension.renderer.getNormaStrokeWidth();this.meshContainer.scale.x=Math.max(Math.abs(e*this.editState.scale.x),n)*Math.sign(this.editState.scale.x),this.meshContainer.scale.y=Math.max(Math.abs(t*this.editState.scale.y),n)*Math.sign(this.editState.scale.y),this.isCompleted()?this.setRotation():this.meshContainer.rotation.z=-this.markupsExtension.renderer.getCameraRotation()*this.markupsExtension.renderer.getCameraEyeVector().z}else this.meshContainer.scale.x=1,this.meshContainer.scale.y=1,this.setRotation();this.setPosition()}},{key:"createFillMesh",value:function(){var e=this,t=this.markupsExtension.renderer.geometryManager.getFillGeometry(this);t.innerGeometry&&(this.fillMaterial||(this.fillMaterial=this.materialManager.addMaterial(this,!0)),this.fillMesh=i.default.createMesh(t.innerGeometry,this.fillMaterial),this.meshContainer.add(this.fillMesh),t.arcGeometry&&this.meshLine.arcs.forEach((function(n){var r=i.default.createMesh(t.arcGeometry,e.fillMaterial);e.fillMesh.add(r),r.position.x=n.x,r.position.y=n.y})))}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;u(l(t.prototype),"render",this).call(this);var n=e.anchors;if((n&&n.length>1||this.editState.anchors.length>1&&e.scale)&&this.createCloud(),this.strokeMesh){if(e.style){var r=this.hasThicknessChanged(),i=this.materialManager.editMaterial(this.strokeMaterial,this,!1);if(i&&(this.strokeMaterial=i,this.strokeMesh.material=i),this.hasFill())if(this.fillMesh){var s=this.materialManager.editMaterial(this.fillMaterial,this,!0);s&&(this.fillMaterial=s,this.fillMesh.traverse((function(e){return e.material=s})))}else r=!0;else this.removeFill();r&&this.createCloud()}e.translation&&this.setPosition(),void 0!==e.rotation&&this.setRotation(),this.markupsExtension.renderer.invalidate()}}},{key:"isWithFillMarkup",value:function(){return!0}},{key:"needsMiter",value:function(){return!1}}])&&o(n.prototype,s),d&&o(n,d),t}(i.default);d.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupDimension.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupDimension.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js"),o=n(/*! ./MarkupText */"./extensions/BimMarkups/MarkupTypes/MarkupText.js");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u(this,t),(i=c(this,f(t).call(this,e,n,s.MARKUP_TYPE_DIMENSION,r,a))).markupsExtension.viewer.impl.is2d&&i.registerDimensionEditHandler(),i.textMarkup=new o.default(e,n),i.textMarkup.editState.isFrameUsed=!1,i.registerTextInputHandler({singleLine:!0,onEmptyTextMarkup:i.onEmptyTextMarkup.bind(d(i)),submitChanges:i.onSubmitChanges.bind(d(i))}),i.getTextStyle=i.textMarkup.getTextStyle.bind(i.textMarkup);var A=i.textInputHandler.editStart;i.textInputHandler.editStart=function(){A.bind(i.textInputHandler)(),i.onTextMarkupEditStart()};var l=i.textInputHandler.editEnd;return i.textInputHandler.editEnd=function(){l.bind(i.textInputHandler)(),i.onTextMarkupEditEnd()},i.textMarkup.textInputHandler=i.textInputHandler,i}var n,A,E;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(A=[{key:"setVisible",value:function(e,n){h(f(t.prototype),"setVisible",this).call(this,e,n),this.textMarkup.setVisible(e,n)}},{key:"setState",value:function(e){h(f(t.prototype),"setState",this).call(this,e),this.textMarkup.rotatedBoundingBox=null,this.textMarkup.boundingBox=null,this.textMarkup.resetFrameBoundingBox()}},{key:"setEditState",value:function(e,n,r){this.textMarkup.rotatedBoundingBox=null,this.textMarkup.boundingBox=null,this.textMarkup.resetFrameBoundingBox(),h(f(t.prototype),"setEditState",this).call(this,e,n,r)}},{key:"createDimension",value:function(){this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.strokeMaterial||(this.editState.style[s.STYLE_PROPERTIES.THICKNESS]*=s.DIMENSION_THICKNESS_FACTOR,this.strokeMaterial=this.materialManager.addMaterial(this,!1),this.editState.style[s.STYLE_PROPERTIES.THICKNESS]/=s.DIMENSION_THICKNESS_FACTOR),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=a.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.meshContainer.add(this.strokeMesh),this.setPosition()}},{key:"calculateWorldBoundingBox",value:function(e){var n=h(f(t.prototype),"calculateWorldBoundingBox",this).call(this,e),r=this.textMarkup.calculateWorldBoundingBox(!0);return n.union(r)}},{key:"renderText",value:function(){var e=this.getEditState(),t=e.anchors,n=e.text,a=e.style,o=i.default.cloneDeep(a);o[s.STYLE_PROPERTIES.FONT_SIZE]*=s.DIMENSION_FONT_SIZE_FACTOR,this.textMarkup.enabled=this.enabled,this.textMarkup.transparent=this.isTransparent(),this.textMarkup.editState.style=o,this.textMarkup.editState.text=n,this.textMarkup.editState.isSingleLine=!0;var A=t[0].clone().add(t[1]).multiplyScalar(.5);this.applyScaleAndTranslation(A),this.textMarkup.creationHandler.calculateAnchorsByCenterPoint(A);var u=this.markupsExtension.renderer.getCameraRotation(),l=this.markupsExtension.renderer.getCameraEyeVector(),c=this.textMarkup.editState.anchors;c.forEach((function(e){r.default.applyRotation(e,u,A,l)}));var d=r.default.getSignedAngle(this.markupsExtension.renderer.getCameraRightVector(),t[1].clone().sub(t[0]),this.markupsExtension.renderer.getCameraEyeVector());Math.abs(d)>Math.PI/2&&(d+=Math.PI),this.textMarkup.editState.rotation=d-u;var h=c[1].clone(),f=c[2].clone();r.default.applyRotation([h,f],this.textMarkup.editState.rotation,A,l);var p=this.editState.style[s.STYLE_PROPERTIES.THICKNESS]*s.DIMENSION_THICKNESS_FACTOR*s.DIMENSION_TIP_LENGTH,E=f.clone().sub(h),m=E.clone().normalize().multiplyScalar(p).add(E.multiplyScalar(.5));c.forEach((function(e){e.add(m)})),this.textMarkup.render()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;h(f(t.prototype),"render",this).call(this);var n=e.anchors;if(n&&n.length>1&&this.createDimension(),this.strokeMesh){if(e.style){this.editState.style[s.STYLE_PROPERTIES.THICKNESS]*=s.DIMENSION_THICKNESS_FACTOR;var r=this.hasThicknessChanged(),i=this.materialManager.editMaterial(this.strokeMaterial,this,!1);this.editState.style[s.STYLE_PROPERTIES.THICKNESS]/=s.DIMENSION_THICKNESS_FACTOR,i&&(this.strokeMaterial=i,this.strokeMesh.material=i,r&&this.createDimension())}e.translation&&(this.createDimension(),this.setPosition()),this.renderText(),this.markupsExtension.renderer.invalidate()}}},{key:"isTextMarkup",value:function(){return!0}},{key:"isWithFillMarkup",value:function(){return!0}},{key:"onEmptyTextMarkup",value:function(){this.markupsExtension.markupsManager.actionManager.undo();var e=this.creationHandler.getDistance();this.creationHandler.updateEditState({text:e}),this.creationHandler.submitChanges()}},{key:"onSubmitChanges",value:function(){this.textInputHandler.submitChanges(),this.hasChanges=!0}},{key:"remove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.textMarkup.remove(!1),h(f(t.prototype),"remove",this).call(this,e)}},{key:"onTextMarkupEditStart",value:function(){var e=this.textMarkup.editState.text;"("===e[0]&&")"===e[e.length-1]&&(e=e.slice(1,e.length-1)),this.hasChanges=!1,this.creationHandler.updateEditState({text:e})}},{key:"onTextMarkupEditEnd",value:function(){var e=this.textMarkup.editState.text;"("===e[0]&&")"===e[e.length-1]&&(e=e.slice(1,e.length-1)),""!==e&&(this.hasChanges?(this.markupsExtension.markupsManager.actionManager.undo(),this.creationHandler.updateEditState({text:"(".concat(e,")")}),this.creationHandler.submitChanges()):e!==this.creationHandler.getDistance()&&this.creationHandler.updateEditState({text:"(".concat(e,")")}))}}])&&l(n.prototype,A),E&&l(n,E),t}(a.default);E.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n,i){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),a(this,o(t).call(this,e,n,r.MARKUP_TYPE_FREEHAND,i,A))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),t}(n(/*! ./MarkupPen */"./extensions/BimMarkups/MarkupTypes/MarkupPen.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupGroup.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupGroup.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js"),i=(n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),n(/*! ../EditHandlers/TranslationHandler */"./extensions/BimMarkups/EditHandlers/TranslationHandler.js")),s=n(/*! ../EditHandlers/ScaleHandler */"./extensions/BimMarkups/EditHandlers/ScaleHandler.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e,n,r,i,s){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,l(t).call(this,e,n,r,i,s))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState}},{key:"intersect",value:function(e){return!1}},{key:"isGroupMarkup",value:function(){return!0}},{key:"select",value:function(e){this.selected=!0,this.enableEdit(),e&&(this.setLocked(!0),this.markups.forEach((function(t){return t!==e&&!t.isSelected()&&t.select()})),this.setLocked(!1)),this.setDirty()}},{key:"setHover",value:function(e,t){this.hover!==e&&(this.hover=e,t&&(this.setLocked(!0),this.markups.forEach((function(n){return n!==t&&n.isHovered()!==e&&n.setHover(e)})),this.setLocked(!1)),this.setDirty())}},{key:"calculateWorldBoundingBox",value:function(){var e=new THREE.Box3;return this.markups.forEach((function(t){var n=t.getWorldBoundingBox(!0);e.union(n)})),e}},{key:"remove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.markups.forEach((function(t){return t.remove(e)})),u(l(t.prototype),"remove",this).call(this,e)}},{key:"syncGroupMarkups",value:function(e,t,n,r,a){r.anchors&&this.applyConstraints(e,t,n),r.translation&&a instanceof i.default&&0===a.keyTranslation.length()&&this.applyTranslation(e,t,n),r.scale&&a instanceof s.default&&this.applyScale(e,t,n),r.style&&this.applyStyle(e,t,n,r),r.text&&this.applyTextChange(e,t,n)}},{key:"applyConstraints",value:function(e,t,n){}},{key:"applyTranslation",value:function(e,t,n){}},{key:"applyStyle",value:function(e,t,n,r){}},{key:"applyScale",value:function(e,t,n){}},{key:"applyTextChange",value:function(e,t,n){}}])&&o(n.prototype,r),a&&o(n,a),t}(r.default)},"./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,u(t).call(this,e,n,r.MARKUP_TYPE_HIGHLIGHT,i,a))}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"getDefaultStyle",value:function(){var e=A(u(t.prototype),"getDefaultStyle",this).call(this);return e[r.STYLE_PROPERTIES.OPACITY]=r.DEFAULT_HIGHLIGHT_OPACITY,e}}])&&a(n.prototype,i),c&&a(n,c),t}(n(/*! ./MarkupPen */"./extensions/BimMarkups/MarkupTypes/MarkupPen.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupLine.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupLine.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n,i){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),a(this,o(t).call(this,e,n,r.MARKUP_TYPE_LINE,i,A))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),t}(n(/*! ./MarkupLines */"./extensions/BimMarkups/MarkupTypes/MarkupLines.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupLines.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupLines.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r,i){var a,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return s(this,t),(a=o(this,u(t).call(this,e,n,r,i,A))).registerTranslationHandler(),a.registerAnchorHandler(),a}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"createLine",value:function(){this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=r.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.setPosition(),this.meshContainer.add(this.strokeMesh)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;A(u(t.prototype),"render",this).call(this);var n=e.anchors;if(n&&n.length>1&&this.createLine(),this.strokeMesh){if(e.style){var r=this.hasThicknessChanged(),i=this.materialManager.editMaterial(this.strokeMaterial,this,!1);i&&(this.strokeMaterial=i,this.strokeMesh.material=i,r&&this.createLine())}e.translation&&this.setPosition(),this.markupsExtension.renderer.invalidate()}}}])&&a(n.prototype,i),c&&a(n,c),t}(r.default);c.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupPen.js":
/*!********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPen.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r,i){var a,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return s(this,t),(a=o(this,u(t).call(this,e,n,r,i,A))).registerTranslationHandler(),a.registerRotationHandler(),a.registerScaleHandler(),a}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"selectWhenCompleted",value:function(){return!1}},{key:"needsMiter",value:function(){return!0}},{key:"createPen",value:function(){this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=r.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.meshContainer.add(this.strokeMesh),this.setPosition(),this.setRotation()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;A(u(t.prototype),"render",this).call(this);var n=e.anchors;if((n&&n.length>0||this.editState.anchors.length>0&&e.scale)&&this.createPen(),this.strokeMesh){if(e.style){var r=this.materialManager.editMaterial(this.strokeMaterial,this,!1);r&&(this.strokeMaterial=r,this.strokeMesh.material=r)}e.translation&&this.setPosition(),void 0!==e.rotation&&this.setRotation(),this.markupsExtension.renderer.invalidate()}}}])&&a(n.prototype,i),c&&a(n,c),t}(r.default);c.singleClickMarkup=!0,c.useTimerBeforeSelection=!0},"./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e,n,i){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,t),(s=u(this,c(t).call(this,e,n,r.MARKUP_TYPE_POLYCLOUD,i,a))).registerTranslationHandler(),s.registerAnchorHandler(),s.registerRotationHandler(),s.registerScaleHandler(),s}var n,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(a=[{key:"getDefaultState",value:function(){return{closed:!1}}},{key:"needsMiter",value:function(){return!1}},{key:"createCloud",value:function(){if(this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.fillMesh&&(this.meshContainer.remove(this.fillMesh),this.fillMesh=null),this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.meshLine.type===r.MARKUP_TYPE_CIRCLE){var e=this.markupsExtension.renderer.getNormaStrokeWidth();this.meshContainer.scale.x=e,this.meshContainer.scale.y=e}else this.meshContainer.scale.x=1,this.meshContainer.scale.y=1;this.strokeMesh=s.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.hasFill()&&!this.isPoint()&&Object(i.isPolygonSimple)(this.editState.anchors)&&this.createFillMesh(),this.meshContainer.add(this.strokeMesh),this.setPosition(),this.setRotation()}},{key:"createFillMesh",value:function(){var e=this,t=this.markupsExtension.renderer.geometryManager.getFillGeometry(this);t.innerGeometry&&(this.fillMaterial||(this.fillMaterial=this.materialManager.addMaterial(this,!0)),this.fillMesh=s.default.createMesh(t.innerGeometry,this.fillMaterial),this.meshContainer.add(this.fillMesh),t.arcGeometry&&this.meshLine.arcs.forEach((function(n){var r=s.default.createMesh(t.arcGeometry,e.fillMaterial);e.fillMesh.add(r),r.position.x=n.x,r.position.y=n.y})),t.fillGapGeometries&&t.fillGapGeometries.forEach((function(t){var n=s.default.createMesh(t,e.fillMaterial);e.fillMesh.add(n)})))}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;l(c(t.prototype),"render",this).call(this);var n=e.anchors;if((n&&n.length>0||this.editState.anchors.length>0&&e.scale)&&this.createCloud(),this.strokeMesh){if(e.style){var r=this.hasThicknessChanged(),i=this.materialManager.editMaterial(this.strokeMaterial,this,!1);if(i&&(this.strokeMaterial=i,this.strokeMesh.material=i),this.hasFill())if(this.fillMesh){var s=this.materialManager.editMaterial(this.fillMaterial,this,!0);s&&(this.fillMaterial=s,this.fillMesh.traverse((function(e){return e.material=s})))}else r=!0;else this.removeFill();r&&this.createCloud()}e.translation&&this.setPosition(),void 0!==e.rotation&&this.setRotation(),this.markupsExtension.renderer.invalidate()}}},{key:"showPath",value:function(){return!0}},{key:"isWithFillMarkup",value:function(){return this.editState.closed}}])&&A(n.prototype,a),h&&A(n,h),t}(s.default);h.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e,n,i){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,t),(s=u(this,c(t).call(this,e,n,r.MARKUP_TYPE_POLYLINE,i,a))).registerTranslationHandler(),s.registerAnchorHandler(),s.registerRotationHandler(),s.registerScaleHandler(),s}var n,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(a=[{key:"getDefaultState",value:function(){return{closed:!1}}},{key:"createPolyline",value:function(){if(this.strokeMesh&&this.meshContainer.remove(this.strokeMesh),this.fillMesh&&(this.meshContainer.remove(this.fillMesh),this.fillMesh=null),this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=s.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.hasFill()&&!this.isPoint()&&Object(i.isPolygonSimple)(this.editState.anchors)){this.fillMaterial||(this.fillMaterial=this.materialManager.addMaterial(this,!0));var e=this.markupsExtension.renderer.geometryManager.getFillGeometry(this);e&&(this.fillMesh=s.default.createMesh(e,this.fillMaterial),this.meshContainer.add(this.fillMesh))}this.meshContainer.add(this.strokeMesh),this.setPosition(),this.setRotation()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;l(c(t.prototype),"render",this).call(this);var n=e.anchors;if((n&&n.length>0||this.editState.anchors.length>0&&e.scale)&&this.createPolyline(),this.strokeMesh){if(e.style){var r=this.materialManager.editMaterial(this.strokeMaterial,this,!1);r&&(this.strokeMaterial=r,this.strokeMesh.material=r);var i=!1;if(this.hasFill())if(this.fillMesh){var s=this.materialManager.editMaterial(this.fillMaterial,this,!0);s&&(this.fillMaterial=s,this.fillMesh.material=s)}else i=!0;else this.removeFill();i&&this.createPolyline()}e.translation&&this.setPosition(),void 0!==e.rotation&&this.setRotation(),this.markupsExtension.renderer.invalidate()}}},{key:"isWithFillMarkup",value:function(){return this.editState.closed}},{key:"showPath",value:function(){return!0}}])&&A(n.prototype,a),h&&A(n,h),t}(s.default);h.withSnappingMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),o(this,A(t).call(this,e,n,r.MARKUP_TYPE_RECTANGLE,i,a))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"isWithFillMarkup",value:function(){return!0}}])&&a(n.prototype,i),l&&a(n,l),t}(n(/*! ./MarkupScalableShape */"./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js").default)},"./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js ***!
  \******************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,n,r,i){var a,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return s(this,t),(a=o(this,u(t).call(this,e,n,r,i,A))).width=0,a.height=0,a.registerTranslationHandler(),a.registerRotationHandler(),a.registerScaleHandler(),a}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(i=[{key:"setSize",value:function(){var e=this.markupsExtension.renderer.getNormaStrokeWidth();this.meshContainer.scale.x=Math.max(Math.abs(this.width*this.editState.scale.x),e)*Math.sign(this.editState.scale.x),this.meshContainer.scale.y=Math.max(Math.abs(this.height*this.editState.scale.y),e)*Math.sign(this.editState.scale.y)}},{key:"createShape",value:function(e){this.strokeMesh||(this.strokeMaterial||(this.strokeMaterial=this.materialManager.addMaterial(this,!1)),this.meshLine=this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this),this.strokeMesh=r.default.createMesh(this.meshLine.geometry,this.strokeMaterial),this.meshContainer.add(this.strokeMesh),this.meshContainer.rotation.z=-this.markupsExtension.renderer.getCameraRotation()*this.markupsExtension.renderer.getCameraEyeVector().z),!this.fillMesh&&this.hasFill()&&this.createFill(),this.width=e[0].distanceTo(e[1]),this.height=e[2].distanceTo(e[1]),this.setPosition(),this.setSize()}},{key:"createFill",value:function(){this.fillGeometry=this.markupsExtension.renderer.geometryManager.getFillGeometry(this),this.fillGeometry&&(this.fillMaterial||(this.fillMaterial=this.materialManager.addMaterial(this,!0)),this.fillMesh=r.default.createMesh(this.fillGeometry,this.fillMaterial),this.meshContainer.add(this.fillMesh),this.meshContainer.add(this.strokeMesh))}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState;A(u(t.prototype),"render",this).call(this);var n=e.anchors;if(n&&n.length>1&&this.createShape(n),this.strokeMesh){if(e.style){var r=this.materialManager.editMaterial(this.strokeMaterial,this,!1);if(r&&(this.strokeMaterial=r,this.strokeMesh.material=r),this.hasFill())if(this.fillMesh){var i=this.materialManager.editMaterial(this.fillMaterial,this,!0);i&&(this.fillMaterial=i,this.fillMesh.material=i)}else this.createFill();else this.removeFill()}e.translation&&this.setPosition(),void 0!==e.rotation&&this.setRotation(),e.scale&&this.setSize(),this.markupsExtension.renderer.invalidate()}}},{key:"isWithFillMarkup",value:function(){return!0}}])&&a(n.prototype,i),c&&a(n,c),t}(r.default)},"./extensions/BimMarkups/MarkupTypes/MarkupText.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupText.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ./Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js"),o=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),A=n(/*! ./MarkupsTypesDictionary */"./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,t),(i=d(this,f(t).call(this,e,n,s.MARKUP_TYPE_CALLOUT,r,a))).registerTranslationHandler(),i.registerScaleHandler({onlyHorizontal:!0}),i.registerTextInputHandler(),a.rotationNotAllowed||i.registerRotationHandler(),i}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(a=[{key:"getDefaultState",value:function(){return{text:"Default Text",isFrameUsed:!0,frameType:this.options.frameType?this.options.frameType:s.MARKUP_TYPE_RECTANGLE}}},{key:"shouldRenderFrame",value:function(){return this.editState.isFrameUsed||this.hasFill()}},{key:"setVisible",value:function(e,n){h(f(t.prototype),"setVisible",this).call(this,e,n),this.frameMarkup?this.frameMarkup.setVisible(e,n):this.shouldRenderFrame()&&e&&this.renderFrame()}},{key:"render",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editState,this.markupsExtension.renderer.textRenderer.renderMarkup(this),this.shouldRenderFrame()?this.renderFrame():(this.removeFrame(),this.setDirty())}},{key:"renderFrame",value:function(){this.frameMarkup||(this.frameMarkup=new A.markupsTypesDictionary[this.editState.frameType](this.markupsExtension,this.id),this.frameMarkup.layer=this.layer,this.frameMarkup.transparent=this.isTransparent(),this.frameMarkup.editState.anchors=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]);var e=this.frameMarkup.editState;e.style[s.STYLE_PROPERTIES.THICKNESS]=this.editState.style[s.STYLE_PROPERTIES.THICKNESS],e.style[s.STYLE_PROPERTIES.OPACITY]=this.editState.style[s.STYLE_PROPERTIES.OPACITY],e.style[s.STYLE_PROPERTIES.FILL_COLOR]=this.editState.style[s.STYLE_PROPERTIES.FILL_COLOR],e.style[s.STYLE_PROPERTIES.FILL_OPACITY]=this.editState.style[s.STYLE_PROPERTIES.FILL_OPACITY],this.editState.isFrameUsed?(e.style[s.STYLE_PROPERTIES.COLOR]=this.editState.style[s.STYLE_PROPERTIES.COLOR],e.style[s.STYLE_PROPERTIES.OPACITY]=1):(e.style[s.STYLE_PROPERTIES.COLOR]=this.editState.style[s.STYLE_PROPERTIES.FILL_COLOR],e.style[s.STYLE_PROPERTIES.OPACITY]=this.editState.style[s.STYLE_PROPERTIES.FILL_OPACITY]);var t=this.getWorldBoundingBox(),n=e.style[s.STYLE_PROPERTIES.THICKNESS]/2;this.frameMarkup.editState.anchors[0].set(t.min.x+n,t.min.y+n,0),this.frameMarkup.editState.anchors[1].set(t.max.x-n,t.min.y+n,0),this.frameMarkup.editState.anchors[2].set(t.max.x-n,t.max.y-n,0),this.frameMarkup.editState.anchors[3].set(t.min.x+n,t.max.y-n,0),e.rotation=this.editState.rotation,this.frameMarkup.updateMatrix(),this.frameMarkup.render()}},{key:"removeFrame",value:function(){this.frameMarkup&&(this.frameMarkup.remove(!1),this.frameMarkup=null)}},{key:"remove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.removeFrame(),h(f(t.prototype),"remove",this).call(this,e)}},{key:"changeTransparency",value:function(e){this.frameMarkup&&(this.frameMarkup.transparent=e),h(f(t.prototype),"changeTransparency",this).call(this,e)}},{key:"resetFrameBoundingBox",value:function(){this.frameMarkup&&(this.frameMarkup.rotatedBoundingBox=null,this.frameMarkup.boundingBox=null)}},{key:"setState",value:function(e){this.resetFrameBoundingBox(),h(f(t.prototype),"setState",this).call(this,e)}},{key:"setEditState",value:function(e,n,r){if(n&&n.style){var i=Object.assign({},e,n),a=this.markupsExtension.renderer.getFontToWorldScale(),A=this.getTextWidthInFontScale().width,u=this.getTextStyle(this.editState),l=this.getTextStyle(i);u.width="".concat(A,"px"),l.width="".concat(A,"px");var c=Object(o.getTextSize)(this.editState.text,u),d=Object(o.getTextSize)(i.text,l);if(d.height!==c.height){var p=(d.height-c.height)*a,E=this.getBoundingBoxVerticalTranslation(p);if(this.shouldRenderFrame()){var m=this.calculateFrameSize(this.editState.style[s.STYLE_PROPERTIES.FONT_SIZE]),g=this.calculateFrameSize(i.style[s.STYLE_PROPERTIES.FONT_SIZE])-m,y=new THREE.Vector3(g,-g,0);this._rotateTranslationVector(y),E.add(y)}if(n.translation)n.translation.add(E);else{var B=this.getEditState().translation;B.add(E),n.translation=B}}n.isFrameUsed=i.style[s.STYLE_PROPERTIES.COLOR]!==s.COLORS.NO_COLOR}this.resetFrameBoundingBox(),h(f(t.prototype),"setEditState",this).call(this,e,n,r)}},{key:"getTextWidthInFontScale",value:function(){var e=Autodesk.Viewing.isSafari()||Autodesk.Viewing.isIOSDevice(),t=this.markupsExtension.renderer.getFontToWorldScale(),n=this.getWorldBoundingBoxTextOnly().size().x/t;return{preciseWidth:n,width:e?n:Math.ceil(n)||1}}},{key:"getBoundingBoxVerticalTranslation",value:function(e){var t=new THREE.Vector3(0,-e/2,0);return this._rotateTranslationVector(t),t}},{key:"_rotateTranslationVector",value:function(e){var t=this.getRotation();if(0!==t){var n=this.markupsExtension.renderer.getCameraEyeVector();r.default.applyRotation(e,t,new THREE.Vector3,n)}}},{key:"_rotateBoundingBox",value:function(e){var t=this.getRotation();if(0===t)return e;var n=e.center(),i=e.size(),s=this.markupsExtension.renderer.getCameraEyeVector(),a=new THREE.Box3;return[e.min,e.min.clone().add(new THREE.Vector3(i.x,0,0)),e.max,e.min.clone().add(new THREE.Vector3(0,i.y,0))].forEach((function(e){r.default.applyRotation(e,t,n,s),a.expandByPoint(e)})),a}},{key:"_calculateWorldBoundingBoxText",value:function(){var e=this,t=new THREE.Box3,n=i.default.cloneDeep(this.editState.anchors);n.forEach((function(t){e.applyScaleAndTranslation(t)})),n.forEach((function(e){t.expandByPoint(e)}));var r=t.center(),s=this.getTextStyle(),a=this.markupsExtension.renderer.getFontToWorldScale(),A=Object(o.getTextSize)("A",s);t.size().x<A.width*a&&(t.min.x=r.x,t.max.x=r.x,t.expandByVector(new THREE.Vector3(A.width*a/2,0,0)));var u=Math.ceil(t.size().x/a);return s.width="".concat(u,"px"),A=Object(o.getTextSize)(this.editState.text,s),t.min.y=r.y,t.max.y=r.y,t.expandByVector(new THREE.Vector3(0,A.height*a/2,0)),t}},{key:"calculateWorldBoundingBox",value:function(e){var t=this._calculateWorldBoundingBoxText();if(this.shouldRenderFrame()){var n=this.getWorldFrameSize();t.expandByVector(new THREE.Vector3(n,n,0))}return e?this._rotateBoundingBox(t):t}},{key:"calculateFrameSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.editState.style[s.STYLE_PROPERTIES.THICKNESS],n=this.markupsExtension.renderer.getFontToWorldScale(),r=e*n/2;return this.editState.isFrameUsed?this.editState.frameType===s.MARKUP_TYPE_CLOUD&&(t+=this.markupsExtension.renderer.geometryManager.getCloudMinimumRadius(t)/2):t=0,r+t}},{key:"getWorldFrameSize",value:function(){return this.calculateFrameSize(this.editState.style[s.STYLE_PROPERTIES.FONT_SIZE])}},{key:"getClientFrameSize",value:function(){var e=this.getWorldFrameSize();return this.markupsExtension.renderer.sizeFromWorldToClient(e)}},{key:"getWorldBoundingBoxTextOnly",value:function(e){if(!this.shouldRenderFrame())return this.getWorldBoundingBox(e).clone();var t=this.getWorldBoundingBox(!1).clone(),n=this.getWorldFrameSize();return t.expandByVector(new THREE.Vector3(-n,-n,0)),e?this._rotateBoundingBox(t):t}},{key:"getClientBoundingBoxTextOnly",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getWorldBoundingBoxTextOnly(e);return n.min=this.markupsExtension.renderer.worldToClient(n.min),n.max=this.markupsExtension.renderer.worldToClient(n.max),t&&r.default.swapBoundingBoxY(n),n}},{key:"getTextStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getEditState(),t=e.style,n={};return n.color=t[s.STYLE_PROPERTIES.FONT_COLOR],n.fontFamily=t[s.STYLE_PROPERTIES.FONT_FAMILY],n.opacity=t[s.STYLE_PROPERTIES.OPACITY]*(this.isTransparent()?s.DISABLED_OPACITY:1),n.fontSize="".concat(t[s.STYLE_PROPERTIES.FONT_SIZE],"px"),n.fontWeight=t[s.STYLE_PROPERTIES.FONT_WEIGHT],n.fontStyle=t[s.STYLE_PROPERTIES.FONT_STYLE],n.whiteSpace=e.isSingleLine?"nowrap":"pre-wrap",n.lineHeight=1,n.backgroundColor=null,n}},{key:"getMinimumSize",value:function(){var e=h(f(t.prototype),"getMinimumSize",this).call(this),n=this.getTextStyle(),r=Object(o.getTextSize)("A",n),i=this.markupsExtension.renderer.getFontToWorldScale();return Math.max(this.markupsExtension.renderer.sizeFromWorldToClient(r.width*i+2*this.getWorldFrameSize()),e)}},{key:"isTextMarkup",value:function(){return!0}},{key:"isGeometricMarkup",value:function(){return!1}},{key:"isWithFillMarkup",value:function(){return!0}},{key:"getStartPointForNextMarkup",value:function(){return this.getWorldBoundingBox().center().clone()}}])&&c(n.prototype,a),u&&c(n,u),t}(a.default);E.singleClickMarkup=!0},"./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js":
/*!*********************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js ***!
  \*********************************************************************/
/*! exports provided: markupsTypesDictionary */function(e,t,n){"use strict";n.r(t),n.d(t,"markupsTypesDictionary",(function(){return y}));var r,i=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),s=n(/*! ./MarkupArrow */"./extensions/BimMarkups/MarkupTypes/MarkupArrow.js"),a=n(/*! ./MarkupPolyline */"./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js"),o=n(/*! ./MarkupPolycloud */"./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js"),A=n(/*! ./MarkupRectangle */"./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js"),u=n(/*! ./MarkupCircle */"./extensions/BimMarkups/MarkupTypes/MarkupCircle.js"),l=n(/*! ./MarkupCloud */"./extensions/BimMarkups/MarkupTypes/MarkupCloud.js"),c=n(/*! ./MarkupFreehand */"./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js"),d=n(/*! ./MarkupHighlight */"./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js"),h=n(/*! ./MarkupText */"./extensions/BimMarkups/MarkupTypes/MarkupText.js"),f=n(/*! ./MarkupDimension */"./extensions/BimMarkups/MarkupTypes/MarkupDimension.js"),p=n(/*! ./MarkupLine */"./extensions/BimMarkups/MarkupTypes/MarkupLine.js"),E=n(/*! ./MarkupArrowCallout */"./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js"),m=n(/*! ./MarkupArrowCloudCallout */"./extensions/BimMarkups/MarkupTypes/MarkupArrowCloudCallout.js");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(g(r={},i.MARKUP_TYPE_ARROW,s.default),g(r,i.MARKUP_TYPE_POLYLINE,a.default),g(r,i.MARKUP_TYPE_POLYCLOUD,o.default),g(r,i.MARKUP_TYPE_RECTANGLE,A.default),g(r,i.MARKUP_TYPE_CIRCLE,u.default),g(r,i.MARKUP_TYPE_CLOUD,l.default),g(r,i.MARKUP_TYPE_FREEHAND,c.default),g(r,i.MARKUP_TYPE_HIGHLIGHT,d.default),g(r,i.MARKUP_TYPE_ARROW_CALLOUT,E.default),g(r,i.MARKUP_TYPE_ARROW_CLOUD_CALLOUT,m.default),g(r,i.MARKUP_TYPE_CALLOUT,h.default),g(r,i.MARKUP_TYPE_TEXT,h.default),g(r,i.MARKUP_TYPE_DIMENSION,f.default),g(r,i.MARKUP_TYPE_LINE,p.default),r)},"./extensions/BimMarkups/MarkupsCommon.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsCommon.js ***!
  \************************************************/
/*! exports provided: forAll, flatten, isEqualVectors, getObjectAsList, nearestPointInPointToLine, applyTranslation, convertHexToRGBA, getTextSize, createArc, createCloud, isClockwise, isTrueValue, getArcAngleSize, insertInSortedArray, checkLineIntersection, handleIntersection, markupsOverlayRenderer, getScreenShotOfMarkup, setCustomGestureValues, restoreGestureValues, simplify, isPolygonSimple */function(e,t,n){"use strict";n.r(t),n.d(t,"forAll",(function(){return a})),n.d(t,"flatten",(function(){return o})),n.d(t,"isEqualVectors",(function(){return A})),n.d(t,"getObjectAsList",(function(){return u})),n.d(t,"nearestPointInPointToLine",(function(){return l})),n.d(t,"applyTranslation",(function(){return c})),n.d(t,"convertHexToRGBA",(function(){return d})),n.d(t,"getTextSize",(function(){return h})),n.d(t,"createArc",(function(){return f})),n.d(t,"createCloud",(function(){return m})),n.d(t,"isClockwise",(function(){return g})),n.d(t,"isTrueValue",(function(){return y})),n.d(t,"getArcAngleSize",(function(){return B})),n.d(t,"insertInSortedArray",(function(){return v})),n.d(t,"checkLineIntersection",(function(){return k})),n.d(t,"handleIntersection",(function(){return _})),n.d(t,"markupsOverlayRenderer",(function(){return w})),n.d(t,"getScreenShotOfMarkup",(function(){return C})),n.d(t,"setCustomGestureValues",(function(){return S})),n.d(t,"restoreGestureValues",(function(){return M})),n.d(t,"simplify",(function(){return T})),n.d(t,"isPolygonSimple",(function(){return b}));var r=n(/*! ./Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),s=Autodesk.Viewing,a=function(e,t){e&&Object.keys(e).forEach((function(n){var r=e[n];r&&t(r)}))},o=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},A=function(e,t,n){return!(!e||!t)&&(n=n||i.EPSILON,e.distanceTo(t)<=n)},u=function(e){var t=[];return a(e,(function(e){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)})),t},l=function(e,t,n){var r,i=new THREE.Vector3,s=new THREE.Vector3;return i.subVectors(t,e),s.subVectors(n,t),r=i.dot(s),i.subVectors(n,t),r=-r/i.dot(i),i.subVectors(n,t),i.multiplyScalar(r),i.add(t)},c=function(e,t){e instanceof Array||(e=[e]),e.forEach((function(e){e.x+=t.x,e.y+=t.y,e.z+=t.z}))},d=function(e,t){return e&&e!==i.COLORS.NO_COLOR&&t?(e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t+")"):null},h=function(){var e=s.getGlobal().document,t=e.createElement("div");t.id="text-markup-measure-div",t.style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",t.style.textRendering="geometricPrecision",e.body.appendChild(t);var n={};return function(e,r){var i="".concat(e,"_").concat(r.fontWeight,"_").concat(r.fontSize,"_").concat(r.fontFamily,"_").concat(r.fontStyle,"_").concat(r.width);if(n[i])return n[i];t.innerText=e,t.style.fontWeight=r.fontWeight,t.style.fontSize=r.fontSize,t.style.fontFamily=r.fontFamily,t.style.fontStyle=r.fontStyle,t.style.overflowWrap=r.overflowWrap||"break-word",t.style.wordWrap=r.wordWrap||"break-word",t.style.whiteSpace=r.whiteSpace||"pre-wrap",t.style.width=r.width||(Autodesk.Viewing.isIE11?"auto":"unset"),t.style.lineHeight=r.lineHeight||1;var s=t.getBoundingClientRect(),a=s.width,o=s.height;return n[i]={width:a,height:o},n[i]}}(),f=function(e,t,n,r,i,s,a,o){var A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;o||(o=[]),e=e||0,t=t||0,n=n||0,r=r||0,i=i||0;var l=Math.abs(r-i);l>2*Math.PI&&(l-=2*Math.PI),(!s&&r>i||s&&i>r)&&(l=2*Math.PI-l),"number"!=typeof a&&(A=A||n,a=Math.max(6,2*Math.floor(6*Math.pow(A,1/3)*(l/Math.PI))));var c=l/(a=Math.max(a,3)),d=r;c*=s?-1:1;for(var h=0;h<a+1;h++){var f=e+Math.cos(d)*n,p=t+Math.sin(d)*n;o.push({x:f,y:p,z:0}),u&&(u.min.x=Math.min(u.min.x,f),u.min.y=Math.min(u.min.y,p),u.max.x=Math.max(u.max.x,f),u.max.y=Math.max(u.max.y,p)),d+=c}return o},p=function(e,t,n,r){var i=new THREE.Vector2(e[n].x+Math.cos(e[n].end)*t,e[n].y+Math.sin(e[n].end)*t),s=new THREE.Vector2(e[r].x+Math.cos(e[r].begin)*t,e[r].y+Math.sin(e[r].begin)*t),a=i.clone().sub(s),o=a.length(),A=i.clone().add(s).divideScalar(2);a.normalize();var u=Math.sqrt(Math.max(0,t*t-o/2*(o/2))),l=new THREE.Vector2(a.y,-a.x);l.multiplyScalar(u);var c=A.clone().add(l),d=Math.atan2(i.y-c.y,i.x-c.x),h=Math.atan2(s.y-c.y,s.x-c.x),f={x:c.x,y:c.y,begin:d,end:h};return e.splice(n+1,0,f),{newCircle:f,beginPoint:i,endPoint:s}},E=function(e,t,n){for(var r=0;r<n.length;r++){for(var i=null,s=0,a=0;a<e.length;a++)if(e[a]["isCurrentIntersection"+r])for(var o=0;o<e.length;o++){if(e[o]["isNextIntersection"+r])Math.sqrt((e[a].x-e[o].x)*(e[a].x-e[o].x)+(e[a].y-e[o].y)*(e[a].y-e[o].y))<2*t&&(e[a].hide=!0,null===i&&(i=a-1),e[o].hide=!0,s<o+1&&(s=o+1))}n[r].begin=i,n[r].end=s}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.8,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];function A(e,t,n){var r=t.x-e.x,i=t.y-e.y,s=.5*Math.sqrt(r*r+i*i)/n;s<-1&&(s=-1),s>1&&(s=1);var a=Math.atan2(i,r),o=Math.acos(s);return[a-o,Math.PI+a+o]}var u=[],l=2*t*s,c=n?e[e.length-1]:e[0];o=o||!n;for(var d=n?0:1;d<e.length;d++){var h=e[d],f=h.x-c.x,m=h.y-c.y,g=Math.sqrt(f*f+m*m);f/=g,m/=g;var y=0,B=0;n||(1===d?(g-=t,c.x+=f*t,c.y+=m*t,y=Math.atan2(m,f)+Math.PI):d===e.length-1&&(B=Math.atan2(m,f)));var v=l;if(o){var k=g/l+.5|0;k<1&&(k=1),v=g/k}for(var _=0;_+.1*v<g;_+=v){u.push({x:c.x+_*f,y:c.y+_*m,begin:y,end:B,isAnchor:0===_});for(var w=0;w<i.length;w++)u[u.length-1]["isNextIntersection"+w]=h["isNextIntersection"+w],u[u.length-1]["isCurrentIntersection"+w]=h["isCurrentIntersection"+w],h["isNextIntersection"+w]&&0===_&&(i[w].anchorPoint=u[u.length-1])}c=h}var C=r.default.degreesToRadians(a);c=u[u.length-1];for(var S=0;S<u.length;S++){var M=u[S],T=A(c,M,t);(n||0!==S)&&(c.end=T[0]+C,M.begin=T[1]),c=M}E(u,t,i);for(var b=i.length-1;b>-1;b--)if(u[i[b].begin]&&u[i[b].end]){i[b].beginCircle=u[i[b].begin],i[b].endCircle=u[i[b].end];var U=p(u,t,i[b].begin,i[b].end),x=U.newCircle,R=U.beginPoint,Q=U.endPoint;i[b].newCircle=x,i[b].beginPoint=R,i[b].endPoint=Q}return u=u.filter((function(e){return!e.hide}))},g=function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r],s=e[(r+1)%e.length];n+=(s.x-i.x)*(s.y+i.y)}return n*t.scaleMatrix.elements[0]*t.scaleMatrix.elements[5]>0},y=function(e){return"true"===e||!0===e||1===e},B=function(e,t){var n=Math.abs(e.begin-e.end);return n>2*Math.PI&&(n-=2*Math.PI),(!t&&e.begin>e.end||t&&e.end>e.begin)&&(n=2*Math.PI-n),n},v=function(e,t,n){return t.splice(function(e,t,n){if(0===t.length)return-1;for(var r=0,i=t.length,s=Math.floor(i/2);i-r>1;){var a=n(t[s],e);if(0===a)return s;a>0?i=s:r=s,s=Math.floor(r+(i-r)/2)}return n(t[s],e)>0?s-1:s}(e,t,n)+1,0,e),t},k=function(e,t,n,r){var i={x:null,y:null,onLine1:!1,onLine2:!1,onBothLines:!1},s=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0===s)return i;var a=e.y-n.y,o=e.x-n.x,A=(r.x-n.x)*a-(r.y-n.y)*o,u=(t.x-e.x)*a-(t.y-e.y)*o;return a=A/s,o=u/s,i.x=e.x+a*(t.x-e.x),i.y=e.y+a*(t.y-e.y),a>0&&a<1&&(i.onLine1=!0),o>0&&o<1&&(i.onLine2=!0),i.onBothLines=i.onLine1&&i.onLine2,i},_=function(e,t,n){for(var r=e.length,i=[],s=0;s<r;s++){var a=e[0===s?r-1:s-1],o=e[s],A=e[(s+1)%r];if(!o||!A)break;var u=Math.atan2(o.y-a.y,o.x-a.x),l={};l.p1=new THREE.Vector3(a.x+Math.cos(u-Math.PI/2)*t,a.y+Math.sin(u-Math.PI/2)*t,1),l.p2=new THREE.Vector3(o.x+Math.cos(u-Math.PI/2)*t,o.y+Math.sin(u-Math.PI/2)*t,1);var c=Math.atan2(A.y-o.y,A.x-o.x),d={};d.p1=new THREE.Vector3(o.x+Math.cos(c-Math.PI/2)*t,o.y+Math.sin(c-Math.PI/2)*t,1),d.p2=new THREE.Vector3(A.x+Math.cos(c-Math.PI/2)*t,A.y+Math.sin(c-Math.PI/2)*t,1);var h=k(l.p1,l.p2,d.p1,d.p2);if(h.onBothLines){var f=new THREE.Vector3(o.x-a.x,o.y-a.y,0),p=new THREE.Vector3(A.x-o.x,A.y-o.y,0);f.normalize(),p.normalize(),f.multiplyScalar(-1);var E=(new THREE.Vector3).crossVectors(f,p),m=Math.asin(E.z),g=f.dot(p);Math.atan2(m,g)<Math.PI/2&&(o["isCurrentIntersection"+i.length]=!0,A["isNextIntersection"+i.length]=!0,o.intersects=i,A.intersects=i,i.push(h))}}return i},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.width,i=t.height,s=t.ctx,a=t.target,o=t.screenshotCamera,A=t.onRenderDone,u=n.markupLayer,l=e.getExtension("Autodesk.BIM360.Markups");if(l){var c=e.impl.getCanvasBoundingClientRect(),d=c.width,h=c.height,f=e.impl.glrenderer();f.pushViewport();var p=f.getPixelRatio();f.setPixelRatio(1),f.setViewport(0,0,r,i),l.renderer.onResize({width:r,height:i});var E,m,g=e.impl.is2d?o:l.renderer.markupsCamera,y=l.markupsManager.getVisibleLayers();u&&y.forEach((function(e){return e!==u&&e.setVisible(!1)}));var B=function(){u&&(E=u.isVisible(),m=u.isTransparent(),u.setVisible(!0),u.changeTransparency(!1))},v=function(){u&&(u.setVisible(E),u.changeTransparency(!m))};B(),l.renderer.render(a,g),v(),f.popViewport(),f.setPixelRatio(p),l.renderer.onResize({width:d,height:h});var k=s.targetToCanvas(a),_=k.canvas,w=r/d;l.renderer.textRenderer.renderTextToCanvas(_,g,w,B,v,A),u&&y.forEach((function(e){return e!==u&&e.setVisible(!0)}))}else A(s.targetToCanvas(a).canvas)},C=function(e,t,n){var r,s=e.getExtension("Autodesk.BIM360.Markups");n&&e.impl.is2d&&(r=n.getWorldBoundingBox(),Autodesk.Viewing.ScreenShot.makeBoundsSquare(r));var a={bounds:r,margin:n?i.SELECTION_ZOOM_MARGIN:0,overlayRenderer:w,overlayRendererExtraOptions:{markupLayer:n},getCropBounds:n&&function(e,t){r=n.getWorldBoundingBox(),Autodesk.Viewing.ScreenShot.makeBoundsSquare(r);var a=s.renderer.markupsCamera;e.impl.is2d&&(s.renderer.markupsCamera=t);var o=s.renderer.worldToClient(r.min),A=s.renderer.worldToClient(r.max);s.renderer.markupsCamera=a;var u=(new THREE.Box3).setFromPoints([o,A]);Autodesk.Viewing.ScreenShot.makeBoundsSquare(u,i.MINIMUM_THUMBNAIL_SIZE);var l=u.size().x;return u.expandByVector(new THREE.Vector3(l*i.SELECTION_ZOOM_MARGIN,l*i.SELECTION_ZOOM_MARGIN,0)),u}};Autodesk.Viewing.ScreenShot.getScreenShotAtScreenSize(e,t,a)},S=function(e){var t=e.toolController.getTool("gestures");t&&(t.setGestureParameter("singletap","time",250),t.setGestureParameter("drag","threshold",0))},M=function(e){var t=e.toolController.getTool("gestures");t&&(t.restoreGestureParameterDefault("singletap","time"),t.restoreGestureParameterDefault("drag","threshold"))},T=function(e,t,n){if(e.length<=2)return e;function r(e,t,n){var r=t.x,i=t.y,s=n.x-r,a=n.y-i;if(0!==s||0!==a){var o=((e.x-r)*s+(e.y-i)*a)/(s*s+a*a);o>1?(r=n.x,i=n.y):o>0&&(r+=s*o,i+=a*o)}return(s=e.x-r)*s+(a=e.y-i)*a}var i=void 0!==t?t*t:1;return e=function(e,t){var n=e.length-1,i=[e[0]];return function e(t,n,i,s,a){for(var o,A=s,u=n+1;u<i;u++){var l=r(t[u],t[n],t[i]);l>A&&(o=u,A=l)}A>s&&(o-n>1&&e(t,n,o,s,a),a.push(t[o]),i-o>1&&e(t,o,i,s,a))}(e,0,n,t,i),i.push(e[n]),i}(e=n?e:function(e,t){for(var n,r,i,s,a,o=e[0],A=[o],u=1,l=e.length;u<l;u++)n=e[u],i=o,s=void 0,a=void 0,s=(r=n).x-i.x,a=r.y-i.y,s*s+a*a>t&&(A.push(n),o=n);return o!==n&&A.push(n),A}(e,i),i)};function b(e){var t=e.length;if(3===t)return!0;for(var n=0;n<t;n++)for(var r=e[n],i=e[(n+1)%t],s=n+2;s<t;s++){var a=e[s%t],o=e[(s+1)%t];if(o===r)break;if(k(r,i,a,o).onBothLines)return!1}return!0}},"./extensions/BimMarkups/MarkupsConstants.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsConstants.js ***!
  \***************************************************/
/*! exports provided: COLORS, DEFAULT_COLORS, DEFAULT_FILL_COLORS, STYLE_PROPERTIES, FONT_SIZES, MESHLINE_PATH_START, MESHLINE_PATH_END, MESHLINE_PATH_DEFAULT, MESHLINE_PATH_ROUND_CAP, MESHLINE_PATH_FLAT_CAP, MARKUP_TYPE_ARROW, MARKUP_TYPE_RECTANGLE, MARKUP_TYPE_CIRCLE, MARKUP_TYPE_CLOUD, MARKUP_TYPE_FREEHAND, MARKUP_TYPE_HIGHLIGHT, MARKUP_TYPE_POLYLINE, MARKUP_TYPE_POLYCLOUD, MARKUP_TYPE_TEXT, MARKUP_TYPE_CALLOUT, MARKUP_TYPE_ARROW_CALLOUT, MARKUP_TYPE_ARROW_CLOUD_CALLOUT, MARKUP_TYPE_DIMENSION, MARKUP_TYPE_LINE, RECT_SELECTOR, MARKUP_STATUS_SAVE_FAILED, MARKUP_STATUS_SAVE_SUCCEED, MARKUP_STATUS_SAVING, MARKUP_STATUS_DELETING, MARKUP_STATUS_DELETE_SUCCEED, MARKUP_STATUS_DELETE_FAILED, MARKUP_STATUS_CREATED, MARKUP_STATUS_OPEN, MARKUP_STATUS_PRIVATE, MARKUP_STATUS_PUBLISHED, MARKUP_STATUS_PUBLISHING, MARKUP_STATUS_CLOSED, MARKUP_STATUS_ARCHIVED, MARKUP_STATUS_ARCHIVING, MARKUP_ATTACHMENT_LOADING, MARKUP_ATTACHMENT_SAVING, MARKUP_ATTACHMENT_SAVE_SUCCEED, MARKUP_ATTACHMENT_SAVE_FAILED, MARKUP_ATTACHMENT_RENAMING, MARKUP_ATTACHMENT_DELETEING, ATTACHMENT_DATA_TYPE_BINARY, ATTACHMENT_DATA_TYPE_TEXT, MARKUP_RESOURCE_TYPE_SVG, MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE, DEFAULT_STATUSES_TO_LOAD, MARKUP_SUPPORT_GUID_EXT, LINK_TYPE_ATTACHMENTS, LINK_TYPE_DOCUMENT_ATTACHMENT, DEFAULT_MARKUP, DEFAULT_COLOR, DEFAULT_FONT_COLOR, DEFAULT_FILL_COLOR, DEFAULT_THICKNESS, DEFAULT_OPACITY, DEFAULT_HIGHLIGHT_OPACITY, DEFAULT_FILL_OPACITY, DEFAULT_STROKE_IN_MM, DEFAULT_FONT_SIZE_IN_PIXELS, DEFAULT_FONT_SIZE_IN_MM, DEFAULT_FONT_WEIGHT, DEFAULT_FONT_FAMILY, DEFAULT_FONT_STYLE, SUB_MENU_VISIBLE_CLASS, ARROW_TIP_LENGTH, EPSILON, TOUCH_RADIUS, ANCHOR_RADIUS, MIN_CHANGE_DISTANCE, SNAP_DISTANCE, MIN_FREEHAND_POINT_DISTANCE, MIN_ANGLE_CHANGE, ROTATION_ANCHOR_DISTANCE, ROTATION_SNAP_DEGREES, PASTE_OFFSET, ARROW_MOVE_OFFSET, CONTEXTUAL_MENU_OFFSET, LINK_POSITION_OFFSET, LINK_ICON_SIZE, SELECTION_ZOOM_MARGIN, MAX_THICKNESS, PERSPECTIVE_MODE_SCALE, FRAME_SIZE_SCALE, BOUNDING_BOX_MARGIN, HIT_AREA_MARGIN, TEXT_DEBOUNCE, DIMENSION_TIP_LENGTH, DIMENSION_THICKNESS_FACTOR, DIMENSION_FONT_SIZE_FACTOR, DISABLED_OPACITY, MOBILE_GESTURES_MIN_THRESHOLD_TIME, SCREEN_MARGIN, TEXT_LENGTH_LIMIT, MINIMUM_THUMBNAIL_SIZE, WORLD_3D_SIZE, MAX_NORMA_PERCENTAGE, MAX_NORMA_TEXT_PERCENTAGE, NORMA_3D, NORMA_TEXT_3D, POINT_SIZE_IN_MM, TIMEOUT_TO_SELECT_AFTER_DRAWEND, MARKUP_CREATION_CURSORS, MARKUP_ERRORS */function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"COLORS",(function(){return s})),n.d(t,"DEFAULT_COLORS",(function(){return a})),n.d(t,"DEFAULT_FILL_COLORS",(function(){return o})),n.d(t,"STYLE_PROPERTIES",(function(){return A})),n.d(t,"FONT_SIZES",(function(){return u})),n.d(t,"MESHLINE_PATH_START",(function(){return l})),n.d(t,"MESHLINE_PATH_END",(function(){return c})),n.d(t,"MESHLINE_PATH_DEFAULT",(function(){return d})),n.d(t,"MESHLINE_PATH_ROUND_CAP",(function(){return h})),n.d(t,"MESHLINE_PATH_FLAT_CAP",(function(){return f})),n.d(t,"MARKUP_TYPE_ARROW",(function(){return p})),n.d(t,"MARKUP_TYPE_RECTANGLE",(function(){return E})),n.d(t,"MARKUP_TYPE_CIRCLE",(function(){return m})),n.d(t,"MARKUP_TYPE_CLOUD",(function(){return g})),n.d(t,"MARKUP_TYPE_FREEHAND",(function(){return y})),n.d(t,"MARKUP_TYPE_HIGHLIGHT",(function(){return B})),n.d(t,"MARKUP_TYPE_POLYLINE",(function(){return v})),n.d(t,"MARKUP_TYPE_POLYCLOUD",(function(){return k})),n.d(t,"MARKUP_TYPE_TEXT",(function(){return _})),n.d(t,"MARKUP_TYPE_CALLOUT",(function(){return w})),n.d(t,"MARKUP_TYPE_ARROW_CALLOUT",(function(){return C})),n.d(t,"MARKUP_TYPE_ARROW_CLOUD_CALLOUT",(function(){return S})),n.d(t,"MARKUP_TYPE_DIMENSION",(function(){return M})),n.d(t,"MARKUP_TYPE_LINE",(function(){return T})),n.d(t,"RECT_SELECTOR",(function(){return b})),n.d(t,"MARKUP_STATUS_SAVE_FAILED",(function(){return U})),n.d(t,"MARKUP_STATUS_SAVE_SUCCEED",(function(){return x})),n.d(t,"MARKUP_STATUS_SAVING",(function(){return R})),n.d(t,"MARKUP_STATUS_DELETING",(function(){return Q})),n.d(t,"MARKUP_STATUS_DELETE_SUCCEED",(function(){return P})),n.d(t,"MARKUP_STATUS_DELETE_FAILED",(function(){return L})),n.d(t,"MARKUP_STATUS_CREATED",(function(){return H})),n.d(t,"MARKUP_STATUS_OPEN",(function(){return F})),n.d(t,"MARKUP_STATUS_PRIVATE",(function(){return I})),n.d(t,"MARKUP_STATUS_PUBLISHED",(function(){return O})),n.d(t,"MARKUP_STATUS_PUBLISHING",(function(){return N})),n.d(t,"MARKUP_STATUS_CLOSED",(function(){return D})),n.d(t,"MARKUP_STATUS_ARCHIVED",(function(){return j})),n.d(t,"MARKUP_STATUS_ARCHIVING",(function(){return K})),n.d(t,"MARKUP_ATTACHMENT_LOADING",(function(){return V})),n.d(t,"MARKUP_ATTACHMENT_SAVING",(function(){return Y})),n.d(t,"MARKUP_ATTACHMENT_SAVE_SUCCEED",(function(){return G})),n.d(t,"MARKUP_ATTACHMENT_SAVE_FAILED",(function(){return z})),n.d(t,"MARKUP_ATTACHMENT_RENAMING",(function(){return W})),n.d(t,"MARKUP_ATTACHMENT_DELETEING",(function(){return X})),n.d(t,"ATTACHMENT_DATA_TYPE_BINARY",(function(){return J})),n.d(t,"ATTACHMENT_DATA_TYPE_TEXT",(function(){return q})),n.d(t,"MARKUP_RESOURCE_TYPE_SVG",(function(){return Z})),n.d(t,"MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE",(function(){return $})),n.d(t,"DEFAULT_STATUSES_TO_LOAD",(function(){return ee})),n.d(t,"MARKUP_SUPPORT_GUID_EXT",(function(){return te})),n.d(t,"LINK_TYPE_ATTACHMENTS",(function(){return ne})),n.d(t,"LINK_TYPE_DOCUMENT_ATTACHMENT",(function(){return re})),n.d(t,"DEFAULT_MARKUP",(function(){return ie})),n.d(t,"DEFAULT_COLOR",(function(){return se})),n.d(t,"DEFAULT_FONT_COLOR",(function(){return ae})),n.d(t,"DEFAULT_FILL_COLOR",(function(){return oe})),n.d(t,"DEFAULT_THICKNESS",(function(){return Ae})),n.d(t,"DEFAULT_OPACITY",(function(){return ue})),n.d(t,"DEFAULT_HIGHLIGHT_OPACITY",(function(){return le})),n.d(t,"DEFAULT_FILL_OPACITY",(function(){return ce})),n.d(t,"DEFAULT_STROKE_IN_MM",(function(){return de})),n.d(t,"DEFAULT_FONT_SIZE_IN_PIXELS",(function(){return he})),n.d(t,"DEFAULT_FONT_SIZE_IN_MM",(function(){return fe})),n.d(t,"DEFAULT_FONT_WEIGHT",(function(){return pe})),n.d(t,"DEFAULT_FONT_FAMILY",(function(){return Ee})),n.d(t,"DEFAULT_FONT_STYLE",(function(){return me})),n.d(t,"SUB_MENU_VISIBLE_CLASS",(function(){return ge})),n.d(t,"ARROW_TIP_LENGTH",(function(){return Be})),n.d(t,"EPSILON",(function(){return ve})),n.d(t,"TOUCH_RADIUS",(function(){return ke})),n.d(t,"ANCHOR_RADIUS",(function(){return _e})),n.d(t,"MIN_CHANGE_DISTANCE",(function(){return we})),n.d(t,"SNAP_DISTANCE",(function(){return Ce})),n.d(t,"MIN_FREEHAND_POINT_DISTANCE",(function(){return Se})),n.d(t,"MIN_ANGLE_CHANGE",(function(){return Me})),n.d(t,"ROTATION_ANCHOR_DISTANCE",(function(){return Te})),n.d(t,"ROTATION_SNAP_DEGREES",(function(){return be})),n.d(t,"PASTE_OFFSET",(function(){return Ue})),n.d(t,"ARROW_MOVE_OFFSET",(function(){return xe})),n.d(t,"CONTEXTUAL_MENU_OFFSET",(function(){return Re})),n.d(t,"LINK_POSITION_OFFSET",(function(){return Qe})),n.d(t,"LINK_ICON_SIZE",(function(){return Pe})),n.d(t,"SELECTION_ZOOM_MARGIN",(function(){return Le})),n.d(t,"MAX_THICKNESS",(function(){return He})),n.d(t,"PERSPECTIVE_MODE_SCALE",(function(){return Fe})),n.d(t,"FRAME_SIZE_SCALE",(function(){return Ie})),n.d(t,"BOUNDING_BOX_MARGIN",(function(){return Oe})),n.d(t,"HIT_AREA_MARGIN",(function(){return Ne})),n.d(t,"TEXT_DEBOUNCE",(function(){return De})),n.d(t,"DIMENSION_TIP_LENGTH",(function(){return je})),n.d(t,"DIMENSION_THICKNESS_FACTOR",(function(){return Ke})),n.d(t,"DIMENSION_FONT_SIZE_FACTOR",(function(){return Ve})),n.d(t,"DISABLED_OPACITY",(function(){return Ye})),n.d(t,"MOBILE_GESTURES_MIN_THRESHOLD_TIME",(function(){return Ge})),n.d(t,"SCREEN_MARGIN",(function(){return ze})),n.d(t,"TEXT_LENGTH_LIMIT",(function(){return We})),n.d(t,"MINIMUM_THUMBNAIL_SIZE",(function(){return Xe})),n.d(t,"WORLD_3D_SIZE",(function(){return Je})),n.d(t,"MAX_NORMA_PERCENTAGE",(function(){return qe})),n.d(t,"MAX_NORMA_TEXT_PERCENTAGE",(function(){return Ze})),n.d(t,"NORMA_3D",(function(){return $e})),n.d(t,"NORMA_TEXT_3D",(function(){return et})),n.d(t,"POINT_SIZE_IN_MM",(function(){return tt})),n.d(t,"TIMEOUT_TO_SELECT_AFTER_DRAWEND",(function(){return nt})),n.d(t,"MARKUP_CREATION_CURSORS",(function(){return rt})),n.d(t,"MARKUP_ERRORS",(function(){return it}));var s={RED:"#FF0000",GREEN:"#00F72C",BLUE:"#103FFB",ORANGE:"#FF9224",YELLOW:"#FEF935",CYAN:"#03FCFE",WHITE:"#FFFFFF",BLACK:"#000000",PINK:"#FF4CFC",PURPLE:"#922890",NO_COLOR:"-1"},a=[{color:s.RED,label:"Red"},{color:s.BLUE,label:"Blue"},{color:s.PURPLE,label:"Purple"},{color:s.YELLOW,label:"Yellow"},{color:s.ORANGE,label:"Orange"},{color:s.CYAN,label:"Cyan"},{color:s.PINK,label:"Pink"},{color:s.GREEN,label:"Green"},{color:s.BLACK,label:"Black"},{color:s.WHITE,label:"White"}],o=[{color:s.RED,label:"Red"},{color:s.BLUE,label:"Blue"},{color:s.PURPLE,label:"Purple"},{color:s.YELLOW,label:"Yellow"},{color:s.ORANGE,label:"Orange"},{color:s.CYAN,label:"Cyan"},{color:s.PINK,label:"Pink"},{color:s.GREEN,label:"Green"},{color:s.NO_COLOR,label:"No Fill"},{color:s.BLACK,label:"Black"},{color:s.WHITE,label:"White"}],A={COLOR:"stroke-color",FILL_COLOR:"fill-color",THICKNESS:"stroke-width",OPACITY:"stroke-opacity",FILL_OPACITY:"fill-opacity",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_FAMILY:"font-family",FONT_STYLE:"font-style",FONT_COLOR:"font-color",STROKE_LINEJOIN:"stroke-linejoin"},u=[10,12,14,16,18,20,24,28,32,36,40,44,48,52,58,64,70,76,82,88,94,100],l=1,c=2,d=1,h=2,f=3,p="arrow",E="rectangle",m="ellipse",g="cloud",y="freehand",B="highlight",v="polyline",k="polycloud",_="label",w="callout",C="simple-arrow-callout",S="arrow-cloud-callout",M="dimension",T="line",b="selector",U="save_failed",x="save_success",R="markup_saving",Q="deleting",P="delete_success",L="delete_failed",H="created",F="open",I="private",O="published",N="publishing",D="closed",j="archived",K="archiving",V="attachment_loading",Y="attachment_saving",G="attachment_save_success",z="attachment_save_failed",W="attachment_renaming",X="attachment_deleting",J="binary",q="text",Z="svg",$="screencapture",ee=[I,O,j].join(","),te=["dwfx","rvt","dwf"],ne="attachments",re="document",ie=y,se=s.RED,ae=s.RED,oe=s.NO_COLOR,Ae=10,ue=1,le=.5,ce=.5,de=.1,he=36,fe=10,pe="normal",Ee="Artifakt Element, Arial",me="normal",ge="subMenuVisible",ye="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0),Be=5,ve=1e-4,ke=ye?34:4,_e=4,we=5,Ce=20,Se=1,Me=.05,Te=ye?30:20,be=45,Ue=20,xe=20,Re=60,Qe=10,Pe=20,Le=.05,He=100,Fe=1e3,Ie=20,Oe=4*window.devicePixelRatio+10,Ne=ke+10,De=200,je=8,Ke=.4,Ve=.6,Ye=.3,Ge=100,ze=10,We=3e3,Xe=92,Je=1e3,qe=5e-4,Ze=20*qe,$e=1,et=20*$e,tt=.005,nt=700,rt=(i(r={},b,"cell"),i(r,_,"text"),i(r,w,"text"),r),it={MARKUP_SAVE_FAILED:"MARKUP_SAVE_FAILED",MARKUP_DELETE_FAILED:"MARKUP_DELETE_FAILED",MARKUP_PUBLISH_FAILED:"MARKUP_PUBLISH_FAILED",MARKUP_ARCHIVE_FAILED:"MARKUP_ARCHIVE_FAILED",MARKUP_ATTACHMENT_CREATE_FAILED:"MARKUP_ATTACHMENT_CREATE_FAILED",MARKUP_ATTACHMENT_DELETE_FAILED:"MARKUP_ATTACHMENT_DELETE_FAILED",MARKUP_ATTACHMENT_RENAME_FAILED:"MARKUP_ATTACHMENT_RENAME_FAILED",MARKUP_ATTACHMENT_UPDATE_FAILED:"MARKUP_ATTACHMENT_UPDATE_FAILED"}},"./extensions/BimMarkups/MarkupsDeserializer.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsDeserializer.js ***!
  \******************************************************/
/*! exports provided: stringToSvgNode, parseMetadata, getLayerDataModelVersion, parseMarkupLayer */function(e,t,n){"use strict";n.r(t),n.d(t,"stringToSvgNode",(function(){return a})),n.d(t,"parseMetadata",(function(){return u})),n.d(t,"getLayerDataModelVersion",(function(){return l})),n.d(t,"parseMarkupLayer",(function(){return c}));var r=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),i=n(/*! ./MarkupsSceneState */"./extensions/BimMarkups/MarkupsSceneState.js"),s=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=function(e){var t;try{t=(new DOMParser).parseFromString(e,"text/xml").firstChild}catch(e){console.warn("stringToSvgNode failed to generate an HTMLElement from its string representation.")}return t},o=function(e,t,n,r){var i=t.model.getData().isPdf;if(t.model.getData().isLeaflet||i){var a,o;if(i)a=Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(t),o=Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(t);else{var A=t.model.getData();a=A.loadOptions.loadOptions,o=A.bbox}var u=a,l=u.texWidth,c=u.texHeight,d=l/(r.metadata.markup_metadata&&r.metadata.markup_metadata.originalDocumentResolution&&r.metadata.markup_metadata.originalDocumentResolution[0]||l),h=e.x/(l/d)*o.size().x,f=e.y/(c/d)*o.size().y,p=new THREE.Vector3(h,f,0),E=new THREE.Vector3(o.min.x,o.max.y,0);return p.add(E),i&&Autodesk.Viewing.PDFUtils.leafletToPdfWorld(t,p),p}if(n.documentCamera.isPerspective){var m=t.impl.getCanvasBoundingClientRect();e.x=e.x/s.PERSPECTIVE_MODE_SCALE*(.5*m.height)+.5*m.width,e.y=-e.y/s.PERSPECTIVE_MODE_SCALE*(.5*m.height)+.5*m.height,e=n.clientToWorld(e)}else{e.applyMatrix4(n.documentCamera.matrixWorld),e.sub(n.documentCamera.position);var g=t.model&&t.model.getData().globalOffset;g&&e.sub(g),e=n.documentCameraToMarkupsCamera(e)}return e},A=function(e,t,n,r){var i=o(new THREE.Vector3,t,n,r),s=o(new THREE.Vector3(e,0,0),t,n,r);return i.distanceTo(s)},u=function(e,t,n,a,u){var l=e.childNodes[0].childNodes[0],c=function(e){return l.getAttribute(e)||l.getAttribute(e.toLowerCase())},d=c("type")||"",h=u<5,f=n.model.getData().isLeaflet,p=n.model.getData().isPdf,E={style:{},anchors:[]},m={type:d,state:E},g=function(){for(var e=[],t=c("locations"),n=t&&t.split(" ")||"",r=0;r<n.length;r+=2){var i=new THREE.Vector3(parseFloat(n[r]),parseFloat(n[r+1]),0);e.push(i)}return e},y=function(e){var t=new THREE.Vector3,n=c(e);if(n){var r=n.split(" ");t.x=r[0]&&parseFloat(r[0])||0,t.y=r[1]&&parseFloat(r[1])||0,t.z=r[2]&&parseFloat(r[2])||0}return t},B=function(){return c("text")||""},v=c("groupId");v&&(E.groupId=v,E.groupOrder=parseFloat(c("groupOrder")));var k,_,w,C=c("uuid");switch(C&&(E.uuid=C),E.style=function(e){for(var t=Object(r.getObjectAsList)(s.STYLE_PROPERTIES),n={},i=0;i<t.length;i++){var a=e.getAttribute(t[i]);if(a)switch(t[i]){case s.STYLE_PROPERTIES.THICKNESS:n[t[i]]=parseFloat(a);break;case s.STYLE_PROPERTIES.FONT_SIZE:case s.STYLE_PROPERTIES.OPACITY:case s.STYLE_PROPERTIES.FILL_OPACITY:n[t[i]]=parseFloat(a);break;case s.STYLE_PROPERTIES.STROKE_LINEJOIN:break;case s.STYLE_PROPERTIES.FONT_FAMILY:case s.STYLE_PROPERTIES.FONT_STYLE:case s.STYLE_PROPERTIES.FONT_WEIGHT:case s.STYLE_PROPERTIES.COLOR:case s.STYLE_PROPERTIES.FONT_COLOR:case s.STYLE_PROPERTIES.FILL_COLOR:n[t[i]]=a}}return n[s.STYLE_PROPERTIES.FONT_COLOR]||(n[s.STYLE_PROPERTIES.FONT_COLOR]=n[s.STYLE_PROPERTIES.COLOR]),n[s.STYLE_PROPERTIES.FILL_COLOR]||(n[s.STYLE_PROPERTIES.FILL_COLOR]=s.COLORS.NO_COLOR),n[s.STYLE_PROPERTIES.FILL_COLOR]===s.COLORS.NO_COLOR&&(n[s.STYLE_PROPERTIES.FILL_OPACITY]=s.DEFAULT_FILL_OPACITY),n}(l),E.position=y("position"),E.rotation=(k=c("rotation"))&&parseFloat(k)||0,E.size=y("size"),n.impl.is2d||Object(i.restoreMarkupViewState)(n,t,!0),d){case s.MARKUP_TYPE_RECTANGLE:case s.MARKUP_TYPE_CLOUD:case s.MARKUP_TYPE_CIRCLE:E.anchors[0]=new THREE.Vector3(-E.size.x/2,-E.size.y/2,0),E.anchors[1]=new THREE.Vector3(E.size.x/2,-E.size.y/2,0),E.anchors[2]=new THREE.Vector3(E.size.x/2,E.size.y/2,0),E.anchors[3]=new THREE.Vector3(-E.size.x/2,E.size.y/2,0),h&&d!==s.MARKUP_TYPE_CLOUD&&(w=E.style[s.STYLE_PROPERTIES.THICKNESS]/2,E.anchors[0].add(new THREE.Vector3(w,w,0)),E.anchors[1].add(new THREE.Vector3(-w,w,0)),E.anchors[2].add(new THREE.Vector3(-w,-w,0)),E.anchors[3].add(new THREE.Vector3(w,-w,0)));break;case s.MARKUP_TYPE_ARROW:case s.MARKUP_TYPE_LINE:E.anchors[0]=y("tail"),E.anchors[1]=y("head"),h&&(E.rotation=0);break;case s.MARKUP_TYPE_TEXT:case s.MARKUP_TYPE_CALLOUT:E.text=B(),E.isFrameUsed=!!parseInt(c("isFrameUsed"),10),E.frameType=c("frameType")||s.MARKUP_TYPE_RECTANGLE,h&&(E.isFrameUsed||(E.style[s.STYLE_PROPERTIES.FILL_OPACITY]=0)),E.anchors[0]=new THREE.Vector3(-E.size.x/2,-E.size.y/2,0),E.anchors[1]=new THREE.Vector3(E.size.x/2,-E.size.y/2,0),E.anchors[2]=new THREE.Vector3(E.size.x/2,E.size.y/2,0),E.anchors[3]=new THREE.Vector3(-E.size.x/2,E.size.y/2,0);break;case s.MARKUP_TYPE_ARROW_CALLOUT:case s.MARKUP_TYPE_ARROW_CLOUD_CALLOUT:break;case s.MARKUP_TYPE_HIGHLIGHT:case s.MARKUP_TYPE_FREEHAND:E.anchors=g();break;case s.MARKUP_TYPE_POLYCLOUD:case s.MARKUP_TYPE_POLYLINE:E.anchors=g(),E.closed=function(){var t=e.childNodes[1]||"",n=!1;if("string"!=typeof t){var r=t.getAttribute("d").split(" ");"z"===r[r.length-1].toLowerCase()&&(n=!0)}return n}();break;case s.MARKUP_TYPE_DIMENSION:E.anchors[0]=y("firstAnchor"),E.anchors[1]=y("secondAnchor"),_=y("offset"),E.position.sub(_),E.translation=o(_,n,a,t).sub(o(new THREE.Vector3,n,a,t)),E.text=B(),h&&(E.style[s.STYLE_PROPERTIES.THICKNESS]/=2),E.style[s.STYLE_PROPERTIES.FONT_SIZE]/=s.DIMENSION_FONT_SIZE_FACTOR,E.style[s.STYLE_PROPERTIES.THICKNESS]/=s.DIMENSION_THICKNESS_FACTOR}return(h||f||p)&&function(){if(E.style.hasOwnProperty(s.STYLE_PROPERTIES.FONT_SIZE)){var e=a.getFontToWorldScale();E.style[s.STYLE_PROPERTIES.FONT_SIZE]/=e}}(),Object(r.applyTranslation)(E.anchors,E.position),(h&&n.model.is3d()||f||p)&&(E.anchors.forEach((function(e){e.copy(o(e,n,a,t))})),E.style[s.STYLE_PROPERTIES.THICKNESS]=A(E.style[s.STYLE_PROPERTIES.THICKNESS],n,a,t),E.style[s.STYLE_PROPERTIES.FONT_SIZE]=A(E.style[s.STYLE_PROPERTIES.FONT_SIZE],n,a,t)),m},l=function(e){var t=e.getAttribute("data-model-version");return"string"==typeof t?parseFloat(t):0},c=function(e,t,n,r){try{return JSON.parse(e)}catch(p){for(var i=a(e).childNodes,s=[],o=i[0].childNodes[0],A=l(o),c=n.impl.is2d?null:n.getState(),d=0;d<i.length;d++){var h=i[d];if(h.childNodes[0].childNodes[0]){var f=u(h,t,n,r,A);s.push(f)}}return c&&n.restoreState(c,null,!0),s}}},"./extensions/BimMarkups/MarkupsEvents.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsEvents.js ***!
  \************************************************/
/*! exports provided: MARKUPS_EVENTS */function(e,t,n){"use strict";n.r(t),n.d(t,"MARKUPS_EVENTS",(function(){return r}));var r={MARKUP_SESSION_START:"markup.session.start",MARKUP_SESSION_END:"markup.session.end",MARKUP_TOOL_ENABLED_CHANGED:"markup.tool.enabled.changed",MARKUP_REMOVED:"markup.removed",MARKUP_DRAWING_START:"markup.drawing.start",MARKUP_DRAWING_END:"markup.drawing.end",MARKUP_DRAWING_CANCEL:"markup.drawing.cancel",MARKUP_EDIT_START:"markup.edit.start",MARKUP_EDIT_END:"markup.edit.end",MARKUP_SELECTED:"markup.selected",MARKUP_DESELECTED:"markup.deselected",MARKUP_ENABLE_EDIT:"markup.enable.edit",MARKUP_DISABLE_EDIT:"markup.disable.edit",MARKUP_DIRTY:"markup.dirty",MARKUP_VISIBILITY_CHANGED:"markup.visibility.changed",MARKUP_VIEW_ENTERED:"markup.view.entered",MARKUP_VIEW_EXITED:"markup.view.exited",TEXT_EDITING_STARTED:"text.editing.started",TEXT_EDITING_ENDED:"text.editing.ended",LAYER_DIRTY:"layer.dirty",LAYER_SELECTED:"layer.selected",LAYER_DESELECTED:"layer.deselected",LAYER_SELECTED_FROM_DIFFERENT_SHEET:"layer.selected.from.different.sheet",LAYER_EDITED_FROM_DIFFERENT_SHEET:"layer.edited.from.different.sheet",LAYER_DELETE:"layer.delete",LAYER_DELETED:"layer.deleted",LAYER_PUBLISH:"layer.publish",LAYER_ARCHIVE:"layer.archive",LAYER_SYNCING:"layer.syncing",LAYER_SYNCED:"layer.synced",LAYER_READY_TO_SAVE:"layer.ready.to.save",LAYER_CREATED:"layer.created",DOCUMENT_ATTACHMENT_CREATION_START:"document.attachment.creation.start",DOCUMENT_ATTACHMENT_RENAME:"document.attachment.rename",DOCUMENT_ATTACHMENT_DELETE:"document.attachment.delete",LAYER_FETCHED:"layer.fetched",LAYER_RESOURCE_FETCHED:"layer.resource.fetched",LAYER_THUMBNAIL_FETCHED:"layer.thumbnail.fetched",LAYER_METADATA_FETCHED:"layer.metadata.fetched",ATTACHMENT_THUMBNAIL_LOADED:"attachment.thumbnail.loaded",ALL_MARKUPS_LOADED:"all.markups.loaded",PROJECT_USERS_FETCHED:"project.users.fetched",LINK_DIRTY:"link.dirty",LINK_SELECTED:"link.selected",LINK_DESELECTED:"link.deselected",LINK_SYNCED:"link.synced",LINK_SYNCING:"link.syncing",LINK_REMOVED:"link.removed",LINK_RENDERED:"link.rendered",FILTER_CHANGED:"filter.changed",BUTTON_DOWN:"button.down",MARKUP_CREATION_TYPE_CHANGED:"markup.creation.type.changed",MARKUP_STYLE_PROPERTY_CHANGED:"markup.style.property.changed",LAYER_DISCARD_PRESSED:"layer.discard.pressed",LAYER_PUBLISH_PRESSED:"layer.publish.pressed",LAYER_ARCHIVE_PRESSED:"layer.archive.pressed",LAYER_DELETE_PRESSED:"layer.delete.pressed",LAYER_DELETE_EMPTY_PRESSED:"layer.delete.empty.pressed",EXIT_VIEWER_PRESSED:"exit.viewer.pressed",RECT_SELECTOR_UPDATED:"rect.selector.updated",CALIBRATION_REQUIRED:"calibration.required"}},"./extensions/BimMarkups/MarkupsLayer.js":
/*!***********************************************!*\
  !*** ./extensions/BimMarkups/MarkupsLayer.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ./MarkupTypes/Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js"),s=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ./MarkupsLayerData */"./extensions/BimMarkups/MarkupsLayerData.js"),o=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),A=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),u=n(/*! ./Links/Link */"./extensions/BimMarkups/Links/Link.js");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.id=n,this.layerData=!r||r instanceof a.default?r:new a.default(r.guid,r.resources,r.attachments,r.status,r.metadata),this.markups={},this.links={},this.selected=!1,this.visible=!1,this.transparent=!1,this.hover=!1}var t,n,c;return t=e,(n=[{key:"addMarkup",value:function(e){this.markups[e.id]=e,e.layer=this,e.setVisible(this.visible,!0)}},{key:"deleteMarkup",value:function(e){var t=e instanceof i.default?e.id:e;this.markups[t]?(e.deselect(),delete this.markups[t],e.remove(),e.layer=null,this.setDirty()):console.warn("deleteMarkup - markup does not exist")}},{key:"deleteAllMarkups",value:function(){var e=this;Object(A.forAll)(this.markups,(function(t){e.deleteMarkup(t)}))}},{key:"getMarkupById",value:function(e){return this.markups[e]}},{key:"isEmpty",value:function(){return 0===Object.keys(this.markups).length}},{key:"addLink",value:function(e){this.links[e.id]=e}},{key:"deleteLink",value:function(e){var t=e instanceof u.default?e.id:e;this.links[t]?(this.markupsExtension.markupsManager.dispatchEvent({type:o.MARKUPS_EVENTS.LINK_REMOVED,link:e}),delete this.links[t]):console.warn("deleteLink - markup does not exist")}},{key:"deleteAllLinks",value:function(){var e=this;Object(A.forAll)(this.links,(function(t){e.deleteLink(t)}))}},{key:"getLinkById",value:function(e){return this.links[e]}},{key:"getClientBoundingBox",value:function(e){var t=this.getWorldBoundingBox();t.min=this.markupsExtension.renderer.worldToClient(t.min),t.max=this.markupsExtension.renderer.worldToClient(t.max);var n=this.markupsExtension.renderer.getCameraEyeVector(),i=t.center(),s=this.markupsExtension.renderer.getCameraRotation();if(r.default.applyRotation(t.min,s,i,n),r.default.applyRotation(t.max,s,i,n),r.default.swapBoundingBoxY(t),e){var a=this.getMarginSize();t.expandByVector(new THREE.Vector3(a,a,0))}return t.min.z=0,t.max.z=0,t}},{key:"getMarginSize",value:function(){return s.BOUNDING_BOX_MARGIN}},{key:"getWorldBoundingBox",value:function(){var e=new THREE.Box3;return Object(A.forAll)(this.markups,(function(t){var n=t.getWorldBoundingBox(!0);e.union(n)})),e}},{key:"getRotation",value:function(){return 0}},{key:"getAllMarkups",value:function(){return Object(A.getObjectAsList)(this.markups)}},{key:"getAllLinks",value:function(){return Object(A.getObjectAsList)(this.links)}},{key:"hasSingleMarkup",value:function(){return 1===this.getAllMarkups().length}},{key:"select",value:function(){this.selected=!0,this.markupsExtension.markupsManager.dispatchEvent({type:o.MARKUPS_EVENTS.LAYER_SELECTED,layer:this}),this.setDirty()}},{key:"deselect",value:function(){this.selected=!1,this.markupsExtension.markupsManager.dispatchEvent({type:o.MARKUPS_EVENTS.LAYER_DESELECTED,layer:this}),this.setDirty()}},{key:"isSelected",value:function(){return this.selected}},{key:"setHover",value:function(e){this.hover!==e&&(this.hover=e,this.getAllLinks().forEach((function(t){t.setHover(e)})),this.setDirty())}},{key:"isHovered",value:function(){return this.hover}},{key:"unhoverAllMarkups",value:function(){this.getAllMarkups().forEach((function(e){e.setHover(!1)}))}},{key:"setVisible",value:function(e){this.visible=e,Object(A.forAll)(this.markups,(function(t){t.setVisible(e)})),this.setDirty()}},{key:"isVisible",value:function(){return this.visible}},{key:"setDirty",value:function(){this.markupsExtension.markupsManager.dispatchEvent({type:o.MARKUPS_EVENTS.LAYER_DIRTY,layer:this})}},{key:"getGuid",value:function(){return this.layerData&&this.layerData.guid}},{key:"selectAllMarkups",value:function(){this.getAllMarkups().forEach((function(e){e.select()}))}},{key:"changeTransparency",value:function(e){this.transparent=e,this.getAllMarkups().forEach((function(t){t.changeTransparency(e)}))}},{key:"isTransparent",value:function(){return this.transparent}},{key:"enable",value:function(){this.getAllMarkups().forEach((function(e){e.enable()}))}},{key:"disable",value:function(){this.getAllMarkups().forEach((function(e){e.disable()}))}}])&&l(t.prototype,n),c&&l(t,c),e}()},"./extensions/BimMarkups/MarkupsLayerData.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsLayerData.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return i}));var i=function(){function e(t,n,r,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.guid=t,this.resources=n||[],this.attachments=r||[],this.status=i,this.metadata=s||{}}var t,n,i;return t=e,(n=[{key:"getSvgResource",value:function(){return this.resources[0]&&this.resources[0].data}},{key:"getScreenCaptureResource",value:function(){return this.resources[1]&&this.resources[1].data}},{key:"getLinksMetadata",value:function(){return this.metadata&&this.metadata.markup_metadata&&this.metadata.markup_metadata.links}},{key:"getMetadata",value:function(){return this.metadata}}])&&r(t.prototype,n),i&&r(t,i),e}()},"./extensions/BimMarkups/MarkupsManager.js":
/*!*************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsManager.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n(/*! ./Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),i=n(/*! ./Utils/EventUtils */"./extensions/BimMarkups/Utils/EventUtils.js"),s=n(/*! ./Utils/ActionManager/ActionManager */"./extensions/BimMarkups/Utils/ActionManager/ActionManager.js"),a=n(/*! ./MarkupsLayer */"./extensions/BimMarkups/MarkupsLayer.js"),o=n(/*! ./MarkupTypes/Markup */"./extensions/BimMarkups/MarkupTypes/Markup.js"),A=n(/*! ./MarkupTypes/MarkupsTypesDictionary */"./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js"),u=n(/*! ./Links/LinkTypesDictionary */"./extensions/BimMarkups/Links/LinkTypesDictionary.js"),l=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),c=n(/*! ./MarkupsDeserializer */"./extensions/BimMarkups/MarkupsDeserializer.js"),d=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),h=n(/*! ./Actions/AddMarkupAction */"./extensions/BimMarkups/Actions/AddMarkupAction.js"),f=n(/*! ./MarkupsSceneState */"./extensions/BimMarkups/MarkupsSceneState.js"),p=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=B(this,v(t).call(this))).markupsExtension=e,n.actionManager=new s.default,n.registerEvents(),n.reset(),n}var n,E,_;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,Autodesk.Viewing.EventDispatcher),n=t,(E=[{key:"registerEvents",value:function(){this.onHistoryChangedBinded=this.onHistoryChanged.bind(this),this.actionManager.addEventListener(s.default.HISTORY_CHANGED_EVENT,this.onHistoryChangedBinded),this.onAllMarkupsLoadedBinded=this.onAllMarkupsLoaded.bind(this),this.addEventListener(d.MARKUPS_EVENTS.ALL_MARKUPS_LOADED,this.onAllMarkupsLoadedBinded),this.onMarkupLayerFetchedBinded=this.onMarkupLayerFetched.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_FETCHED,this.onMarkupLayerFetchedBinded),this.onMarkupResourceFetchedBinded=this.onMarkupResourceFetched.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_RESOURCE_FETCHED,this.onMarkupResourceFetchedBinded),this.onMarkupLinkSyncedBinded=this.onMarkupLinkSynced.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LINK_SYNCED,this.onMarkupLinkSyncedBinded),this.onLayerSyncedBinded=this.onLayerSynced.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_SYNCED,this.onLayerSyncedBinded),this.onLayerSyncingBinded=this.onLayerSyncing.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_SYNCING,this.onLayerSyncingBinded),this.onLayerSelectedBinded=this.onLayerSelected.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_SELECTED,this.onLayerSelectedBinded),this.onLayerDeselectedBinded=this.onLayerDeselected.bind(this),this.addEventListener(d.MARKUPS_EVENTS.LAYER_DESELECTED,this.onLayerDeselectedBinded),this.onCalibrationEndedBinded=this.onCalibrationEnded.bind(this),this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.MeasureCommon.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT,this.onCalibrationEndedBinded),this.onDrawingStartBinded=this.onDrawingStart.bind(this),this.addEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_START,this.onDrawingStartBinded),this.onDrawingEndBinded=this.onDrawingEnd.bind(this),this.addEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onDrawingEndBinded),this.addEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.onDrawingEndBinded)}},{key:"unregisterEvents",value:function(){this.actionManager.removeEventListener(s.default.HISTORY_CHANGED_EVENT,this.onHistoryChangedBinded),this.removeEventListener(d.MARKUPS_EVENTS.ALL_MARKUPS_LOADED,this.onAllMarkupsLoadedBinded),this.removeEventListener(d.MARKUPS_EVENTS.LAYER_FETCHED,this.onMarkupLayerFetchedBinded),this.removeEventListener(d.MARKUPS_EVENTS.LAYER_RESOURCE_FETCHED,this.onMarkupResourceFetchedBinded),this.removeEventListener(d.MARKUPS_EVENTS.LINK_SYNCED,this.onMarkupLinkSyncedBinded),this.removeEventListener(d.MARKUPS_EVENTS.LAYER_SYNCED,this.onLayerSyncedBinded),this.removeEventListener(d.MARKUPS_EVENTS.LAYER_SYNCING,this.onLayerSyncingBinded),this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.MeasureCommon.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT,this.onCalibrationEndedBinded),this.removeEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_START,this.onDrawingStartBinded),this.removeEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onDrawingEndBinded),this.removeEventListener(d.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.onDrawingEndBinded)}},{key:"createLayer",value:function(e){var t=new a.default(this.markupsExtension,this.nextLayerId,e);return this.layers[t.id]=t,this.nextLayerId+=1,this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_CREATED}),t}},{key:"loadLayers",value:function(e,t,n){var r=this;n&&(this.removeAllLayers([this.getActiveLayer()]),this.markupsExtension.markupsCache&&this.markupsExtension.markupsCache.cleanCache()),(e=e instanceof Array?e:[e]).forEach((function(e){r.markupsExtension.markupsCache&&e.guid&&!r.markupsExtension.markupsCache.get(e.guid)&&r.markupsExtension.markupsCache.add(e.guid,e)}));var i=t?e:this.markupsExtension.filterManager.filterLayers(e);this.getLayersAsList().forEach((function(e){e!==r.getActiveLayer()&&-1===i.findIndex((function(t){return t.guid===e.getGuid()}))&&r.removeLayer(e)})),i.forEach((function(e){if(!r.getLayerByGuid(e.guid)){var t=r.createLayer(e);r.markupsExtension.viewer.impl.is2d&&(t.setVisible(!0),r.loadMarkupsToLayer(t)),r.loadLinksToLayer(t)}}))}},{key:"removeLayer",value:function(e){var t=e.id,n=this.layers[t];n?(this.isMarkupSessionOpen()&&n===this.getActiveLayer()?this.endMarkupSession(!1):this.markupsExtension.viewer.model&&this.markupsExtension.viewer.model.is3d()&&this.isInMarkupView()&&this.getVisibleLayers()[0]===n&&this.exitMarkupView(),this.deselectLayer(e),e.deleteAllMarkups(),e.deleteAllLinks(),e.setVisible(!1),this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_DELETED,layer:e}),delete this.layers[t]):console.warn("deleteLayer - layer does not exist")}},{key:"removeAllLayers",value:function(e){var t=this;this.getLayersAsList().forEach((function(n){e&&-1!==e.indexOf(n)||t.removeLayer(n)}))}},{key:"deleteLayer",value:function(e){this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_DELETE,layerData:e.layerData})}},{key:"getLayerById",value:function(e){return this.layers[e]}},{key:"getLayerByGuid",value:function(e){return null==e?null:this.getLayersAsList().find((function(t){return t.getGuid()===e}))}},{key:"addMarkupToLayer",value:function(e,t){return this.getLayerById(t.id)||(this.layers[t.id]=t),this.markupsExtension.markupsManager.getSelectedLayers().length>0&&!t.isSelected()&&e.changeTransparency(!0),(this.isMarkupSessionOpen()&&t!==this.getActiveLayer()||!this.isToolEnabled())&&e.disable(),t.addMarkup(e),!0}},{key:"addLinkToLayer",value:function(e,t){return this.getLayerById(t.id)||(this.layers[t.id]=t),t.addLink(e),!0}},{key:"createMarkup",value:function(e,t,n){var r=A.markupsTypesDictionary[e];return r?new r(this.markupsExtension,this.nextMarkupId++,t,n):null}},{key:"createLink",value:function(e,t){var n=t.position?(new THREE.Vector3).copy(t.position):null;n&&this.markupsExtension.viewer.model.getData().isPdf&&Autodesk.Viewing.PDFUtils.leafletToPdfWorld(this.markupsExtension.viewer,n);var r=new u.linkTypesDictionary[t.type](this.markupsExtension,this.nextLinkId,t.id,e,{position:n});return this.nextLinkId+=1,r}},{key:"onAllMarkupsLoaded",value:function(e){var t=e.amount;console.log("All markups have been loaded. Amount: "+t)}},{key:"onMarkupLayerFetched",value:function(e){var t=this,n=e.layerData;this.markupsExtension.filterManager.filterLayers([n]).forEach((function(e){var n=t.createLayer(e);t.markupsExtension.viewer.impl.is2d&&n.setVisible(!0)}))}},{key:"onMarkupResourceFetched",value:function(e){var t=e.layerData;if(this.markupsExtension.viewer.impl.is2d){var n=this.getLayerByGuid(t.guid);n&&this.loadMarkupsToLayer(n)}}},{key:"onMarkupLinkSynced",value:function(e){var t=e.documentAttachment,n=e.layerData,r=this.getLayerByGuid(n.guid);r&&(t&&t.status===p.MARKUP_ATTACHMENT_DELETEING&&0===n.attachments.length&&r.deleteAllLinks(),this.loadLinksToLayer(r))}},{key:"onDrawingStart",value:function(){var e=this.getDuringCreationMarkup(!1);this.polySaveDisabled=e&&e.inEdit&&(e.type===p.MARKUP_TYPE_POLYLINE||e.type===p.MARKUP_TYPE_POLYCLOUD),this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_READY_TO_SAVE,readyToSave:this.getReadyToSave()})}},{key:"onDrawingEnd",value:function(){this.polySaveDisabled=!1,this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_READY_TO_SAVE,readyToSave:this.getReadyToSave()})}},{key:"getReadyToSave",value:function(){var e,t,n=this.getActiveLayer();n&&((e=n.isEmpty())||(t=n.getAllMarkups().some((function(e){return e.isTextMarkup()&&e.textInputHandler.isEmpty()}))));var r=this.markupsExtension.options.isMobileApp?!e:!e||e&&this.markupsExtension.permissionManager.canDeleteMarkup(n.layerData);return!(!n||!r||this.polySaveDisabled||t)}},{key:"removeMarkupFromLayer",value:function(e){var t=e.layer;return t?(this.duringCreationMarkup=null,e.deselect(),e.disableEdit(),t.deleteMarkup(e),!0):(console.warn("removeMarkupFromLayer - markup does not exist"),!1)}},{key:"getMarkupById",value:function(e){var t=null;return Object(l.forAll)(this.layers,(function(n){var r=n.getMarkupById(e);r&&(t=r)})),t}},{key:"getSelectedMarkups",value:function(){return this.getMarkupsByProperty("selected",!0)}},{key:"getUnselectedMarkups",value:function(){return this.getMarkupsByProperty("selected",!1)}},{key:"getSelectedLayers",value:function(){return this.getLayersByProperty("selected",!0)}},{key:"getUnselectedLayers",value:function(){return this.getLayersByProperty("selected",!1)}},{key:"getSelectedLayer",value:function(){return this.getSelectedLayers()[0]}},{key:"getVisibleLayers",value:function(){return this.getLayersByProperty("visible",!0)}},{key:"getVisibleMarkups",value:function(){return this.getMarkupsByProperty("visible",!0)}},{key:"getEnabledMarkups",value:function(){return this.getMarkupsByProperty("enabled",!0).filter((function(e){return!e.layer||e.layer.isVisible()}))}},{key:"getDisabledMarkups",value:function(){return this.getMarkupsByProperty("enabled",!1)}},{key:"getVisibleLinks",value:function(){var e=this.getVisibleLayers(),t=[];return e.forEach((function(e){e.getAllLinks().forEach((function(e){t.push(e)}))})),t}},{key:"getDirtyLinks",value:function(){return this.getLinksByProperty("dirty",!0)}},{key:"getSelectedLinks",value:function(){return this.getLinksByProperty("selected",!0)}},{key:"getInEditMarkups",value:function(){var e=this.getMarkupsByProperty("inEdit",!0);return this.duringCreationMarkup&&-1===e.indexOf(this.duringCreationMarkup)&&e.push(this.duringCreationMarkup),e}},{key:"getMarkupsByProperty",value:function(e,t){var n=[];return Object(l.forAll)(this.layers,(function(r){Object(l.forAll)(r.markups,(function(r){r[e]===t&&n.push(r)}))})),n}},{key:"getLayersByProperty",value:function(e,t){var n=[];return Object(l.forAll)(this.layers,(function(r){r[e]===t&&n.push(r)})),n}},{key:"getLinksByProperty",value:function(e,t){var n=[];return Object(l.forAll)(this.layers,(function(r){Object(l.forAll)(r.links,(function(r){r[e]===t&&n.push(r)}))})),n}},{key:"selectMarkup",value:function(e){(e=e instanceof o.default?e:this.getMarkupById(e))?e.select():console.warn("selectMarkup - markup does not exist")}},{key:"deselectMarkup",value:function(e){(e=e instanceof o.default?e:this.getMarkupById(e))?e.deselect():console.warn("selectMarkup - markup does not exist")}},{key:"deselectAllMarkups",value:function(e){this.getSelectedMarkups().forEach((function(t){e&&-1!==e.indexOf(t)||!t.isSelected()||t.deselect()}))}},{key:"unhoverAllLayers",value:function(){this.getLayersAsList().forEach((function(e){e.setHover(!1)}))}},{key:"unhoverAllMarkups",value:function(){this.getAllMarkups().forEach((function(e){e.setHover(!1)}))}},{key:"enableAllMarkups",value:function(){this.getAllMarkups().forEach((function(e){e.enable()}))}},{key:"disableAllMarkups",value:function(){this.getAllMarkups().forEach((function(e){e.disable()}))}},{key:"lockNavigation",value:function(){this.lockSettings||(this.lockSettings=this.markupsExtension.viewer.getNavigationLockSettings(),this.markupsExtension.viewer.setNavigationLockSettings({orbit:!1,pan:!1,zoom:!1,roll:!1,fov:!1,gotoview:!1,walk:!1}),this.markupsExtension.viewer.navigation.setIsLocked(!0)),this.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_VIEW_ENTERED})}},{key:"unlockNavigation",value:function(){this.lockSettings&&(this.markupsExtension.viewer.setNavigationLockSettings(this.lockSettings),this.markupsExtension.viewer.setNavigationLock(!1),this.markupsExtension.viewer.toolController.setIsLocked(!1),this.lockSettings=null)}},{key:"loadLayerIfHidden",value:function(e){var t=e instanceof a.default?e:this.getLayerByGuid(e);if(!t&&this.markupsExtension.markupsCache){var n=this.markupsExtension.markupsCache.get(e);if(n)if(this.markupsExtension.filterManager.filterWithGUID&&!n.loadedByName){var r=n.metadata.markup_metadata.sheetGUID;this.markupsExtension.options.sheetGUID!==r&&(n=null)}else{var i=n.metadata.markup_metadata.sheetName;this.markupsExtension.options.sheetName!==i&&(n=null)}n&&(this.loadLayers([n],!0),t=this.getLayerByGuid(e))}return t}},{key:"selectLayer",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=this.loadLayerIfHidden(e),a=i.bind(this);if(s){var o=s.isSelected();if(this.deselectAllLayers([s]),this.exitMarkupView([s]),this.markupsExtension.viewer.impl.is2d){if(s.select(),t){var A={horizontal:this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN,vertical:this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN};this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN=p.SELECTION_ZOOM_MARGIN,this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN=p.SELECTION_ZOOM_MARGIN;var u=s.getWorldBoundingBox();this.markupsExtension.viewer.navigation.fitBounds(n,u),this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN=A.horizontal,this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN=A.vertical}a()}else this.loadMarkupsToLayer(s),s.select(),this.navigationToolBackup=this.markupsExtension.viewer.getActiveNavigationTool(),this.markupsExtension.viewer.setActiveNavigationTool(this.markupsExtension.markupsTool.getName()),Object(f.restoreMarkupViewState)(this.markupsExtension.viewer,s.layerData,n||o,(function(){s.isSelected()&&(s.setVisible(!0),r.lockNavigation()),a()}))}else{this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_SELECTED_FROM_DIFFERENT_SHEET,layerGuid:e});var l=this.markupsExtension.cache;l.layerToSelect=this.loadRelevantSheet(e)}}},{key:"deselectLayer",value:function(e){(e=e instanceof a.default?e:this.getLayerByGuid(e))?e.isSelected()&&(e.deselect(),e.layerData&&0===this.markupsExtension.filterManager.filterLayers([e.layerData]).length&&this.removeLayer(e)):console.warn("deselectLayer - layer does not exist")}},{key:"deselectAllLayers",value:function(e){var t=this;this.getSelectedLayers().forEach((function(n){e&&-1!==e.indexOf(n)||!n.isSelected()||t.deselectLayer(n)}))}},{key:"loadRelevantSheet",value:function(e){var t,n=this,r=function(t,r){for(var i=0;i<n.markupsExtension.sheetList.length;i++){var s=n.markupsExtension.sheetList[i].search(g({},t,r))[0];if(s)return n.markupsExtension.options.loadDocumentCallback?n.markupsExtension.options.loadDocumentCallback(s):n.markupsExtension.viewer.loadDocumentNode(n.markupsExtension.viewer.model.getDocumentNode().getDocument(),s,{loadAsHidden:!1,applyRefPoint:!1,keepCurrentModels:!1}),e}return console.warn("loadRelevantSheet - Sheet not found (by ".concat(t,")")),null},i=function(){var e=s.metadata.markup_metadata.sheetName;if(e&&n.sheetName!==e)return s.loadedByName=!0,r("name",e)},s=this.markupsExtension.markupsCache.get(e);return s?this.markupsExtension.options.hasMultiSheet?this.markupsExtension.filterManager.filterWithGUID&&((t=s.metadata.markup_metadata.sheetGUID)&&n.sheetGUID!==t?r("guid",t):null)||i():void console.warn("loadRelevantSheet - Something weird just happened. This method shouldnt be called on Plans folder."):(console.warn("loadRelevantSheet - Cant find selected layer."),null)}},{key:"isInMarkupView",value:function(){var e=this.getVisibleLayers();return!this.isMarkupSessionOpen()&&e.length>0}},{key:"exitMarkupView",value:function(e){var t=this;if(!this.markupsExtension.viewer.impl.is2d&&this.isInMarkupView()){var n=this.getVisibleLayers();if(e&&(n=n.filter((function(t){return-1===e.indexOf(t)}))),0!==n.length){n.forEach((function(e){t.deselectLayer(e),e.setVisible(!1)})),this.unlockNavigation(),this.markupsExtension.viewer.setActiveNavigationTool(this.navigationToolBackup);var r=this.markupsExtension.viewer.getExtension("Autodesk.Section");r&&1===r.getSectionPlanes().length?r.setSectionFromPlane(null):this.markupsExtension.viewer.impl.setCutPlaneSet("__set_view",void 0),this.markupsExtension.markupsManager.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_VIEW_EXITED})}}}},{key:"changeAllLayersTransparency",value:function(e,t){this.markupsExtension.isToolEnabled()&&this.getLayersAsList().forEach((function(n){t&&-1!==t.indexOf(n)||n.changeTransparency(e)}))}},{key:"onLayerSynced",value:function(e){var t=e.layerData,n=e.layer;if(n=n||this.getLayerByGuid(t.guid)){if(!this.isMarkupSessionOpen()){n.enable();var r=this.getSelectedLayer();(r&&r!==n||!this.markupsExtension.isToolEnabled())&&n.changeTransparency(!0)}0===this.markupsExtension.filterManager.filterLayers([t]).length&&this.removeLayer(n)}this.markupsExtension.options.onMarkupsSyncCallback&&this.markupsExtension.options.onMarkupsSyncCallback({count:this.markupsExtension.markupsCache.length()})}},{key:"onLayerSyncing",value:function(e){var t=e.layerData,n=e.layer;(n=n||this.getLayerByGuid(t.guid))&&(this.markupsExtension.viewer.impl.is2d&&n.deselect(),n.disable())}},{key:"selectLink",value:function(e){e?e.select():console.warn("selectLink - link does not exist")}},{key:"deselectLink",value:function(e){e?e.deselect():console.warn("deselectLink - link does not exist")}},{key:"deselectAllLinks",value:function(){var e=this;this.getSelectedLinks().forEach((function(t){e.deselectLink(t)}))}},{key:"getDuringCreationMarkup",value:function(e){if(!this.duringCreationMarkup&&e){var t=this.getMarkupCreationType(),n=this.createMarkup(t);n&&(n.setVisible(!0),n.enableEdit(),this.duringCreationMarkup=n)}return this.duringCreationMarkup}},{key:"getActiveLayer",value:function(){return this.activeLayer}},{key:"setActiveLayer",value:function(e){e=e instanceof a.default?e:this.getLayerById(e),this.activeLayer=e}},{key:"isMarkupSessionOpen",value:function(){return this.sessionOpen}},{key:"changeMarkupCreationType",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.DEFAULT_MARKUP;i.default.executeAfterTransitionEnded(this.markupsExtension.viewer,(function(){var n=e.markupsExtension.markupsManager.getDuringCreationMarkup(!1);n&&n.creationHandler.onEscape(),e.markupCreationType=t,e.markupsExtension.viewer.setActiveNavigationTool(t?e.markupsExtension.markupsTool.getName():e.navigationToolBackup),e.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_CREATION_TYPE_CHANGED,creationType:t}),t&&!e.isMarkupSessionOpen()&&t!==p.RECT_SELECTOR&&e.startMarkupSession()}))}},{key:"getMarkupCreationType",value:function(){return this.markupCreationType}},{key:"setToolEnabled",value:function(e){var t=this;this.toolEnabled=e,e?this.enableAllMarkups():(this.deselectAllLayers(),this.deselectAllLinks(),this.disableAllMarkups()),(Autodesk.Viewing.isSafari()||Autodesk.Viewing.isIE11)&&setTimeout((function(){t.markupsExtension.markupsUI&&t.markupsExtension.markupsUI.toolbar.renderToolbar()}),1),this.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_TOOL_ENABLED_CHANGED,enable:e})}},{key:"isToolEnabled",value:function(){return this.toolEnabled}},{key:"startMarkupSession",value:function(e,t){return!!this.isToolEnabled()&&(this.deselectAllLayers(t&&[t]),this.exitMarkupView([t]),this.deselectAllLinks(),this.sessionOpen=!0,this.markupsExtension.markupsTool.updateToolPriority(),(t=t||this.createLayer()).setVisible(!0),this.setActiveLayer(t),this.navigationToolBackup=this.markupsExtension.viewer.getActiveNavigationTool(),this.markupsExtension.viewer.setActiveNavigationTool(this.markupsExtension.markupsTool.getName()),this.markupsExtension.viewer.impl.is2d||this.lockNavigation(),!e&&this.getMarkupCreationType()||this.changeMarkupCreationType(e),this.getAllMarkups().forEach((function(e){e.layer!==t&&e.disable()})),this.creationStatusType=this.markupsExtension.options.defaultMarkupStatus||p.MARKUP_STATUS_PRIVATE,this.contextMenu=this.markupsExtension.viewer.contextMenu,this.markupsExtension.viewer.setContextMenu(null),this.markupsExtension.viewer.impl.pauseHighlight(!0),this.markupsExtension.viewer.impl.disableSelection(!0),Object(l.setCustomGestureValues)(this.markupsExtension.viewer),this.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_SESSION_START,layer:t}),!0)}},{key:"endMarkupSession",value:function(e){var t=this;if(this.isMarkupSessionOpen()){var n=this.getActiveLayer(),r=!1;if(e&&n.isEmpty()){if(n.layerData)return void this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_DELETE_EMPTY_PRESSED,onConfirmCB:function(){return t.deleteLayer(n)}});r=!0,e=!1}if(this.sessionOpen=!1,e||this.exitMarkupView(),this.markupsExtension.markupsTool&&this.markupsExtension.markupsTool.updateToolPriority(),this.changeMarkupCreationType(null),this.setActiveLayer(null),this.duringCreationMarkup&&this.duringCreationMarkup.creationHandler.creationCancel(),this.deselectAllMarkups(),this.enableAllMarkups(),this.unhoverAllMarkups(),!e)for(;!this.actionManager.isUndoStackEmpty();)this.undo();this.actionManager.clear();var i=n.isEmpty()||!e&&!n.getGuid();r?this.deleteLayer(n):i&&this.removeLayer(n),n.deselect(),this.markupsExtension.viewer.setContextMenu(this.contextMenu),this.markupsExtension.viewer.impl.pauseHighlight(!1),this.markupsExtension.viewer.impl.disableSelection(!1),Object(l.restoreGestureValues)(this.markupsExtension.viewer),this.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_SESSION_END,layer:n,save:e})}}},{key:"editLayer",value:function(e,t,n,r){var i=this;if(this.isToolEnabled()){var s=this.loadLayerIfHidden(e);s?this.markupsExtension.permissionManager.canEditMarkup(s.layerData)?this.selectLayer(s,t,r,(function(){i.startMarkupSession(p.DEFAULT_MARKUP,s),n&&(Autodesk.Viewing.isMobileDevice()||s.selectAllMarkups())})):console.warn("editLayer - Cant edit layer, permissions not valid."):(this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_EDITED_FROM_DIFFERENT_SHEET,layerGuid:e}),this.markupsExtension.cache.layerToEdit=this.loadRelevantSheet(e))}}},{key:"onLayerSelected",value:function(e){var t=e.layer;this.changeAllLayersTransparency(!0,[t])}},{key:"onLayerDeselected",value:function(){this.getSelectedLayer()||this.changeAllLayersTransparency(!1)}},{key:"deleteMarkup",value:function(e){(e=e instanceof o.default?e:this.getMarkupById(e))?e.creationHandler.deleteMarkup():console.warn("deleteMarkup - markup does not exist")}},{key:"deleteInEditMarkups",value:function(){var e=this;this.markupsToDelete=this.getInEditMarkups(),this.openActionGroup(),this.markupsToDelete.forEach((function(t){e.deleteMarkup(t)})),this.closeActionGroup()}},{key:"undo",value:function(){this.duringCreationMarkup?this.duringCreationMarkup.creationHandler.onEscape(!1):this.actionManager.undo()}},{key:"redo",value:function(){this.actionManager.redo()}},{key:"isActionGroupOpen",value:function(){return this.actionManager.isGroupOpen}},{key:"openActionGroup",value:function(){this.actionManager.openActionGroup()}},{key:"closeActionGroup",value:function(){this.actionManager.closeActionGroup()}},{key:"copy",value:function(){this.markupsToCopy=this.getSelectedMarkups(),this.pasteOffset=1}},{key:"paste",value:function(){var e=this;this.deselectAllMarkups(),this.openActionGroup(),this.markupsToCopy.forEach((function(t){e.duplicateMarkup(t)})),this.closeActionGroup(),this.pasteOffset+=1}},{key:"cut",value:function(){this.copy(),this.deleteInEditMarkups()}},{key:"duplicateMarkup",value:function(e){var t=this,n=function(){var e=t.markupsExtension.renderer.getCameraRightVector(),n=t.markupsExtension.renderer.getCameraUpVector(),r=t.markupsExtension.renderer.multiplyByNormaStrokeWidth(p.PASTE_OFFSET*t.pasteOffset);return e.sub(n).normalize().multiplyScalar(r)},i=function(e){e.completed=!0;var n=t.activeLayer?t.activeLayer:t.createLayer();new h.default(t,e,n).execute()};if(e.translationHandler&&!e.belongsToGroup()){var s=r.default.cloneDeep(e.getState()),a=n();s.translation.add(a);var o=this.createMarkup(e.type,s);i(o),o.select()}else if(e.isGroupMarkup()){var A=r.default.cloneDeep(e.getState()),u=n();A.uuid=THREE.Math.generateUUID(),A.componentsState=e.markups.map((function(e){var t=r.default.cloneDeep(e.getState());return t.translation.add(u),t}));var l=this.createMarkup(e.type,A);i(l),l.markups.forEach((function(e){return i(e)})),l.select()}}},{key:"loadMarkupsToLayer",value:function(e){var t=this,n=e.layerData&&e.layerData.getSvgResource();if(n&&e.isEmpty()){var r=function(n){n.completed=!0,t.addMarkupToLayer(n,e),n.setDirty()},i=Object(c.parseMarkupLayer)(n,e.layerData,this.markupsExtension.viewer,this.markupsExtension.renderer);i.forEach((function(e){if(!e.state.groupId){e.state.uuid&&(e.state.componentsState=i.filter((function(t){return e.state.uuid===t.state.groupId})).map((function(e){return e.state})));var n=t.createMarkup(e.type,e.state);n&&(r(n),n.isGroupMarkup()&&n.markups.forEach((function(e){return r(e)})))}}))}}},{key:"createLinkMetadata",value:function(e){var t=e.metadata;t.markup_metadata=t.markup_metadata||{},t.markup_metadata.links=t.markup_metadata.links||[],e.attachments.forEach((function(e){t.markup_metadata.links.some((function(t){return t.id===e.attributes.issue_id&&t.type===e.attributes.attachment_type}))||t.markup_metadata.links.push({id:e.attributes.issue_id,type:e.attributes.attachment_type,position:null})}))}},{key:"loadLinksToLayer",value:function(e){var t=this;this.createLinkMetadata(e.layerData);var n=e.layerData.getLinksMetadata();n&&n.forEach((function(n){if(!e.getAllLinks().find((function(e){return e.guid===n.id}))&&e.layerData.attachments.some((function(e){return e.attributes.issue_id===n.id}))){var r=t.createLink(e,n);t.addLinkToLayer(r,e),r.setDirty(!0)}}))}},{key:"changeStyleProperty",value:function(e,t,n){"string"==typeof t&&(t=p.COLORS[t.toUpperCase()]||t),e===p.STYLE_PROPERTIES.THICKNESS&&(t*=this.markupsExtension.renderer.getNormaStrokeWidth()),this.creationStyleProperties[e]=t,e===p.STYLE_PROPERTIES.COLOR&&t!==p.COLORS.NO_COLOR&&(this.creationStyleProperties[p.STYLE_PROPERTIES.LAST_COLOR]=t),this.isMarkupSessionOpen()&&(this.openActionGroup(),this.getSelectedMarkups().forEach((function(r){r.creationHandler.changeStyleProperty(e,t,n)})),this.closeActionGroup()),this.dispatchEvent({type:d.MARKUPS_EVENTS.MARKUP_STYLE_PROPERTY_CHANGED,styleProperty:e,value:t})}},{key:"getStyleProperty",value:function(e){return this.creationStyleProperties[e]}},{key:"onCalibrationEnded",value:function(){this.markupsExtension.setToolEnabled(!0),this.startMarkupSession(p.MARKUP_TYPE_DIMENSION)}},{key:"onHistoryChanged",value:function(e){e.actionGroup.forEach((function(e){e.markup.setDirty()})),this.dispatchEvent(e),this.dispatchEvent({type:d.MARKUPS_EVENTS.LAYER_READY_TO_SAVE,readyToSave:this.getReadyToSave()})}},{key:"getLayersAsList",value:function(){return Object(l.getObjectAsList)(this.layers)}},{key:"getAllMarkups",value:function(){var e=[];return Object(l.forAll)(this.layers,(function(t){e.push.apply(e,m(Object(l.getObjectAsList)(t.markups)))})),e}},{key:"generateScreenCapture",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){Object(l.getScreenShotOfMarkup)(t.markupsExtension.viewer,(function(e){n(e)}),e)}),100)}))}},{key:"changeCreationStatusType",value:function(e){this.creationStatusType=e}},{key:"getCreationStatusType",value:function(){return this.creationStatusType}},{key:"setDefaultCreationStyleProperties",value:function(){this.creationStyleProperties={},this.changeStyleProperty(p.STYLE_PROPERTIES.LAST_COLOR,p.DEFAULT_COLOR),this.changeStyleProperty(p.STYLE_PROPERTIES.COLOR,p.DEFAULT_COLOR),this.changeStyleProperty(p.STYLE_PROPERTIES.FILL_COLOR,p.DEFAULT_FILL_COLOR),this.changeStyleProperty(p.STYLE_PROPERTIES.THICKNESS,p.DEFAULT_THICKNESS),this.changeStyleProperty(p.STYLE_PROPERTIES.OPACITY,p.DEFAULT_OPACITY),this.changeStyleProperty(p.STYLE_PROPERTIES.FILL_OPACITY,p.DEFAULT_FILL_OPACITY),this.changeStyleProperty(p.STYLE_PROPERTIES.FONT_SIZE,p.DEFAULT_FONT_SIZE_IN_PIXELS),this.changeStyleProperty(p.STYLE_PROPERTIES.FONT_WEIGHT,p.DEFAULT_FONT_WEIGHT),this.changeStyleProperty(p.STYLE_PROPERTIES.FONT_FAMILY,p.DEFAULT_FONT_FAMILY),this.changeStyleProperty(p.STYLE_PROPERTIES.FONT_STYLE,p.DEFAULT_FONT_STYLE),this.changeStyleProperty(p.STYLE_PROPERTIES.FONT_COLOR,p.DEFAULT_FONT_COLOR)}},{key:"reset",value:function(){this.nextMarkupId=0,this.nextLinkId=0,this.nextLayerId=0,this.sessionOpen=!1,this.layers={},this.selectedLayers=[],this.duringCreationMarkup=null,this.activeLayer=null,this.markupCreationType=null,this.markupsToCopy=[],this.pasteOffset=1,this.toolEnabled=!0,this.contextMenu=null,this.actionManager.clear(),this.creationStyleProperties={}}},{key:"destroy",value:function(){this.removeAllLayers(),this.unlockNavigation(),this.unregisterEvents(),this.reset(),this.clearListeners(),this.markupsExtension=null,this.actionManager=null}}])&&y(n.prototype,E),_&&y(n,_),t}()},"./extensions/BimMarkups/MarkupsMobileCallbacks.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsMobileCallbacks.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ./Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),i=n(/*! ./Utils/ActionManager/ActionManager */"./extensions/BimMarkups/Utils/ActionManager/ActionManager.js"),s=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),a=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=Autodesk.Viewing.getGlobal(),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.registerEventListeners()}var t,n,c;return t=e,c=[{key:"send",value:function(e,t){var n=l.webkit&&l.webkit.messageHandlers.callbackHandler,r=n?function(e,t){n.postMessage({command:e,data:t})}:null,i=l.JSINTERFACE,s="object"===o(t)?JSON.stringify(t):t;r?void 0!==s?r(e,s):r(e):i&&i[e]&&(void 0!==s?i[e](s):i[e]())}},{key:"correctPixelRatio",value:function(e){return Autodesk.Viewing.isAndroidDevice()&&(e.min.multiplyScalar(window.devicePixelRatio),e.max.multiplyScalar(window.devicePixelRatio)),e}}],(n=[{key:"registerEventListeners",value:function(){this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_DESELECTED,this.onLayerDeselected),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DESELECTED,this.onMarkupDeselected),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_SELECTED_FROM_DIFFERENT_SHEET,this.onLayerSelectedDifferentSheet),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_EDITED_FROM_DIFFERENT_SHEET,this.onLayerEditDifferentSheet),this.markupsExtension.markupsManager.addEventListener(i.default.HISTORY_CHANGED_EVENT,this.onHistoryChanged),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_SESSION_START,this.onMarkupSessionStart),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_SESSION_END,this.onMarkupSessionEnd),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_START,this.onMarkupDrawingStart),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onMarkupDrawingEnd),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.onMarkupDrawingCancel),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LINK_SELECTED,this.onLinkSelected),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LINK_DESELECTED,this.onLinkDeselected),this.onLayerReadyToSaveChangedBinded=this.onLayerReadyToSaveChanged.bind(this),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_READY_TO_SAVE,this.onLayerReadyToSaveChangedBinded),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_VIEW_ENTERED,this.onMarkupViewEntered),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_VIEW_EXITED,this.onMarkupViewExited),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.TEXT_EDITING_STARTED,this.onTextEditingStarted),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.TEXT_EDITING_ENDED,this.onTextEditingEnded),this.updateContextualMenuBinded=this.updateContextualMenu.bind(this),this.hideContextualMenuBinded=this.hideContextualMenu.bind(this),this.updateContextualMenuDebouncedShort=r.default.debounce(this.updateContextualMenuBinded,10),this.updateContextualMenuDebouncedLong=r.default.debounce(this.updateContextualMenuBinded,200),this.markupsExtension.markupsManager.addEventListener(i.default.HISTORY_CHANGED_EVENT,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_SELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_DIRTY,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_SYNCED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_SELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_EDIT_END,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_TOOL_ENABLED_CHANGED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.LAYER_DESELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DESELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_EDIT_START,this.hideContextualMenuBinded),this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.updateContextualMenuDebouncedLong)}},{key:"unregisterEventListeners",value:function(){this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_DESELECTED,this.onLayerDeselected),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DESELECTED,this.onMarkupDeselected),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_SELECTED_FROM_DIFFERENT_SHEET,this.onLayerSelectedDifferentSheet),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_EDITED_FROM_DIFFERENT_SHEET,this.onLayerEditDifferentSheet),this.markupsExtension.markupsManager.removeEventListener(i.default.HISTORY_CHANGED_EVENT,this.onHistoryChanged),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_SESSION_START,this.onMarkupSessionStart),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_SESSION_END,this.onMarkupSessionEnd),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_START,this.onMarkupDrawingStart),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onMarkupDrawingEnd),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.onMarkupDrawingCancel),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LINK_SELECTED,this.onLinkSelected),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LINK_DESELECTED,this.onLinkDeselected),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_READY_TO_SAVE,this.onLayerReadyToSaveChangedBinded),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_VIEW_ENTERED,this.onMarkupViewEntered),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_VIEW_EXITED,this.onMarkupViewExited),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.TEXT_EDITING_STARTED,this.onTextEditingStarted),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.TEXT_EDITING_ENDED,this.onTextEditingEnded),this.markupsExtension.markupsManager.removeEventListener(i.default.HISTORY_CHANGED_EVENT,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_SELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_DIRTY,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_SYNCED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_SELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_EDIT_END,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_TOOL_ENABLED_CHANGED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.LAYER_DESELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DESELECTED,this.updateContextualMenuDebouncedShort),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_EDIT_START,this.hideContextualMenuBinded),this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.updateContextualMenuDebouncedLong),this.updateContextualMenuDebouncedShort.cancel(),this.updateContextualMenuDebouncedLong.cancel()}},{key:"markupToolLoaded",value:function(){e.send("onMarkupToolLoaded")}},{key:"onMarkupSessionStart",value:function(){e.send("onMarkupSessionStart")}},{key:"onMarkupSessionEnd",value:function(){e.send("onMarkupSessionEnd")}},{key:"onMarkupDrawingStart",value:function(t){var n=t.markup;e.send("onMarkupDrawingStart",n.type)}},{key:"onMarkupDrawingEnd",value:function(t){var n=t.markup;e.send("onMarkupDrawingEnd",n.type)}},{key:"onMarkupDrawingCancel",value:function(t){var n=t.markup;e.send("onMarkupDrawingCancel",n.type)}},{key:"onLayerSelectedDifferentSheet",value:function(t){var n=t.layerGuid;e.send("onLayerSelectedDifferentSheet",n)}},{key:"onLayerEditDifferentSheet",value:function(t){var n=t.layerGuid;e.send("onLayerEditDifferentSheet",n)}},{key:"onLayerSelected",value:function(t){var n=t.layer,r=n.getGuid();if(r){var i={guid:r,boundingBox:e.correctPixelRatio(n.getClientBoundingBox(!0))};e.send("onLayerSelected",i)}}},{key:"onLayerDeselected",value:function(t){var n=t.layer.getGuid();n&&e.send("onLayerDeselected",n)}},{key:"onMarkupSelected",value:function(t){var n=t.markup,r={id:n.id,layerGuid:n.layer&&n.layer.getGuid()||"",type:n.type,style:n.editState.style,boundingBox:e.correctPixelRatio(n.getClientBoundingBox(!0,!0))};e.send("onMarkupSelected",r)}},{key:"onMarkupDeselected",value:function(t){var n=t.markup;e.send("onMarkupDeselected",n.id)}},{key:"onHistoryChanged",value:function(t){var n={enableUndo:t.hasUndo,enableRedo:t.hasRedo};e.send("onMarkupHistoryChanged",n)}},{key:"onLayerReadyToSaveChanged",value:function(t){var n=t.readyToSave;e.send("onLayerReadyToSaveChanged",n)}},{key:"postLayer",value:function(t,n,r){var i,s={metadata:t,resources:(i={},A(i,a.MARKUP_RESOURCE_TYPE_SVG,n[0]),A(i,a.MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE,n[1]),i),requestId:r};e.send("onPostLayer",s)}},{key:"updateLayer",value:function(t,n,r,i){var s,o={originalGuid:t,metadata:n,resources:(s={},A(s,a.MARKUP_RESOURCE_TYPE_SVG,r[0]),A(s,a.MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE,r[1]),s),requestId:i};e.send("onUpdateLayer",o)}},{key:"deleteLayer",value:function(t,n){var r={guid:t,requestId:n};e.send("onDeleteLayer",r)}},{key:"publishLayer",value:function(t,n){var r={guid:t,requestId:n};e.send("onPublishLayer",r)}},{key:"archiveLayer",value:function(t,n,r){var i={guid:t,closeVersion:n,requestId:r};e.send("onArchiveLayer",i)}},{key:"onLinkSelected",value:function(t){var n=t.link,r={type:n.type,layerGuid:n.layer.layerData.guid,boundingBox:n.getClientBoundingBox()};e.send("onLinkSelected",r)}},{key:"onLinkDeselected",value:function(t){var n=t.link,r={type:n.type,layerGuid:n.layer.layerData.guid};e.send("onLinkDeselected",r)}},{key:"updateContextualMenu",value:function(){if(!this.markupsExtension.markupsManager.getDuringCreationMarkup()){var e=this.markupsExtension.markupsManager.getSelectedMarkups()[0];if(e)return void this.onMarkupSelected({markup:e});if(!this.markupsExtension.markupsManager.isMarkupSessionOpen()){var t=this.markupsExtension.markupsManager.getSelectedLayer();if(t)return void this.onLayerSelected({layer:t})}}this.hideContextualMenu()}},{key:"hideContextualMenu",value:function(){e.send("onHideContextualMenu")}},{key:"onMarkupViewExited",value:function(){e.send("onMarkupViewExited")}},{key:"onMarkupViewEntered",value:function(){e.send("onMarkupViewEntered")}},{key:"onTextEditingStarted",value:function(){e.send("onTextEditingStarted")}},{key:"onTextEditingEnded",value:function(){e.send("onTextEditingEnded")}},{key:"destroy",value:function(){this.unregisterEventListeners(),this.iosSend=null,this.androidSend=null,this.send=null}}])&&u(t.prototype,n),c&&u(t,c),e}()},"./extensions/BimMarkups/MarkupsPermissionManager.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsPermissionManager.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=t}var t,n,a;return t=e,(n=[{key:"canPublishMarkup",value:function(e){return!!(e&&e.guid&&!e.metadata.status!==r.MARKUP_STATUS_PUBLISHED&&this.options.userId&&e.metadata.permitted_statuses&&-1!==e.metadata.permitted_statuses.indexOf(r.MARKUP_STATUS_PUBLISHED))}},{key:"canArchiveMarkup",value:function(e){return!!(e&&e.guid&&!e.metadata.status!==r.MARKUP_STATUS_ARCHIVED&&this.options.userId&&e.metadata.permitted_statuses&&-1!==e.metadata.permitted_statuses.indexOf(r.MARKUP_STATUS_ARCHIVED))}},{key:"canEditMarkup",value:function(e){if(!e)return!0;if(!e.guid)return!1;var t=[r.MARKUP_STATUS_PRIVATE,r.MARKUP_STATUS_PUBLISHED];return!(!this.options.userId||-1===t.indexOf(e.metadata.status))&&!(this.options.documentVersion<this.options.currentRawDocumentVersion)&&(this.options.isAdmin||this.options.userId===e.metadata.created_by)}},{key:"canDeleteMarkup",value:function(e){if(!e||!e.guid)return!1;var t=[r.MARKUP_STATUS_OPEN,r.MARKUP_STATUS_PRIVATE];return!(!this.options.userId||-1===t.indexOf(e.metadata.status))&&(this.options.isAdmin||this.options.userId===e.metadata.created_by)}},{key:"canEditMarkupAttachment",value:function(e,t){return!(!e||!e.guid)&&e.metadata.status!==r.MARKUP_STATUS_CLOSED&&e.metadata.status!==r.MARKUP_STATUS_ARCHIVED&&this.options.documentVersion===this.options.currentRawDocumentVersion&&!!this.options.userId&&(!!this.options.isAdmin||!t||t&&this.options.userId===t.attributes.created_by)}},{key:"canCreateMarkup",value:function(){return this.options.documentVersion===this.options.currentRawDocumentVersion}},{key:"destroy",value:function(){this.options=null}}])&&s(t.prototype,n),a&&s(t,a),e}()},"./extensions/BimMarkups/MarkupsRenderer.js":
/*!**************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsRenderer.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n(/*! ./FrameRenderer */"./extensions/BimMarkups/FrameRenderer.js"),i=n(/*! ./Links/LinksRenderer */"./extensions/BimMarkups/Links/LinksRenderer.js"),s=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),a=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),o=n(/*! ./RendererHelpers/MarkupsMaterialManager */"./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js"),A=n(/*! ./RendererHelpers/MarkupsGeometryManager */"./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js"),u=n(/*! ./RendererHelpers/TextRenderer */"./extensions/BimMarkups/RendererHelpers/TextRenderer.js"),l=n(/*! ./Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),c=n(/*! ../../src/wgs/render/ShaderPass */"./src/wgs/render/ShaderPass.js"),d=n(/*! ../../src/wgs/render/CopyShader */"./src/wgs/render/CopyShader.js"),h=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),f=n(/*! ./Utils/CameraUtils */"./extensions/BimMarkups/Utils/CameraUtils.js");function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.viewer=this.markupsExtension.viewer,this.viewer.impl.updateCameraMatrices(),this.viewer.navigation.updateCamera(),this.documentCamera=this.viewer.navigation.getCamera(),this.documentCamera.updateMatrixWorld(),this.documentCamera.matrixWorldInverse.getInverse(this.documentCamera.matrixWorld),this.textRenderer=new u.default(this.markupsExtension),this.frameRenderer=new r.default(this.markupsExtension),this.linksRenderer=new i.default(this.markupsExtension),this.materialManager=new o.default(this.markupsExtension),this.geometryManager=new A.default(this.markupsExtension),this.is3d=this.viewer.model.is3d(),this.raycaster=new THREE.Raycaster,this.size={width:this.viewer.canvas.clientWidth,height:this.viewer.canvas.clientHeight},this.is3d?(this.viewSize=a.WORLD_3D_SIZE,this.markupsCamera=new THREE.OrthographicCamera(0,this.viewSize,this.viewSize,0,0,1),this.markupsCamera.position.set(0,0,1),this.markupsCamera.target=new THREE.Vector3(0,0,0)):this.markupsCamera=this.viewer.navigation.getCamera(),this.markups=[],this.glrenderer=this.viewer.impl.glrenderer(),this.copyPass=new c.ShaderPass(d.CopyShader),this.copyPass.material.depthWrite=!1,this.copyPass.material.depthTest=!1,this.copyPass.material.transparent=!0,this._tmpScene=new THREE.Scene,this._black=new THREE.Color(0,0,0),this.absoluteRightVec=new THREE.Vector3(1,0,0),this.absoluteUpVec=new THREE.Vector3(0,1,0),this.absoluteEyeVec=new THREE.Vector3(0,0,1),this.tmpMatrix=new THREE.Matrix4,this.frustum=new THREE.Frustum,this.setMMtoUnitConversion(),this.setNormaStrokeWidth(),this.setNormaTextSize(),this.registerEventListeners(),this.updateCameraAndMaterialParameters()}var t,n,E;return t=e,(n=[{key:"registerEventListeners",value:function(){this.onRenderBinded=this.onRender.bind(this),this.onResizeBinded=this.onResize.bind(this),this.invalidateBinded=this.invalidate.bind(this),this.onCameraChangedBinded=this.onCameraChanged.bind(this),this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.onRenderBinded),this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_REMOVED,this.invalidateBinded),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.invalidateBinded)}},{key:"removeEventListeners",value:function(){this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.onRenderBinded),this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded),this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_REMOVED,this.invalidateBinded),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_DRAWING_CANCEL,this.invalidateBinded)}},{key:"onCameraChanged",value:function(){this.eyeVector=null,this.upVector=null,this.rightVector=null}},{key:"getResolution",value:function(){var e=this.glrenderer.getPixelRatio();return{width:this.size.width*e,height:this.size.height*e}}},{key:"supportsInt32Index",value:function(){return!!this.glrenderer.supportsElementIndexUint()}},{key:"disposeTmpTarget",value:function(){this._tmpTarget&&(this._tmpTarget.dispose(),this._tmpTarget=null)}},{key:"createTempRenderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getResolution();return this.disposeTmpTarget(),0!==e.width&&0!==e.height&&(this._tmpTarget=new THREE.WebGLRenderTarget(e.width,e.height,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1,depthBuffer:!1}),this._tmpTarget.generateMipmaps=!1,!0)}},{key:"onRender",value:function(){this.render()}},{key:"onResize",value:function(e){this.size.width=e.width,this.size.height=e.height,this.updateCameraAndMaterialParameters()}},{key:"updateCameraAndMaterialParameters",value:function(){if(this.is3d){var e=this.size.width/(this.size.height||1),t=this.viewSize*e,n=this.markupsCamera.right-t;this.markupsCamera.position.x+=n/2,this.markupsCamera.target.x+=n/2,this.markupsCamera.right=t,this.markupsCamera.updateProjectionMatrix(),this.markupsCamera.updateMatrixWorld(),this.markupsCamera.matrixWorldInverse.getInverse(this.markupsCamera.matrixWorld)}var r=this.getResolution();this._tmpTarget&&this.createTempRenderTarget(r),this.materialManager.updateScreenSize(r)}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.markupsCamera;this.tmpMatrix.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this.frustum.setFromMatrix(this.tmpMatrix);var r=function(t){var n=t.max,r=t.max.clone().setX(t.min.x),i=t.min,s=t.min.clone().setX(t.max.x);return e.frustum.containsPoint(n)||e.frustum.containsPoint(r)||e.frustum.containsPoint(i)||e.frustum.containsPoint(s)||e.frustum.intersectsBox(t)},i=function(e,t){return!(t.max.x<e.min.x||t.min.x>e.max.x||t.max.y<e.min.y||t.min.y>e.max.y)},s=[],a=[],o=[],A=function(){var r;0!==s.length&&((r=e._tmpScene).add.apply(r,s),e.glrenderer.render(e._tmpScene,n,t),e._tmpScene.children.length=0,s.length=0)},u=function(){var r;0!==a.length&&((r=e._tmpScene).add.apply(r,a),e.glrenderer.setClearColor(e._black,0),e.glrenderer.clearTarget(e._tmpTarget,!0,!1,!1),e.glrenderer.render(e._tmpScene,n,e._tmpTarget),e.copyPass.render(e.glrenderer,t,e._tmpTarget),e._tmpScene.children.length=0,a.length=0,o.length=0)};this.markups.forEach((function(l){var c=l.meshContainer;if(c.visible&&0!==c.children.length){if(!e.is3d){var d=l.getWorldBoundingBox(!0);if(!r(d))return}var h=l.fillMesh,f=l.strokeMesh,p=h&&h.material.opacity<1,E=f.material.uniforms.opacity.value<1;if(p||E){if(!e._tmpTarget&&!e.createTempRenderTarget())return;if(A(),!p&&h||!E)u(),e._tmpScene.add(c),c.remove(f),e.glrenderer.setClearColor(e._black,0),e.glrenderer.clearTarget(e._tmpTarget,!0,!1,!1),e.glrenderer.render(e._tmpScene,n,e._tmpTarget),e.copyPass.render(e.glrenderer,t,e._tmpTarget),c.remove(h),c.add(f),e.glrenderer.render(e._tmpScene,n,t),c.add(h),c.add(f),e._tmpScene.remove(c);else{var m=l.getWorldBoundingBox(!0);o.some((function(e){return(!l.isTransparent()||!e.isTransparent)&&i(m,e.bbox)}))&&u(),a.push(c),o.push({bbox:m,isTransparent:l.isTransparent()})}}else u(),s.push(c)}})),A(),u()}},{key:"getCameraEyeVector",value:function(){return this.eyeVector||(this.eyeVector=f.default.getCameraEyeVector(this.markupsCamera)),this.eyeVector.clone()}},{key:"getCameraRightVector",value:function(){return this.rightVector||(this.rightVector=f.default.getCameraRightVector(this.markupsCamera)),this.rightVector.clone()}},{key:"getCameraUpVector",value:function(){return this.upVector||(this.upVector=f.default.getCameraUpVector(this.markupsCamera)),this.upVector.clone()}},{key:"getCameraRotation",value:function(){return f.default.getCameraRotation(this.markupsCamera)}},{key:"worldToClient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.markupsCamera,n=this.viewer.navigation.getScreenViewport(),r=e.clone().project(t);return new THREE.Vector3((r.x+1)/2*n.width,(1-r.y)/2*n.height,0)}},{key:"clientToWorld",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.markupsCamera,n=this.viewer.navigation.getScreenViewport(),r=new THREE.Vector3;r.x=e.x/n.width*2-1,r.y=-(e.y/n.height*2-1);var i=r.unproject(t);return i.z=0,i}},{key:"sizeFromWorldToClient",value:function(e){var t=this.worldToClient(new THREE.Vector3),n=this.worldToClient(new THREE.Vector3(e,0,0));return t.distanceTo(n)}},{key:"sizeFromClientToWorld",value:function(e){var t=this.clientToWorld(new THREE.Vector3),n=this.clientToWorld(new THREE.Vector3(e,0,0));return t.distanceTo(n)}},{key:"multiplyByNormaStrokeWidth",value:function(e){return this.normaStrokeWidth*e}},{key:"documentCameraToMarkupsCamera",value:function(e){if(!this.is3d)return e.z=0,e;var t=this.worldToClient(e,this.documentCamera);return this.clientToWorld(t)}},{key:"_fromMMtoWorldUnits",value:function(e){if(this.is3d)return 1;var t=this.viewer.model,n=t.getMetadata("page_dimensions","page_units",null)||t.getMetadata("page_dimensions","model_units","mm");n=t.getUnitData(n.toLowerCase()).unitString;var r=Autodesk.Viewing.Private.convertUnits("mm",n,1,e);return t.getData().isLeaflet&&(r*=this.viewer.impl.getFitBounds(!0).size().x/t.getMetadata("page_dimensions","page_width")),r}},{key:"_calcNormaSize",value:function(e,t){var n=this.mmToWorldUnitFactor*e,r=this.viewer.impl.getFitBounds(!0),i=r.size().x,s=r.size().y,a=Math.sqrt(i*i+s*s);return n=Math.min(n,a*t)}},{key:"setMMtoUnitConversion",value:function(){this.mmToWorldUnitFactor=this._fromMMtoWorldUnits(1)}},{key:"setNormaStrokeWidth",value:function(){this.is3d?this.normaStrokeWidth=a.NORMA_3D:this.normaStrokeWidth=this._calcNormaSize(a.DEFAULT_STROKE_IN_MM,a.MAX_NORMA_PERCENTAGE)}},{key:"setNormaTextSize",value:function(){this.is3d?this.normaTextSize=a.NORMA_TEXT_3D:this.normaTextSize=this._calcNormaSize(a.DEFAULT_FONT_SIZE_IN_MM,a.MAX_NORMA_TEXT_PERCENTAGE)}},{key:"getNormaStrokeWidth",value:function(){return this.normaStrokeWidth}},{key:"getFontToWorldScale",value:function(){return this.normaTextSize/a.DEFAULT_FONT_SIZE_IN_PIXELS}},{key:"addToScene",value:function(e){var t=function(e){return e.layer&&e.layer.layerData&&e.layer.layerData.metadata&&e.layer.layerData.metadata.created_at};t(e)?Object(h.insertInSortedArray)(e,this.markups,(function(e,n){if(!t(e))return 1;var r=Date.parse(e.layer.layerData.metadata.created_at),i=Date.parse(n.layer.layerData.metadata.created_at);return r>i?1:r<i?-1:e.id>n.id?1:e.id<n.id?-1:0})):this.markups.push(e)}},{key:"removeFromScene",value:function(e){l.default.remove(this.markups,(function(t){return t===e}))}},{key:"invalidate",value:function(){this.markupsExtension.viewer.impl.invalidate(!1,!1,!0)}},{key:"updateRaycaster",value:function(e){var t=this.viewer.navigation.getScreenViewport(),n=e.x/t.width*2-1,r=-e.y/t.height*2+1;this.raycaster.ray.origin.set(n,r,(this.markupsCamera.near+this.markupsCamera.far)/(this.markupsCamera.near-this.markupsCamera.far)).unproject(this.markupsCamera),this.raycaster.ray.direction.set(0,0,-1)}},{key:"destroy",value:function(){this.removeEventListeners(),this.frameRenderer&&(this.frameRenderer.destroy(),this.frameRenderer=null),this.linksRenderer&&(this.linksRenderer.destroy(),this.linksRenderer=null),this.textRenderer&&(this.textRenderer.destroy(),this.textRenderer=null),this.materialManager&&(this.materialManager.destroy(),this.materialManager=null),this.geometryManager&&(this.geometryManager.destroy(),this.geometryManager=null),this.disposeTmpTarget(),this.invalidate(),this.markupsExtension=null,this.viewer=null}}])&&p(t.prototype,n),E&&p(t,E),e}()},"./extensions/BimMarkups/MarkupsSceneState.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsSceneState.js ***!
  \****************************************************/
/*! exports provided: generateSceneMetadata, getViewportData, restoreMarkupViewState */function(e,t,n){"use strict";n.r(t),n.d(t,"generateSceneMetadata",(function(){return s})),n.d(t,"getViewportData",(function(){return a})),n.d(t,"restoreMarkupViewState",(function(){return o}));var r=n(/*! ./Utils/EventUtils */"./extensions/BimMarkups/Utils/EventUtils.js"),i=function(e,t){e&&t&&("eye"in e&&(e.eye[0]=(Number(e.eye[0])+t.x).toString(),e.eye[1]=(Number(e.eye[1])+t.y).toString(),e.eye[2]=(Number(e.eye[2])+t.z).toString()),"target"in e&&(e.target[0]=(Number(e.target[0])+t.x).toString(),e.target[1]=(Number(e.target[1])+t.y).toString(),e.target[2]=(Number(e.target[2])+t.z).toString()),"pivotPoint"in e&&(e.pivotPoint[0]=(Number(e.pivotPoint[0])+t.x).toString(),e.pivotPoint[1]=(Number(e.pivotPoint[1])+t.y).toString(),e.pivotPoint[2]=(Number(e.pivotPoint[2])+t.z).toString()))},s=function(e,t,n){var r=JSON.parse(JSON.stringify(e));return t&&i(r.viewport,t),r.sheetGUID=n.sheetGUID,r.sheetName=n.sheetName,r},a=function(e,t){var n=e.model,r=n?n.getData().globalOffset:null,s=t.metadata.markup_metadata;if(r){var a=JSON.parse(JSON.stringify(s)),o=a.viewport,A={x:-r.x,y:-r.y,z:-r.z};return i(o,A),a}return s},o=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(t){var s=a(e,t);e.restoreState(s,null,n);var o=function(){var t=e.navigation.getCamera();e.navigation.updateCamera(),t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),e.impl.sceneUpdated(!0),i(!0)};n?o():r.default.executeAfterTransitionEnded(e,o);var A=function(){e.impl.sceneUpdated(!0)};e.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,A,{once:!0})}else i(!1)}},"./extensions/BimMarkups/MarkupsSerializer.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsSerializer.js ***!
  \****************************************************/
/*! exports provided: leafletWorldToMarkups, generateSVGData, generateJsonData */function(e,t,n){"use strict";n.r(t),n.d(t,"leafletWorldToMarkups",(function(){return u})),n.d(t,"generateSVGData",(function(){return d})),n.d(t,"generateJsonData",(function(){return h}));var r=n(/*! ./Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),i=n(/*! ./MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),s=n(/*! ./MarkupsSceneState */"./extensions/BimMarkups/MarkupsSceneState.js"),a=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t){delete e.scale,delete e.translation,t&&(delete e.style,delete e.position,delete e.size,delete e.rotation)},u=function(e,t){var n,r;if(t.model.getData().isPdf)Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(t,e),n=Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(t),r=Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(t);else{var i=t.model.getData();n=i.loadOptions.loadOptions,r=i.bbox}var s=n,a=s.texWidth,o=s.texHeight,A=e,u=new THREE.Vector3(r.min.x,r.max.y,0);return A.sub(u),e.x=A.x*a/r.size().x,e.y=A.y*o/r.size().y,e},l=function(e,t){var n=u(new THREE.Vector3,t),r=u(new THREE.Vector3(e,0,0),t);return n.distanceTo(r)},c=function(e,t){return t.createElementNS("http://www.w3.org/2000/svg",e)},d=function(e,t,n){var d=t.getDocument(),h=c("svg",d);!function(e,t,n){var r=n.createElementNS("http://www.w3.org/2000/svg","metadata"),i=n.createElement("markup_document");r.appendChild(i),i.setAttribute("data-model-version",t["data-model-version"]),e.insertBefore(r,e.firstChild)}(h,{"data-model-version":"5"},d);var f=Object(i.getObjectAsList)(e.markups),p=t.impl.is2d?null:t.getState(),E=t.model.getData().isLeaflet,m=t.model.getData().isPdf;return f.forEach((function(f){var p=r.default.cloneDeep(f.getState());if(t.impl.is2d||Object(s.restoreMarkupViewState)(t,e.layerData,!0),p.anchors.forEach((function(e){f.applyScaleAndTranslation(e),(E||m)&&e.copy(u(e,t))})),f.type!==a.MARKUP_TYPE_ARROW&&f.type!==a.MARKUP_TYPE_DIMENSION&&!f.isGroupMarkup()){var g;f.type===a.MARKUP_TYPE_CALLOUT?(p.isFrameUsed=p.isFrameUsed?1:0,g=f.getWorldBoundingBoxTextOnly()):g=f.getWorldBoundingBox();var y=g.size(),B=g.center();(E||m)&&(B.copy(u(B,t)),y.x=l(y.x,t),y.y=l(y.y,t)),p.size="".concat(y.x," ").concat(y.y),p.position="".concat(B.x," ").concat(B.y),Object(i.applyTranslation)(p.anchors,B.clone().negate())}f.type===a.MARKUP_TYPE_DIMENSION&&((E||m)&&p.translation.copy(u(p.translation,t).sub(u(new THREE.Vector3,t))),p.offset="".concat(p.translation.x," ").concat(p.translation.y," ").concat(p.translation.z),p.style[a.STYLE_PROPERTIES.FONT_SIZE]*=a.DIMENSION_FONT_SIZE_FACTOR,p.style[a.STYLE_PROPERTIES.THICKNESS]*=a.DIMENSION_THICKNESS_FACTOR),(E||m)&&(p.style[a.STYLE_PROPERTIES.THICKNESS]=l(p.style[a.STYLE_PROPERTIES.THICKNESS],t),p.style[a.STYLE_PROPERTIES.FONT_SIZE]=l(p.style[a.STYLE_PROPERTIES.FONT_SIZE],t),p.style[a.STYLE_PROPERTIES.FONT_SIZE]*=n.getFontToWorldScale()),p.type=f.type,(p.style[a.STYLE_PROPERTIES.FILL_COLOR]===a.COLORS.NO_COLOR||f.options.fillNotAllowed)&&(p.style[a.STYLE_PROPERTIES.FILL_OPACITY]=0,p.style[a.STYLE_PROPERTIES.FILL_COLOR]=a.COLORS.NO_COLOR),A(p,f.isGroupMarkup()),function(e){var t={};switch(e.type){case a.MARKUP_TYPE_RECTANGLE:case a.MARKUP_TYPE_CLOUD:case a.MARKUP_TYPE_CIRCLE:break;case a.MARKUP_TYPE_ARROW:case a.MARKUP_TYPE_LINE:t.tail=e.anchors[0],t.head=e.anchors[1];break;case a.MARKUP_TYPE_DIMENSION:t.firstAnchor=e.anchors[0],t.secondAnchor=e.anchors[1];break;case a.MARKUP_TYPE_HIGHLIGHT:case a.MARKUP_TYPE_FREEHAND:case a.MARKUP_TYPE_POLYCLOUD:case a.MARKUP_TYPE_POLYLINE:t.locations=e.anchors;break;case a.MARKUP_TYPE_ARROW_CALLOUT:break;case a.MARKUP_TYPE_TEXT:case a.MARKUP_TYPE_CALLOUT:}e.anchors=t}(p);var v,k,_=(v=p,k={},Object.keys(v).forEach((function(e){"object"!==o(v[e])||Array.isArray(v[e])?k[e]=v[e]:Object.keys(v[e]).forEach((function(t){k[t]=v[e][t]}))})),k);!function(e){Object.keys(e).forEach((function(t){if(Array.isArray(e[t])){var n=e[t],r=[];n.forEach((function(e){r.push(e.x),r.push(e.y)})),e[t]=r.join(" ")}else if("object"===o(e[t])){var i=e[t],s=[];s.push(i.x),s.push(i.y),e[t]=s.join(" ")}}))}(_);var w=function(e,t){var n=c("g",t);n.setAttribute("cursor","inherit"),n.setAttribute("pointer-events","none");var r=c("path",t);return r.setAttribute("id","markup"),e?r.setAttribute("d","M 0 0 z"):r.setAttribute("d","M 0 0"),n.appendChild(r),n}(_.closed,d);!function(e,t,n){var r=n.createElementNS("http://www.w3.org/2000/svg","metadata"),i=n.createElement("markup_element");r.appendChild(i),Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),e.insertBefore(r,e.firstChild)}(w,_,d),h.appendChild(w)})),p&&t.restoreState(p,null,!0),function(e){var t="";try{t=(new XMLSerializer).serializeToString(e)}catch(e){console.error("svgNodeToString failed to generate string representation of domNode.")}return t}(h)},h=function(e){var t=[];return Object(i.getObjectAsList)(e.markups).forEach((function(e){var n=r.default.cloneDeep(e.getState());A(n,e.isGroupMarkup()),t.push({type:e.type,state:n,dataModelVersion:6})})),JSON.stringify(t)}},"./extensions/BimMarkups/MarkupsTool.js":
/*!**********************************************!*\
  !*** ./extensions/BimMarkups/MarkupsTool.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ./MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),i=n(/*! ./MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),s=n(/*! ./EditHandlers/RectSelector */"./extensions/BimMarkups/EditHandlers/RectSelector.js"),a=n(/*! ./MarkupTypes/MarkupsTypesDictionary */"./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=Autodesk.Viewing,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.setGlobalManager(t.globalManager),this.viewer=t.viewer,this.names=["markups"],this.isActive=!1,this.onCameraChangedBinded=this.onCameraChanged.bind(this),this.onEditStartBinded=this.onEditStart.bind(this),this.onEditEndBinded=this.onEditEnd.bind(this),this.onDrawEndBinded=this.onDrawEnd.bind(this),this.onCreationTypeChangedBinded=this.onCreationTypeChanged.bind(this),this.onSelectionChangedBinded=this.onSelectionChanged.bind(this),this.rectSelector=new s.default(this.markupsExtension),this.lastDrawEndTime=-1/0}var t,n,A;return t=e,(n=[{key:"getNames",value:function(){return this.names}},{key:"getName",value:function(){return this.names[0]}},{key:"getPriority",value:function(){return this.markupsExtension.markupsManager.isMarkupSessionOpen()?200:60}},{key:"updateToolPriority",value:function(){this.markupsExtension.viewer.toolController.rearrangeByPriorities()}},{key:"intersectHandler",value:function(e,t){if(this.lastMousePos)for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.isCompleted()){var i=r[t];if(i){var s=this.lastMousePos.clone();if(i.intersect(s)||i.isDragging())return i.getCursor()}}}return null}},{key:"getCursor",value:function(){var e=this.markupsExtension.markupsManager.getDuringCreationMarkup(!1),t=this.markupsExtension.markupsManager.getEnabledMarkups(),n=this.markupsExtension.markupsManager.getActiveLayer(),r=this.hasSelection(),s=null;if(this.markupsExtension.markupsManager.isMarkupSessionOpen()){var a=this.markupsExtension.markupsManager.getInEditMarkups(),o=n.getAllLinks();s=(s=(s=(s=(s=(s=(s=e&&e.creationHandler.getCursor())||this.intersectHandler(o,"anchorHandler"))||this.intersectHandler(a,"anchorHandler"))||this.intersectHandler(a,"scaleHandler"))||this.intersectHandler(a,"rotationHandler"))||this.intersectHandler(a,"translationHandler"))||this.intersectHandler(a,"dimensionEditHandler")}if(s=s||this.intersectHandler(t,"selectionHandler"),!this.markupsExtension.markupsManager.isMarkupSessionOpen()){var A=this.markupsExtension.markupsManager.getVisibleLinks();s=s||this.intersectHandler(A,"selectionHandler")}var u=this.markupsExtension.markupsManager.getMarkupCreationType();return s||u!==i.RECT_SELECTOR||this.isRectSelectorActive()||(s="auto"),s=s||u&&(r&&!this.isRectSelectorActive()?"auto":i.MARKUP_CREATION_CURSORS[u]||"crosshair")}},{key:"register",value:function(){this.snapper=new Autodesk.Viewing.Extensions.Snapping.Snapper(this.viewer,{markupMode:!0}),this.viewer.toolController.registerTool(this.snapper)}},{key:"deregister",value:function(){this.snapper&&(this.viewer.toolController.deregisterTool(this.snapper),this.snapper=null)}},{key:"activate",value:function(e){e!==this.getName()||this.isActive||(this.isActive=!0,this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_EDIT_START,this.onEditStartBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_EDIT_END,this.onEditEndBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onDrawEndBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_CREATION_TYPE_CHANGED,this.onCreationTypeChangedBinded),this.addDocumentEventListener("selectionchange",this.onSelectionChangedBinded))}},{key:"deactivate",value:function(e){e===this.getName()&&this.isActive&&(this.isActive=!1,this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_EDIT_START,this.onEditStartBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_EDIT_END,this.onEditEndBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_DRAWING_END,this.onDrawEndBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_CREATION_TYPE_CHANGED,this.onCreationTypeChangedBinded),this.removeDocumentEventListener("selectionchange",this.onSelectionChangedBinded),this.onCreationTypeChanged())}},{key:"onSelectionChanged",value:function(){this.markupsExtension.markupsManager.getSelectedMarkups().forEach((function(e){e.isTextMarkup()&&e.isInEdit()&&e.textInputHandler.updateCaretPosition()}))}},{key:"eventToWorld",value:function(e){var t={x:e.canvasX,y:e.canvasY};return this.markupsExtension.renderer.clientToWorld(t)}},{key:"getSnappedPosition",value:function(){if(!this.lastSnapPoint)if(this.viewer.impl.is2d||this.isSnappingAllowed()){var e={x:this.originalEvent.canvasX,y:this.originalEvent.canvasY};if(this.snapper.onMouseMove(e),this.viewer.model.getData().isLeaflet||this.snapper.indicator.render(),this.snapper.isSnapped()){var t=Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(),this.viewer);this.lastSnapPoint=this.markupsExtension.renderer.documentCameraToMarkupsCamera(t)}else this.lastSnapPoint=this.lastMousePos}else this.lastSnapPoint=this.lastMousePos;return this.lastSnapPoint.clone()}},{key:"applyHandler",value:function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var s=e[i];if(s.isCompleted()){var a=s[t];if(a&&a[n](this.lastMousePos,r))return!0}}return!1}},{key:"isNavigationToolActive",value:function(){return this.viewer.getActiveNavigationTool()!==this.getName()}},{key:"isSnappingAllowed",value:function(){var e=this.markupsExtension.markupsManager.getMarkupCreationType();return e&&a.markupsTypesDictionary[e].withSnappingMarkup&&(e===i.MARKUP_TYPE_DIMENSION||!this.viewer.model.getData().isLeaflet)}},{key:"isRectSelectorActive",value:function(){return this.markupsExtension.markupsManager.isMarkupSessionOpen()&&this.markupsExtension.markupsManager.getMarkupCreationType()===i.RECT_SELECTOR}},{key:"hasSelection",value:function(){var e=this.markupsExtension.markupsManager.isMarkupSessionOpen();return this.markupsExtension.markupsManager.getSelectedMarkups().length>0||!e&&(this.markupsExtension.markupsManager.getSelectedLayers().length>0||this.markupsExtension.markupsManager.getSelectedLinks().length>0)}},{key:"handleMouseEvent",value:function(e,t,n,r){if(!this.markupsExtension.isToolEnabled())return!1;this.lastMousePos=this.eventToWorld(e),this.originalEvent=e,this.markupsExtension.renderer.updateRaycaster({x:e.canvasX,y:e.canvasY});var s,o,A=this.markupsExtension.markupsManager.getMarkupCreationType(),u=this.markupsExtension.markupsManager.isMarkupSessionOpen();if(!this.markupInEdit&&(!A||!a.markupsTypesDictionary[A].useTimerBeforeSelection||a.markupsTypesDictionary[A].useTimerBeforeSelection&&performance.now()-this.lastDrawEndTime>i.TIMEOUT_TO_SELECT_AFTER_DRAWEND)){var l=this.markupsExtension.markupsManager.getEnabledMarkups().filter((function(e){return!e.isSelected()}));s=s||this.applyHandler(l,"selectionHandler",n,t)}var c=this.markupsExtension.markupsManager.getActiveLayer();if(A&&(o=this.markupsExtension.markupsManager.getDuringCreationMarkup(!1))&&!o.isCompleted())if(s)o.creationHandler.creationCancel();else{var d=o.creationHandler.getSnappedPosition();s="handleMouseMove"===n&&!this.mouseMoved&&!o.creationHandler.creationStarted||o.creationHandler[n](d,t)}if(u){var h=c.getAllLinks();s=s||this.applyHandler(h,"anchorHandler",n,t);var f=this.markupsExtension.markupsManager.getInEditMarkups();s=(s=(s=(s=(s=(s=s||this.applyHandler(f,"scaleHandler",n,t))||this.applyHandler(f,"anchorHandler",n,t))||this.applyHandler(f,"rotationHandler",n,t))||this.applyHandler(f,"translationHandler",n,t))||this.applyHandler(f,"dimensionEditHandler",n,t))||this.applyHandler(f,"textInputHandler",n,t)}if(!s&&"handleMouseMove"===n&&this.isSnappingAllowed()&&this.getSnappedPosition(),this.isRectSelectorActive()&&(s=s||this.rectSelector[n](this.lastMousePos)),!u){var p=this.markupsExtension.markupsManager.getVisibleLinks();s=s||this.applyHandler(p,"selectionHandler",n,t)}if(!s&&("handleButtonUp"===n||"handleButtonDown"===n&&A&&a.markupsTypesDictionary[A].singleClickMarkup)&&(!this.hasSelection()||this.shiftDown||this.mouseMoved||this.isRectSelectorActive()||(this.markupsExtension.markupsManager.deselectAllMarkups(),this.markupsExtension.markupsManager.deselectAllLinks(),u||this.markupsExtension.markupsManager.deselectAllLayers(null),s=!0)),!s&&r&&A&&!this.isNavigationToolActive()&&(o=this.markupsExtension.markupsManager.getDuringCreationMarkup(!0))){var E=o.creationHandler.getSnappedPosition();(s=o.creationHandler[n](E,t))||o.creationHandler.creationCancel()}return this.lastSnapPoint=null,s}},{key:"handleButtonDown",value:function(e,t){if(this.dragging=!0,this.buttonDownPos=new THREE.Vector2(e.canvasX,e.canvasY,0),this.mouseMoved=!1,this.buttonDownConsumed=!1,this.selectedOnDown=!1,this.panning=!Autodesk.Viewing.isMobileDevice()&&(this.isRightClick(e)||this.isMiddleClick(e)),this.panning)return!1;this.markupsExtension.markupsManager.dispatchEvent({type:r.MARKUPS_EVENTS.BUTTON_DOWN}),this.buttonDownConsumed=this.handleMouseEvent(e,t,"handleButtonDown",!0);var n=this.markupsExtension.markupsManager.getSelectedMarkups();return this.selectedOnDown=n.length>0,this.buttonDownConsumed}},{key:"handleButtonUp",value:function(e,t){if(this.dragging=!1,this.buttonDownPos=null,this.buttonUpConsumed=!1,this.buttonUpCalled=!0,this.panning||this.mouseMoved&&!this.buttonDownConsumed)return this.panning=!1,this.mouseMoved=!1,!1;var n=this.handleMouseEvent(e,t,"handleButtonUp",!1),r=this.markupsExtension.markupsManager.getSelectedMarkups();if(!this.mouseMoved&&this.selectedOnDown&&!r[0]){var i=this.markupsExtension.markupsManager.getDuringCreationMarkup(!1);i&&i.creationHandler.creationCancel(),this.markupsExtension.markupsManager.deselectAllMarkups()}this.buttonUpConsumed=n;var s=this.mouseMoved;return this.mouseMoved=!1,n&&s||this.isRectSelectorActive()}},{key:"handleDoubleClick",value:function(e,t){var n=this.handleMouseEvent(e,t,"handleDoubleClick",!1),r=this.markupsExtension.markupsManager.isMarkupSessionOpen()&&this.markupsExtension.markupsManager.getMarkupCreationType();return n||r}},{key:"handleMouseMove",value:function(e){if(this.panning)return!1;this.buttonDownPos&&!this.mouseMoved&&(this.mouseMoved=new THREE.Vector2(e.canvasX,e.canvasY,0).distanceTo(this.buttonDownPos)>i.MIN_CHANGE_DISTANCE),this.markupsExtension.markupsManager.unhoverAllLayers(),this.markupsExtension.markupsManager.unhoverAllMarkups();var t=this.handleMouseEvent(e,null,"handleMouseMove",!1);return this.dragging&&t}},{key:"handleKeyDown",value:function(e,t){var n=this,i=this.markupsExtension.markupsManager.getInEditMarkups(),s=!1,a=this.markupsExtension.markupsManager.getDuringCreationMarkup(!1);if(a)s=a.creationHandler.handleKeyDown(e,t);else{var o;this.markupsExtension.markupsManager.openActionGroup();for(var A=i.length-1;A>=0;A--){var u=i[A];u&&u.isCompleted()&&((o=u.anchorHandler&&u.anchorHandler.handleKeyDown(e,t))||(o=u.textInputHandler&&u.textInputHandler.handleKeyDown(e,t)),o||(o=u.scaleHandler&&u.scaleHandler.handleKeyDown(e,t)),o||(o=u.rotationHandler&&u.rotationHandler.handleKeyDown(e,t)),o||(o=u.translationHandler&&u.translationHandler.handleKeyDown(e,t)),o||(o=u.dimensionEditHandler&&u.dimensionEditHandler.handleKeyDown(e,t)),o||(o=u.selectionHandler&&u.selectionHandler.handleKeyDown(e,t))),s=s||o}this.markupsExtension.markupsManager.closeActionGroup()}for(var l=this.markupsExtension.markupsManager.getVisibleLinks(),c=l.length-1;c>=0;c--){var d=l[c];s=(s=s||d.anchorHandler&&d.anchorHandler.handleKeyDown(e,t))||d.selectionHandler&&d.selectionHandler.handleKeyDown(e,t)}if(!s)switch(t){case Autodesk.Viewing.KeyCode.CONTROL:this.ctrlDown=!0;break;case Autodesk.Viewing.KeyCode.SHIFT:this.shiftDown=!0,s=!0;break;case Autodesk.Viewing.KeyCode.a:this.ctrlDown&&this.markupsExtension.markupsManager.isMarkupSessionOpen()&&(this.markupsExtension.markupsManager.getActiveLayer().selectAllMarkups(),s=!0);break;case Autodesk.Viewing.KeyCode.x:this.ctrlDown&&(this.markupsExtension.cut(),s=!0);break;case Autodesk.Viewing.KeyCode.c:this.ctrlDown&&(this.markupsExtension.copy(),s=!0);break;case Autodesk.Viewing.KeyCode.v:this.ctrlDown&&(this.markupsExtension.paste(),s=!0);break;case Autodesk.Viewing.KeyCode.d:this.ctrlDown&&(this.markupsExtension.copy(),this.markupsExtension.paste(),s=!0);break;case Autodesk.Viewing.KeyCode.z:this.ctrlDown&&!this.shiftDown?(this.markupsExtension.undo(),s=!0):this.ctrlDown&&this.shiftDown&&(this.markupsExtension.redo(),s=!0);break;case Autodesk.Viewing.KeyCode.y:this.ctrlDown&&(this.markupsExtension.redo(),s=!0);break;case Autodesk.Viewing.KeyCode.ESCAPE:this.markupsExtension.markupsManager.getSelectedMarkups().length>0?(this.markupsExtension.markupsManager.deselectAllMarkups(),s=!0):this.markupsExtension.markupsManager.isMarkupSessionOpen()?(this.markupsExtension.markupsManager.getActiveLayer().isEmpty()?this.markupsExtension.endMarkupSession(!1):this.markupsExtension.markupsManager.dispatchEvent({type:r.MARKUPS_EVENTS.LAYER_DISCARD_PRESSED,onConfirmCB:function(){n.markupsExtension.endMarkupSession(!1)}}),s=!0):this.markupsExtension.markupsManager.getSelectedLayers().length>0&&(this.markupsExtension.markupsManager.deselectAllLayers(),s=!0);break;case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:this.markupsExtension.markupsManager.deleteInEditMarkups()}return s}},{key:"handleSingleClick",value:function(e,t){return this.buttonUpConsumed}},{key:"handleKeyUp",value:function(e,t){var n=this.markupsExtension.markupsManager.getInEditMarkups(),r=this.markupsExtension.markupsManager.getDuringCreationMarkup(!1);if(r)r.creationHandler.handleKeyUp(e,t);else{this.markupsExtension.markupsManager.openActionGroup();for(var i=n.length-1;i>=0;i--){var s=n[i];s&&s.isCompleted()&&(e.isDuringEdit=i<n.length-1,s.anchorHandler&&s.anchorHandler.handleKeyUp(e,t)||s.translationHandler&&s.translationHandler.handleKeyUp(e,t))}this.markupsExtension.markupsManager.closeActionGroup()}switch(t){case Autodesk.Viewing.KeyCode.CONTROL:this.ctrlDown=!1;break;case Autodesk.Viewing.KeyCode.SHIFT:this.shiftDown=!1}return!1}},{key:"onCameraChanged",value:function(){this.isSnappingAllowed()&&!this.viewer.model.getData().isLeaflet&&this.snapper.indicator.render()}},{key:"onCreationTypeChanged",value:function(){this.snapper.indicator.clearOverlays()}},{key:"onEditStart",value:function(){this.markupInEdit=!0,this.snapper.indicator.clearOverlays()}},{key:"onEditEnd",value:function(){this.markupInEdit=!1,this.snapper.indicator.clearOverlays()}},{key:"onDrawEnd",value:function(){this.lastDrawEndTime=performance.now()}},{key:"isMiddleClick",value:function(e){return Autodesk.Viewing.Private.isMiddleClick(e)}},{key:"isRightClick",value:function(e){return Autodesk.Viewing.Private.isRightClick(e,this.viewer.navigation)}},{key:"handleBlur",value:function(){this.ctrlDown=!1,this.shiftDown=!1}},{key:"handleSingleTap",value:function(e){var t=this.buttonUpConsumed;return this.buttonUpCalled||(this.handleButtonDown(e,0),t=this.handleButtonUp(e,0)||this.buttonUpConsumed),this.buttonUpCalled=!1,t}},{key:"handleDoubleTap",value:function(e){return this.handleDoubleClick(e,0)}},{key:"isNavigationJustEnded",value:function(){return this.navigationEndTime&&Date.now()-this.navigationEndTime<i.MOBILE_GESTURES_MIN_THRESHOLD_TIME}},{key:"handleGesture",value:function(e){var t;switch(e.type){case"dragstart":return!this.isNavigationJustEnded()&&this.handleButtonDown(e,0);case"dragmove":return!this.isNavigationJustEnded()&&this.handleMouseMove(e);case"dragend":return!this.isNavigationJustEnded()&&(t=this.handleButtonUp(e,0),this.buttonUpCalled=!1,t);case"pinchend":case"panend":this.navigationEndTime=Date.now()}return!1}}])&&o(t.prototype,n),A&&o(t,A),e}();A.GlobalManagerMixin.call(u.prototype)},"./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js ***!
  \*************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),s=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),a=n(/*! ./MeshLine */"./extensions/BimMarkups/RendererHelpers/MeshLine.js"),o=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),A=n(/*! ./PenSmoothing */"./extensions/BimMarkups/RendererHelpers/PenSmoothing.js");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.geoCache={}}var t,n,l;return t=e,l=[{key:"areAllAnchorsEqual",value:function(e){for(var t=e[0],n=1;n<e.length;n++)if(!e[n].equals(t))return!1;return!0}}],(n=[{key:"getStrokeGeometry",value:function(t){return this._isCacheSupported(t.type)?this._getCachedStrokeGeometry(t.type):e.areAllAnchorsEqual(t.editState.anchors)?this._createPointGeometry(t):this._createStrokeGeometry(t)}},{key:"getFillGeometry",value:function(e){switch(e.type){case s.MARKUP_TYPE_CLOUD:case s.MARKUP_TYPE_POLYCLOUD:var t={innerGeometry:this._getFillInnerGeometryFromAnchors(e)};return e.meshLine.type!==s.MARKUP_TYPE_CIRCLE&&(t.arcGeometry=this._getFillCircleGeometry(e.meshLine.radius),t.fillGapGeometries=this._getFillingGapsGeometry(e)),t;case s.MARKUP_TYPE_POLYLINE:return this._getFillInnerGeometryFromAnchors(e);case s.MARKUP_TYPE_CIRCLE:return this._getFillCircleGeometry(.5,72);case s.MARKUP_TYPE_RECTANGLE:return this._getFillRectangleGeometry();default:return null}}},{key:"_getFillingGapsGeometry",value:function(e){for(var t=[],n=0;n<e.meshLine.intersectionObjects.length;n++){var r=e.meshLine.intersectionObjects[n],i=r.beginPoint,s=r.endPoint,a=r.newCircle,o=r.anchorPoint,A=r.beginCircle,u=r.endCircle;if(!(i&&s&&o&&A&&u&&a))return null;var l=[];l.push(new THREE.Vector3(o.x,o.y,0)),l.push(new THREE.Vector3(A.x,A.y,0)),l.push(new THREE.Vector3(i.x,i.y,0)),l.push(new THREE.Vector3(a.x,a.y,0)),l.push(new THREE.Vector3(s.x,s.y,0)),l.push(new THREE.Vector3(u.x,u.y,0)),t.push(new THREE.ShapeGeometry(new THREE.Shape(l)))}return t}},{key:"_getFillCircleGeometry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n="circle-fill|r:"+e+"|s:"+t;return this.geoCache[n]||(this.geoCache[n]=new THREE.CircleGeometry(e,t)),this.geoCache[n]}},{key:"_getFillRectangleGeometry",value:function(){return this.geoCache["rectangle-fill"]||(this.geoCache["rectangle-fill"]=new THREE.PlaneBufferGeometry(1,1,1,1)),this.geoCache["rectangle-fill"]}},{key:"_getFillInnerGeometryFromAnchors",value:function(e){if(e.meshLine.type===s.MARKUP_TYPE_CIRCLE)return this._getFillCircleGeometry(.5,10);var t=i.default.cloneDeep(e.getAnchors());return this._centerAndScaleLocations(t,e.center,e.scaleMatrix),e.meshLine.type===s.MARKUP_TYPE_CLOUD&&this._shiftAnchorsInsideBox(e,t,e.meshLine.radius),t.length>2?new THREE.ShapeGeometry(new THREE.Shape(t)):null}},{key:"_getCachedStrokeGeometry",value:function(e){var t=e;return this.geoCache[t]||(this.geoCache[t]=this._createCachedStrokeGeometry(e)),this.geoCache[t]}},{key:"_isCacheSupported",value:function(e){return[s.MARKUP_TYPE_RECTANGLE,s.MARKUP_TYPE_CIRCLE].includes(e)}},{key:"isCachedGeometry",value:function(e){for(var t in this.geoCache)if(e===this.geoCache[t])return!0;return!1}},{key:"_createCachedStrokeGeometry",value:function(e){switch(e){case s.MARKUP_TYPE_RECTANGLE:return this._createRectangleStrokeGeometry();case s.MARKUP_TYPE_CIRCLE:return this._createCircleStrokeGeometry();default:return null}}},{key:"_createStrokeGeometry",value:function(e){switch(e.type){case s.MARKUP_TYPE_CLOUD:case s.MARKUP_TYPE_POLYCLOUD:var t=this._createCloudGeometry(e);return t||(t=this._getCachedStrokeGeometry(s.MARKUP_TYPE_CIRCLE)),t;case s.MARKUP_TYPE_POLYLINE:case s.MARKUP_TYPE_LINE:return this._createLineGeometry(e,179);case s.MARKUP_TYPE_FREEHAND:case s.MARKUP_TYPE_HIGHLIGHT:return this._createLineGeometry(e,120);case s.MARKUP_TYPE_ARROW:return this._createArrowGeometry(e);case s.MARKUP_TYPE_DIMENSION:return this._createDimensionGeometry(e);default:return null}}},{key:"_createPointGeometry",value:function(e){var t,n;switch(e.type){case s.MARKUP_TYPE_CLOUD:case s.MARKUP_TYPE_POLYCLOUD:case s.MARKUP_TYPE_FREEHAND:case s.MARKUP_TYPE_HIGHLIGHT:t=s.MESHLINE_PATH_ROUND_CAP,n=s.POINT_SIZE_IN_MM*this.markupsExtension.renderer.mmToWorldUnitFactor;break;default:t=s.MESHLINE_PATH_FLAT_CAP,n=this.markupsExtension.renderer.getNormaStrokeWidth()}var r=[{x:0,y:0,z:0},{x:n,y:0,z:0}];return this._createMeshLine(r,e.type,e,null,{capType:t})}},{key:"_createMeshLine",value:function(e,t,n,r){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return n?(i=n.meshLine,s.useExactSize=n.completed):s.useExactSize=!0,i&&i.type===t||(i=new a.MeshLine(this.markupsExtension.renderer.supportsInt32Index())),i.type=t,i.setGeometry(e,o,r,s),i}},{key:"_createRectangleStrokeGeometry",value:function(){return this._createMeshLine([{x:-.5,y:-.5,z:0},{x:.5,y:-.5,z:0},{x:.5,y:.5,z:0},{x:-.5,y:.5,z:0},{x:-.5,y:-.5,z:0}],s.MARKUP_TYPE_RECTANGLE,null,null,{isClosed:!0})}},{key:"_createCircleStrokeGeometry",value:function(){var e=Object(o.createArc)(0,0,.5,0,2*Math.PI,!1,72);return this._createMeshLine(e,s.MARKUP_TYPE_CIRCLE,null,null,{isClosed:!0})}},{key:"_centerAndScaleLocations",value:function(e,t,n){e.forEach((function(e){e.sub(t),e.applyMatrix4(n)}))}},{key:"_createLineGeometry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:29,n=e.type===s.MARKUP_TYPE_FREEHAND||e.type===s.MARKUP_TYPE_HIGHLIGHT,r=i.default.cloneDeep(e.getEditState().anchors);this._centerAndScaleLocations(r,e.center,e.scaleMatrix);var a=[],o=null;if(e.editState.closed&&r.push(r[0]),n){var u=.5*e.markupsExtension.renderer.mmToWorldUnitFactor,l=!1,c=Object(A.default)(r,u,l);r=c.anchors,o=c.widths}for(var d=new THREE.Vector3,h=new THREE.Vector3,f=Math.cos(t*Math.PI/180),p=1;p<r.length-1;p++)d.copy(r[p-1]).sub(r[p]).normalize(),h.copy(r[p+1]).sub(r[p]).normalize(),h.dot(d)>f&&(r.splice(p,0,r[p]),o&&o.splice(p,0,o[p]),a[p]=s.MESHLINE_PATH_END,p++);return e.editState.closed&&(d.copy(r[r.length-2]).sub(r[r.length-1]).normalize(),h.copy(r[1]).sub(r[0]).normalize(),h.dot(d)>f&&(r.push(r[0]),o&&o.push(o[0]))),this._createMeshLine(r,e.type,e,a,{capType:n?s.MESHLINE_PATH_ROUND_CAP:s.MESHLINE_PATH_FLAT_CAP,joinType:s.MESHLINE_PATH_ROUND_CAP,isClosed:e.editState.closed},o)}},{key:"_createArrowGeometry",value:function(e){var t=e.editState.style[s.STYLE_PROPERTIES.THICKNESS],n=i.default.cloneDeep(e.getEditState().anchors);n[0].sub(e.center),n[1].sub(e.center);var a=n[1].clone().sub(n[0]),o=this.markupsExtension.renderer.getCameraEyeVector(),A=Math.min(t*s.ARROW_TIP_LENGTH,a.length()/2),u=[],l=A>t;if(l){var c=a.clone().normalize(),d=n[1].clone().sub(c.multiplyScalar(A)),h=r.default.degreesToRadians(30);n[2]=d.clone(),r.default.applyRotation(n[2],h,n[1],o),n[3]=n[1].clone(),n[4]=d.clone(),r.default.applyRotation(n[4],-h,n[1],o),u[1]=s.MESHLINE_PATH_END,u[2]=s.MESHLINE_PATH_START}var f=this._createMeshLine(n,e.type,e,u);return l&&(n[0].add(e.center),n[1].add(e.center),n[2].add(e.center),n[4].add(e.center),f.boundingPoints=[n[0],n[2],n[1],n[4]]),f}},{key:"_createDimensionGeometry",value:function(e){var t=e.editState.style[s.STYLE_PROPERTIES.THICKNESS]*s.DIMENSION_THICKNESS_FACTOR,n=i.default.cloneDeep(e.getEditState().anchors),a=[],A=[];function u(e,t){a=a.concat([e,t]),A=A.concat([s.MESHLINE_PATH_START,s.MESHLINE_PATH_END])}n[0].sub(e.center),n[1].sub(e.center),u(n[0],n[1]);var l=n[0].clone().sub(n[1]),c=this.markupsExtension.renderer.getCameraEyeVector(),d=l.clone().cross(c).normalize(),h=t*s.DIMENSION_TIP_LENGTH,f=d.clone().multiplyScalar(h),p=r.default.degreesToRadians(45);return n[2]=n[0].clone().add(f),n[3]=n[0].clone().sub(f),r.default.applyRotation([n[2],n[3]],p,n[0],c),u(n[2],n[3]),n[4]=n[1].clone().add(f),n[5]=n[1].clone().sub(f),r.default.applyRotation([n[4],n[5]],p,n[1],c),u(n[4],n[5]),n[6]=n[0].clone(),e.applyInverseScaleAndTranslation(n[6]),Object(o.isEqualVectors)(n[6],n[0])||(n[7]=n[0].clone().sub(n[0].clone().sub(n[6]).normalize().multiplyScalar(h)),u(n[6],n[7])),n[8]=n[1].clone(),e.applyInverseScaleAndTranslation(n[8]),Object(o.isEqualVectors)(n[8],n[1])||(n[9]=n[1].clone().sub(n[1].clone().sub(n[8]).normalize().multiplyScalar(h)),u(n[8],n[9])),n[10]=n[0].clone().add(f),n[11]=n[0].clone().sub(f),u(n[10],n[11]),n[12]=n[1].clone().add(f),n[13]=n[1].clone().sub(f),u(n[12],n[13]),this._createMeshLine(a,e.type,e,A)}},{key:"_createCloudGeometry",value:function(e){var t=i.default.cloneDeep(e.getEditState().anchors);Object(o.isClockwise)(t,e)&&t.reverse();var n=this.getCloudMinimumRadius(e.editState.style[s.STYLE_PROPERTIES.THICKNESS]),r=n/this.markupsExtension.renderer.mmToWorldUnitFactor;this._centerAndScaleLocations(t,e.center,e.scaleMatrix);var a,A=e.editState.closed;if(e.type===s.MARKUP_TYPE_CLOUD){if(A=!0,!this._shiftAnchorsInsideBox(e,t,n))return null}else(a=new THREE.Box3).min.z=a.max.z=0;var u=Object(o.handleIntersection)(t,n,e),l=Object(o.createCloud)(t,n,A,u);if(0===l.length)return null;for(var c=[],d=[],h=0,f=0;f<l.length;f++){var p=l[f];p.isAnchor&&Object(o.getArcAngleSize)(p)>1.9*Math.PI&&(p.begin=p.end),Object(o.createArc)(p.x,p.y,n,p.begin,p.end,!1,null,c,r,a);var E=c.length-h;d[h]=s.MESHLINE_PATH_START,d[h+E-1]=s.MESHLINE_PATH_END,h+=E}var m=this._createMeshLine(c,e.type,e,d,{capType:s.MESHLINE_PATH_ROUND_CAP,joinType:s.MESHLINE_PATH_ROUND_CAP});return m.arcs=l,m.radius=n,m.intersectionObjects=u,a&&(a.applyMatrix4(e.invScaleMatrix),a.translate(e.center),m.boundingPoints=[a.min.clone(),a.max.clone(),a.max.clone(),a.min.clone()],m.boundingPoints[1].y=a.min.y,m.boundingPoints[3].y=a.max.y),m}},{key:"_shiftAnchorsInsideBox",value:function(e,t,n){var r=t[0].clone().sub(t[1]).normalize(),i=t[2].clone().sub(t[1]).normalize(),s=t[0].distanceTo(t[1])/2;if(t[2].distanceTo(t[1])/2<n||s<n)return!1;for(var a=0;a<t.length;a++){var o=t[a],A=n*Math.sign(o.dot(i));o.sub(i.clone().multiplyScalar(A)),A=n*Math.sign(o.dot(r)),o.sub(r.clone().multiplyScalar(A))}return!0}},{key:"getCloudMinimumRadius",value:function(e){var t=this.markupsExtension.renderer.mmToWorldUnitFactor*(this.markupsExtension.viewer.impl.is2d?1:10);return Math.max(3*e,t)}},{key:"destroy",value:function(){for(var e in this.geoCache)this.geoCache[e].dispose();this.geoCache=null}}])&&u(t.prototype,n),l&&u(t,l),e}()},"./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js ***!
  \*************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),i=n(/*! ./MeshLine */"./extensions/BimMarkups/RendererHelpers/MeshLine.js");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.viewer=t.viewer,this.materials={}}var t,n,a;return t=e,(n=[{key:"_getHashName",value:function(e,t,n,i){var s=e;return n?(s+="|f",t[r.STYLE_PROPERTIES.FILL_COLOR]&&(s+="|c"+t[r.STYLE_PROPERTIES.FILL_COLOR]),void 0!==t[r.STYLE_PROPERTIES.FILL_OPACITY]&&(s+="|o"+t[r.STYLE_PROPERTIES.FILL_OPACITY]*(i?r.DISABLED_OPACITY:1))):(t[r.STYLE_PROPERTIES.THICKNESS]&&(s+="|t"+t[r.STYLE_PROPERTIES.THICKNESS]),t[r.STYLE_PROPERTIES.COLOR]&&(s+="|c"+t[r.STYLE_PROPERTIES.COLOR]),void 0!==t[r.STYLE_PROPERTIES.OPACITY]&&(s+="|o"+t[r.STYLE_PROPERTIES.OPACITY]*(i?r.DISABLED_OPACITY:1))),s}},{key:"_setResolution",value:function(e,t){e.uniforms&&e.uniforms.resolution&&e.uniforms.resolution.value.set(t.width,t.height)}},{key:"getMaterial",value:function(e,t,n){var r=this._getHashName(e,t,n);return this.materials[r]?this.materials[r]:null}},{key:"_setFillBlending",value:function(e){e.blending=e.opacity<1?THREE.NoBlending:THREE.NormalBlending}},{key:"_setStrokeBlending",value:function(e){e.uniforms.opacity.value<1?(e.blending=THREE.CustomBlending,e.blendDst=THREE.ZeroFactor,e.blendSrc=THREE.OneFactor,e.blendEquation=THREE.AddEquation,Autodesk.Viewing.isIE11||(e.blendEquationAlpha=THREE.MaxEquation)):e.blending=THREE.NormalBlending}},{key:"_createStrokeMaterial",value:function(e,t,n){var s=this.markupsExtension.renderer.getResolution(),a={color:new THREE.Color(e[r.STYLE_PROPERTIES.COLOR]),opacity:e[r.STYLE_PROPERTIES.OPACITY]*(n?r.DISABLED_OPACITY:1),resolution:new THREE.Vector2(s.width,s.height),lineWidth:e[r.STYLE_PROPERTIES.THICKNESS],side:THREE.FrontSide,miter:t},o=new i.MeshLineMaterial(a);return this._setStrokeBlending(o),o}},{key:"_createFillMaterial",value:function(e,t){var n={color:new THREE.Color(e[r.STYLE_PROPERTIES.FILL_COLOR]),transparent:!0,opacity:e[r.STYLE_PROPERTIES.FILL_OPACITY]*(t?r.DISABLED_OPACITY:1),side:THREE.DoubleSide,wireframe:!1},i=new THREE.MeshBasicMaterial(n);return this._setFillBlending(i),i}},{key:"_editStrokeMaterial",value:function(e,t,n){e.uniforms.color.value.setStyle(t[r.STYLE_PROPERTIES.COLOR]),e.uniforms.lineWidth.value=t[r.STYLE_PROPERTIES.THICKNESS],e.uniforms.opacity.value=t[r.STYLE_PROPERTIES.OPACITY]*(n?r.DISABLED_OPACITY:1),this._setStrokeBlending(e)}},{key:"_editFillMaterial",value:function(e,t,n){e.color.setStyle(t[r.STYLE_PROPERTIES.FILL_COLOR]),e.opacity=t[r.STYLE_PROPERTIES.FILL_OPACITY]*(n?r.DISABLED_OPACITY:1),e.needsUpdate=!0,this._setFillBlending(e)}},{key:"hasThicknessChanged",value:function(e,t){return e&&t&&e.uniforms&&t.uniforms&&e.uniforms.lineWidth.value!==t.uniforms.lineWidth.value}},{key:"addMaterial",value:function(e,t){var n=e.type,r=e.editState.style,i=e.isTransparent(),s=this._getHashName(n,r,t,i);if(this.materials[s])this.materials[s].refCount++;else{var a=t?this._createFillMaterial(r,i):this._createStrokeMaterial(r,e.needsMiter(),i);a.depthWrite=!1,a.depthTest=!1,a.transparent=!0,a.refCount=1,a.name=s,this.materials[s]=a}return this.materials[s]}},{key:"removeMaterial",value:function(e){this.materials[e.name]?(e.refCount--,0===e.refCount&&(e.dispose(),e.needsUpdate=!0,delete this.materials[e.name])):console.error("Trying to remove a non-existing material")}},{key:"editMaterial",value:function(e,t,n){if(this.materials[e.name]){var r=t.type,i=t.editState.style,s=t.isTransparent(),a=this._getHashName(r,i,n,s);if(a!==e.name)return 1!==e.refCount||this.materials[a]?(this.removeMaterial(e),this.addMaterial(t,n)):(n?this._editFillMaterial(e,i,s):this._editStrokeMaterial(e,i,s),delete this.materials[e.name],e.name=a,this.materials[a]=e,e.needsUpdate=!0,e)}else console.error("Trying to edit a non-existing material")}},{key:"destroy",value:function(){for(var e in this.materials)this.materials[e].dispose(),this.materials[e].needsUpdate=!0;this.materials={}}},{key:"updateScreenSize",value:function(e){for(var t in this.materials)this._setResolution(this.materials[t],e)}}])&&s(t.prototype,n),a&&s(t,a),e}()},"./extensions/BimMarkups/RendererHelpers/MeshLine.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MeshLine.js ***!
  \***********************************************************/
/*! exports provided: MeshLine, MeshLineMaterial */function(e,t,n){"use strict";n.r(t),n.d(t,"MeshLine",(function(){return A})),n.d(t,"MeshLineMaterial",(function(){return u}));var r=n(/*! ./Shaders/MeshLineVert.glsl */"./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl"),i=n.n(r),s=n(/*! ./Shaders/MeshLineFrag.glsl */"./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl"),a=n.n(s),o=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function A(e){this.supportsInt32Index=e}function u(e){function t(e,t){return void 0===e?t:e}THREE.Material.call(this),e=e||{},this.lineWidth=t(e.lineWidth,1),this.miter=t(e.miter,!0),this.color=t(e.color,new THREE.Color(16777215)),this.opacity=t(e.opacity,1),this.resolution=t(e.resolution,new THREE.Vector2(1,1));var n=new THREE.RawShaderMaterial({uniforms:{lineWidth:{type:"f",value:this.lineWidth},color:{type:"c",value:this.color},opacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution}},vertexShader:i.a,fragmentShader:a.a,attributes:{previous:{type:"v2",value:new THREE.Vector2},next:{type:"v2",value:new THREE.Vector2},side:{type:"f",value:0},width:{type:"f",value:0},counters:{type:"f",value:0}}});return n.type="MeshLineMaterial",Autodesk.Viewing.isIE11&&(n.defines.IS_IE_11=1),this.miter&&(n.defines.MITER=1),delete e.lineWidth,delete e.color,delete e.opacity,delete e.resolution,delete e.miter,n.setValues(e),n}A.prototype.create=function(){this.geometry=new THREE.BufferGeometry},A.prototype.dispose=function(){if(this.geometry&&(this.geometry.dispose(),this.geometry=null),this.attributes){for(var e in this.attributes)delete this.attributes[e].array;this.attributes=null}this.positions=null,this.previous=null,this.next=null,this.side=null,this.width=null,this.counters=null,this.indices_array=null},A.prototype.setGeometry=function(e,t,n,r){var i=this;this.sourceGeo=e,Array.isArray(t)?(this.widthArray=t,this.widthCallback=function(e){return i.widthArray[e]}):this.widthCallback=t,this.sourceConnectivity=n||[],this.connectivity={},this.options=Object.assign({},{capType:o.MESHLINE_PATH_FLAT_CAP,joinType:o.MESHLINE_PATH_FLAT_CAP,useExactSize:!1},r),this.isClosed=!!this.options.isClosed,this.process()},A.prototype.isPointNear=function(){var e=new THREE.Vector3,t=new THREE.Vector3;function n(n){var r=e.x,i=e.y,s=t.x-r,a=t.y-i;if(0!==s||0!==a){var o=((n.x-r)*s+(n.y-i)*a)/(s*s+a*a);o>1?(r=t.x,i=t.y):o>0&&(r+=s*o,i+=a*o)}return(s=n.x-r)*s+(a=n.y-i)*a}return function(r,i,s){for(var a=0,A=this.numPoints-1;a<A;a++)if(this.connectivity[a]!==o.MESHLINE_PATH_END&&(e.fromArray(this.positions,6*a).applyMatrix4(s),t.fromArray(this.positions,6*(a+1)).applyMatrix4(s),n(r)<i))return!0;return!1}}(),A.prototype.getPositionV3=function(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]},A.prototype.initArrays=function(e){var t=this.options.useExactSize;if(!this.capacity||this.capacity<e||t&&this.capacity!==e){this.dispose();var n=t?e:Math.ceil(1.5*e);this.positions=new Float32Array(6*n),this.previous=new Float32Array(4*n),this.next=new Float32Array(4*n),this.side=new Float32Array(2*n),this.width=new Float32Array(2*n),this.counters=new Float32Array(2*n);var r=6*(n-1);this.indices_array=this.supportsInt32Index&&r>65535?new Uint32Array(r):new Uint16Array(r),this.capacity=n}this.numPoints=e},A.prototype.getWidth=function(e,t){return this.widthCallback?this.widthCallback(e,t):1},A.prototype.process=function(){var e=this,t=this.sourceGeo.length,n=Math.max(1,t-1),r=function(t,r,i,s){var a=e.sourceGeo[t];e.positions.set([a.x,a.y,a.z,a.x,a.y,a.z],6*r),e.counters.set([i,i],2*r),e.side.set([s,-s],2*r);var o=e.getWidth(t,t/n);e.width.set([o,o],2*r)},i=0,s=function(){e.attributes?(e.attributes.position.array=e.positions,e.attributes.position.needsUpdate=!0,e.attributes.previous.array=e.previous,e.attributes.previous.needsUpdate=!0,e.attributes.next.array=e.next,e.attributes.next.needsUpdate=!0,e.attributes.side.array=e.side,e.attributes.side.needsUpdate=!0,e.attributes.width.array=e.width,e.attributes.width.needsUpdate=!0,e.attributes.index.array=e.indices_array,e.attributes.index.needsUpdate=!0,e.attributes.counters.array=e.counters,e.attributes.counters.needsUpdate=!0):(e.create(),e.attributes={position:new THREE.BufferAttribute(e.positions,3),previous:new THREE.BufferAttribute(e.previous,2),next:new THREE.BufferAttribute(e.next,2),side:new THREE.BufferAttribute(e.side,1),width:new THREE.BufferAttribute(e.width,1),index:new THREE.BufferAttribute(e.indices_array,1),counters:new THREE.BufferAttribute(e.counters,1)},e.geometry.addAttribute("position",e.attributes.position),e.geometry.addAttribute("previous",e.attributes.previous),e.geometry.addAttribute("next",e.attributes.next),e.geometry.addAttribute("side",e.attributes.side),e.geometry.addAttribute("width",e.attributes.width),e.geometry.addAttribute("index",e.attributes.index),e.geometry.addAttribute("counters",e.attributes.counters))};if(0!==t){this.isClosed&&this.options.joinType!==o.MESHLINE_PATH_ROUND_CAP||(this.sourceConnectivity[0]=o.MESHLINE_PATH_START,this.sourceConnectivity[t-1]=o.MESHLINE_PATH_END);var a=t+this.sourceConnectivity.reduce((function(e){return e+1}),0);this.initArrays(a);for(var A=0,u=0;u<t;u++)if(this.sourceConnectivity[u]===o.MESHLINE_PATH_START){var l=0!==u||this.isClosed?this.options.joinType:this.options.capType;this.connectivity[A]=o.MESHLINE_PATH_START,r(u,A++,-1,l),r(u,A++,0,l)}else if(this.sourceConnectivity[u]===o.MESHLINE_PATH_END){var c=u!==t-1||this.isClosed?this.options.joinType:this.options.capType;r(u,A++,1,c),this.connectivity[A]=o.MESHLINE_PATH_END,r(u,A++,2,c)}else r(u,A++,u/n,o.MESHLINE_PATH_DEFAULT);!function(){var t;t=e.isClosed?e.getPositionV3(a-2):e.getPositionV3(0),e.previous.set([t[0],t[1],t[0],t[1]],0);for(var n=1;n<a;n++)t=e.connectivity[n]===o.MESHLINE_PATH_START?e.getPositionV3(n):e.connectivity[n]===o.MESHLINE_PATH_END?e.getPositionV3(n-2):e.getPositionV3(n-1),e.previous.set([t[0],t[1],t[0],t[1]],4*n)}(),function(){for(var t,n=0;n<a-1;n++)t=e.connectivity[n]===o.MESHLINE_PATH_END?e.getPositionV3(n):e.connectivity[n]===o.MESHLINE_PATH_START?e.getPositionV3(n+2):e.getPositionV3(n+1),e.next.set([t[0],t[1],t[0],t[1]],4*n);t=e.isClosed?e.getPositionV3(1):e.getPositionV3(a-1),e.next.set([t[0],t[1],t[0],t[1]],4*(a-1))}(),function(){for(var t=0;t<a-1;t++)if(e.connectivity[t]!==o.MESHLINE_PATH_END){var n=2*t;e.indices_array.set([n,n+1,n+2,n+2,n+1,n+3],i),i+=6}}(),s(),this.geometry.offsets[0]={index:0,start:0,count:i}}else s()},u.prototype=Object.create(THREE.Material.prototype),u.prototype.constructor=u,u.prototype.copy=function(e){return THREE.Material.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.miter=e.miter,this}},"./extensions/BimMarkups/RendererHelpers/PenSmoothing.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/PenSmoothing.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t,n,r,i,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.333,o=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),A=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),u=a*o/(o+A),l=a-u,c=n+u*(e-i),d=r+u*(t-s),h=n-l*(e-i),f=r-l*(t-s);return[{x:c,y:d},{x:h,y:f}]}function i(e,t,n,r){var i=r*r,s=1-r,a=s*s,o=a*e.x;o+=2*s*r*t.x,o+=i*n.x;var A=a*e.y;return A+=2*s*r*t.y,{x:o,y:A+=i*n.y,z:0}}function s(e,t,n,r,i){var s=i*i,a=s*i,o=1-i,A=o*o,u=A*o,l=u*e.x;l+=3*A*i*t.x,l+=3*o*s*n.x,l+=a*r.x;var c=u*e.y;return c+=3*A*i*t.y,c+=3*o*s*n.y,{x:l,y:c+=a*r.y,z:0}}n.r(t),n.d(t,"default",(function(){return u}));var a=function(e){for(var t,n,r,i,s=0,a=1;a<e.length;a++)s+=(t=e[a],n=e[a-1],r=void 0,i=void 0,r=t.x-n.x,i=t.y-n.y,Math.sqrt(r*r+i*i));return s};function o(e,t,n,r,s,o){for(var A=Math.max(Math.round(a([e,t,n])/r),4),u=0;u<A;u++){var l=u/A,c=i(e,t,n,l);s.push(c),o&&o.push(e.width+l*l*(n.width-e.width))}}function A(e,t,n,r,i,o,A){for(var u=Math.max(Math.round(a([e,t,n,r])/i),4),l=0;l<u;l++){var c=l/u,d=s(e,t,n,r,c);o.push(d),A&&A.push(e.width+c*c*c*(r.width-e.width))}}function u(e,t,n){if(e.length<3)return{anchors:e};for(var i=[],s=[],a=n?[]:null,u=e.length,l=0;l<u-2;l++)i=i.concat(r(e[l].x,e[l].y,e[l+1].x,e[l+1].y,e[l+2].x,e[l+2].y));o(e[0],i[0],e[1],t,s,a);for(var c=1;c<u-3;c++)A(e[c],i[2*c-1],i[2*c],e[c+1],t,s,a);return o(e[u-2],i[2*u-5],e[u-1],t,s,a),s.push(e[u-1]),a&&a.push(e[u-1].width),{anchors:s,widths:a}}},"./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\n#define MESHLINE_PATH_FLAT_CAP      3.0\nuniform vec3 color;\nuniform float opacity;\nvarying float vCounters;\nvarying float vDistance;\nvarying float aaRange;\nvarying float totalWidth;\nvarying vec2 center;\nvarying vec2 finalPos;\nvarying float vPointType;\nfloat when_eq(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\nfloat getSmoothStep(float t, float d) {\n    return smoothstep(t - aaRange, t + aaRange, abs(d));\n}\nvoid main() {\n    float t = totalWidth / 2.0;\n    float d = vDistance;\n    float aa = 1.0;\n    if (vCounters < 0.0 || vCounters > 1.0) {\n        d = length(finalPos - center);\n        if (vPointType == MESHLINE_PATH_FLAT_CAP) {\n            t = aaRange;\n        }\n        if (d > t + aaRange) {\n            discard;\n        }\n        aa = 1.0 - getSmoothStep(t, d);       \n    }\n        \n#ifdef IS_IE_11\n    aa = (1.0 - when_eq(opacity, 1.0) * getSmoothStep(totalWidth / 2.0, vDistance)) * aa;\n#else\n    aa = (1.0 - getSmoothStep(totalWidth / 2.0, vDistance)) * aa;\n#endif\n    gl_FragColor = vec4(color, opacity * aa);\n}\n"},"./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports="precision highp float;\n#define MESHLINE_PATH_ROUND_CAP     2.\n#define MESHLINE_PATH_FLAT_CAP      3.\nattribute vec3 position;\nattribute vec2 previous;\nattribute vec2 next;\nattribute float side;\nattribute float width;\nattribute float counters;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec2 resolution;\nuniform float lineWidth;\nuniform float opacity;\nvarying float vCounters;\nvarying float vPointType;\nvarying float vDistance;\nvarying float aaRange;\nvarying float totalWidth;\nvarying vec2 center;\nvarying vec2 finalPos;\nfloat when_eq(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\nfloat when_neq(float x, float y) {\n  return abs(sign(x - y));\n}\nvoid main() {\n    float pixelsPerUnit = 0.5 * resolution.x * projectionMatrix[0][0];\n    vCounters = counters;\n    vPointType = abs(side);\n    float sideSgn = sign(side);\n    vec4 curPosition = modelViewMatrix * vec4(position.xy, 0.0, 1.0);\n    vec2 prevPos = (modelViewMatrix * vec4(previous, 0.0, 1.0)).xy;\n    vec2 nextPos = (modelViewMatrix * vec4(next, 0.0, 1.0)).xy;\n#ifdef IS_IE_11\n    aaRange = when_neq(width, 0.0) * when_eq(opacity, 1.0) * 1.0 / pixelsPerUnit;\n#else\n    aaRange = when_neq(width, 0.0) * 1.0 / pixelsPerUnit;\n#endif\n    \n    float minSize = when_neq(width, 0.0) * 0.5 / pixelsPerUnit;    \n   \n    totalWidth = lineWidth * width;\n    \n    float w = max(.5 * totalWidth, minSize) + aaRange;\n    \n    vDistance = w * sideSgn;\n    vec2 dir;\n    if (nextPos == curPosition.xy) {\n        dir = normalize(curPosition.xy - prevPos);\n    } else if (prevPos == curPosition.xy) {\n        dir = normalize(nextPos - curPosition.xy);\n    } else {\n#ifdef MITER\n        vec2 dir1 = normalize(curPosition.xy - prevPos);\n        vec2 dir2 = normalize(nextPos - curPosition.xy);\n        dir = normalize(dir1 + dir2);\n        vec2 perp = vec2(-dir1.y, dir1.x);\n        vec2 miter = vec2(-dir.y, dir.x);\n        w = clamp(w / dot(miter, perp), minSize + aaRange, 20. * w);\n#else\n        dir = normalize(curPosition.xy - prevPos);\n#endif\n    }\n    vec2 normal = vec2(-dir.y, dir.x);\n    normal *= w * sideSgn;\n    \n    if (vPointType == MESHLINE_PATH_ROUND_CAP) {\n        center = curPosition.xy;\n        curPosition.xy += normal;\n    } else  {\n        curPosition.xy += normal;\n        center = curPosition.xy;\n    }\n    \n    if (vCounters < 0.0 || vCounters > 1.0) {\n        normal = vec2(dir.x, dir.y);\n        normal *= sign(vCounters) * w;\n        curPosition.xy += normal;\n    }\n  \n    finalPos = curPosition.xy;\n    gl_Position = projectionMatrix * curPosition;\n}\n"},"./extensions/BimMarkups/RendererHelpers/TextRenderer.css":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/TextRenderer.css ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/dist/cjs.js!./TextRenderer.css */"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/RendererHelpers/TextRenderer.css");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./extensions/BimMarkups/RendererHelpers/TextRenderer.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/TextRenderer.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(/*! ../ThirdParty/html2canvas/html2canvas */"./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js"),i=n.n(r),s=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),a=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),o=n(/*! ../Utils/GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),A=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");n(/*! ./TextRenderer.css */"./extensions/BimMarkups/RendererHelpers/TextRenderer.css");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=Autodesk.Viewing,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.setGlobalManager(t.globalManager),this.viewer=this.markupsExtension.viewer,this.container=this.viewer.appendOrderedElementToViewer("markup-text-container"),this.container.className="markup-text-container",this.labels={},this.textMarkups={},this.textSizeCache={},this.registerEventListeners()}var t,n,r;return t=e,(n=[{key:"registerEventListeners",value:function(){this.onMarkupRemovedBinded=this.onMarkupRemoved.bind(this),this.onCameraChangedBinded=this.onCameraChanged.bind(this),this.onMarkupVisibilityChangedBinded=this.onMarkupVisibilityChanged.bind(this),this.onResizeBinded=this.onResize.bind(this),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_VISIBILITY_CHANGED,this.onMarkupVisibilityChangedBinded),this.markupsExtension.markupsManager.addEventListener(s.MARKUPS_EVENTS.MARKUP_REMOVED,this.onMarkupRemovedBinded),this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded)}},{key:"unregisterEventListeners",value:function(){this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_VISIBILITY_CHANGED,this.onMarkupVisibilityChangedBinded),this.markupsExtension.markupsManager.removeEventListener(s.MARKUPS_EVENTS.MARKUP_REMOVED,this.onMarkupRemovedBinded),this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangedBinded),this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onResizeBinded)}},{key:"onCameraChanged",value:function(){this.renderTextMarkups()}},{key:"onResize",value:function(){var e=this;this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,(function(){e.onCameraChanged()}),{once:!0})}},{key:"renderTextMarkups",value:function(){var e=this;Object(a.forAll)(this.textMarkups,(function(t){e.renderMarkup(t)}))}},{key:"updateLabelPositionAndSize",value:function(e,t){function n(t,n){e.styleCache[t]!==n&&(e.style[t]=n,e.styleCache[t]=n)}var r=t.getEditState().text,i=t.getTextStyle(),s=this.markupsExtension.renderer.getFontToWorldScale(),a=this.markupsExtension.renderer.sizeFromWorldToClient(s),A=t.getClientBoundingBoxTextOnly(),u=A.center(),l=A.size(),c=o.default.radiansToDegrees(t.getRotation()+this.markupsExtension.renderer.getCameraRotation());if(Autodesk.Viewing.isSafari()||Autodesk.Viewing.isIOSDevice()){var d=parseFloat(i.fontSize)*a,h=Math.floor(d)||1,f=d/h,p=l.x/f;i.width="".concat(p,"px"),i.fontSize="".concat(h,"px"),Object.keys(i).forEach((function(e){n(e,i[e])})),e.style.transform="translate(".concat(u.x,"px, ").concat(u.y,"px)\n                                    translate(-50%, -50%)\n                                    rotate(").concat(c,"deg)\n                                    scale(").concat(f,")")}else{var E=t.getTextWidthInFontScale(),m=E.preciseWidth,g=E.width;i.width="".concat(g,"px"),Object.keys(i).forEach((function(e){n(e,i[e])}));var y=(m-g)*a;e.style.transform="translate(".concat(u.x-y/2,"px, ").concat(u.y,"px)\n                                    translate(-50%, -50%)\n                                    rotate(").concat(c,"deg)\n                                    scale(").concat(a,")")}t.textInputHandler.textboxActive||(e.innerText=r||"")}},{key:"renderMarkup",value:function(e){if(e.editState.anchors[0]){var t=this.labels[e.id],n=this.getDocument();if(!t){(t=n.createElement("div")).className="markup-text",t.id=e.id;var r=e.getEditState().text;t.innerText=r||"",t.styleCache={},this.container.appendChild(t),this.labels[e.id]=t,this.textMarkups[e.id]=e}e.isVisible()&&!t.classList.contains("visible")?t.classList.add("visible"):!e.isVisible()&&t.classList.contains("visible")&&t.classList.remove("visible"),e.editState.isSingleLine&&!t.classList.contains("single-line")&&t.classList.add("single-line"),e.isVisible()&&this.updateLabelPositionAndSize(t,e)}}},{key:"getLabel",value:function(e){return this.labels[e.id]}},{key:"onMarkupVisibilityChanged",value:function(e){var t=e.markup;e.visible,t.type===A.MARKUP_TYPE_CALLOUT&&this.renderMarkup(t)}},{key:"onMarkupRemoved",value:function(e){var t=e.markup.id,n=this.labels[t];n&&this.container.removeChild(n),delete this.labels[t],delete this.textMarkups[t]}},{key:"isEmpty",value:function(){return 0===Object.keys(this.labels).length}},{key:"renderTextToCanvas",value:function(e,t,n,r,s,o){var A=this;if(this.isEmpty())o(e);else{var u={};Object(a.getObjectAsList)(this.textMarkups).forEach((function(e){e.isVisible()&&(u[e.id]=!0)}));var l={backgroundColor:null,logging:!1,scale:n,onclone:function(e){r();var n=A.markupsExtension.renderer.documentCamera,i=A.markupsExtension.renderer.markupsCamera;A.markupsExtension.renderer.documentCamera=t,A.markupsExtension.renderer.markupsCamera=t;for(var a=e.getElementsByClassName("markup-text-container")[0].children,o=0;o<a.length;o++){var l=a[o];if(u[l.id]){var c=A.textMarkups[l.id];l.classList.contains("visible")||l.classList.add("visible"),l.styleCache={},A.updateLabelPositionAndSize(l,c)}else l.classList.contains("visible")&&l.classList.remove("visible")}A.markupsExtension.renderer.documentCamera=n,A.markupsExtension.renderer.markupsCamera=i,s()}};i()(this.container,l).then((function(t){var n=A.getDocument().createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");r.translate(0,n.height),r.scale(1,-1),r.drawImage(t,0,0);var i=e.getContext("2d");i.globalCompositeOperation="source-over",i.drawImage(n,0,0),o(e)}))}}},{key:"destroy",value:function(){var e=this;this.unregisterEventListeners(),Object(a.forAll)(this.labels,(function(t){e.container.removeChild(t)})),this.labels=null,this.textMarkups=null,this.textSizeCache=null,this.markupsExtension=null,this.viewer=null}}])&&u(t.prototype,n),r&&u(t,r),e}();l.GlobalManagerMixin.call(c.prototype)},"./extensions/BimMarkups/Service/MarkupServiceWeb.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupServiceWeb.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);(r=a(this,o(t).call(this,e,n))).issueType=r.ISSUES_TYPE.markup;var i=r.ENV_TABLE[n.env||"Development"];return r.ISSUE_SERVICE_URL=i.ISSUE_SERVICE,r.OBJECT_STORAGE_SERVICE_URL=i.OBJECT_STORAGE,r.maxPageLimit=200,r.xhrGetReq=[],r.headers=[{name:"x-ads-acm-namespace",value:r.options.acmNamespace},{name:"x-ads-acm-check-groups",value:"true"}],r.options.acmScopes&&r.headers.push({name:"x-ads-acm-scopes",value:r.options.acmScopes}),r}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(i=[{key:"checkValidation",value:function(){var e=this.getAccessToken();return this.valid=!!e&&!!this.options.issueProject&&!!this.issueType,this.valid}},{key:"requestMarkups",value:function(e,t,n,r){if(!this.checkValidation())return Promise.reject("Service is unavailable.");e||(e=this.maxPageLimit),t||(t=0);var i=this;return new Promise((function(s,a){if(!i.options.documentUrn)return a();var o=[i.ISSUE_SERVICE_URL,"containers/",i.options.issueProject,i.issueType.endpoint].join("");o=[o,"?page[limit]="+e+"&page[offset]="+t].join(""),i.options.documentUrn&&(o=[o,"&filter[target_urn]=",encodeURIComponent(i.options.documentUrn)].join("")),o=[o,"&include=attachments"].join(""),r&&(o=[o,"&filter[status]=",r].join("")),o=[o,"&sort=-created_at"].join("");var A=i.getAjaxCallback((function(){i.removeXhr(u),s.apply(null,arguments)}),(function(){i.removeXhr(u),a.apply(null,arguments)})),u=i.createRequest(i,"GET",o,"application/vnd.api+json",A);i.injectHeaders(u,n),u.send(),i.addXhr(u)}))}},{key:"postMarkups",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var n=this;return new Promise((function(r,i){var s=[n.ISSUE_SERVICE_URL,"containers/",n.options.issueProject,n.issueType.endpoint].join(""),a=n.getAjaxCallback(r,i),o=n.createRequest(n,"POST",s,"application/vnd.api+json",a);n.injectHeaders(o,t);var A={data:{type:n.issueType.value,attributes:e}};o.send(JSON.stringify(A))})).then(n.parseResponse)}},{key:"fetchOSSBucketForAttachment",value:function(e){var t=this;return new Promise((function(n,r){t.fetchLocationForNewOssAttachment([],{onLoad:function(t){var i=t.currentTarget;if(201===i.status||200===i.status){var s=JSON.parse(i.responseText);e.ossPath=s.data.attributes.urn,n()}else r()},onError:function(){r()},onTimeout:function(){r()}})}))}},{key:"uploadAttachment",value:function(e){var t=this;return new Promise((function(n,r){var i=t.extractOssBucketAndId(e.ossPath),s=i[0],a=i[1];t.postAttachment(a,e.data,s,{onLoad:function(e){var t=e.currentTarget;200===t.status||201===t.status?n():r()},onError:function(){r()},onTimeout:function(){r()}})}))}},{key:"postLayer",value:function(e,t,n){var r=this;return function(){if(0===t.length)return Promise.resolve();var e=t.map((function(e){return r.fetchOSSBucketForAttachment(e)}));return Promise.all(e)}().then((function(){return function(){if(0===t.length)return Promise.resolve();var e=t.map((function(e){return r.uploadAttachment(e)}));return Promise.all(e)}()}),(function(){return Promise.reject()})).then((function(){return t.forEach((function(t){e.resource_urns[t.type]=t.ossPath})),n?r.updateLayer(n,e):r.postMarkups(e,[])})).catch((function(i){return t.forEach((function(t){e.resource_urns[t.type]=t.data})),e.tags.resourceEmbed=!0,n?r.updateLayer(n,e):r.postMarkups(e,[])}))}},{key:"parseResponse",value:function(e){try{var t=JSON.parse(e).data;return Promise.resolve(t)}catch(e){return Promise.reject(e)}}},{key:"publishLayer",value:function(e){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var t=this;return new Promise((function(n,i){var s=[t.ISSUE_SERVICE_URL,"containers/",t.options.issueProject,t.issueType.endpoint,"/",e].join(""),a=t.getAjaxCallback(n,i),o=t.createRequest(t,"PATCH",s,"application/vnd.api+json",a),A={data:{type:t.issueType.value,id:e,attributes:{status:r.MARKUP_STATUS_PUBLISHED}}};o.send(JSON.stringify(A))})).then(t.parseResponse)}},{key:"archiveLayer",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var n=this;return new Promise((function(i,s){var a=[n.ISSUE_SERVICE_URL,"containers/",n.options.issueProject,n.issueType.endpoint,"/",e].join(""),o=n.getAjaxCallback(i,s),A=n.createRequest(n,"PATCH",a,"application/vnd.api+json",o),u={data:{type:n.issueType.value,id:e,attributes:{close_version:t,status:r.MARKUP_STATUS_ARCHIVED}}};A.send(JSON.stringify(u))})).then(n.parseResponse)}},{key:"fetchLocationForNewOssAttachment",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var n=[this.ISSUE_SERVICE_URL,"containers/",this.options.issueProject,"/oss_objects"].join(""),r=this.createRequest(this,"POST",n,"application/vnd.api+json",t);return this.injectHeaders(r,e),r.send(JSON.stringify({data:{type:"oss_objects"}})),null}},{key:"getAttachment",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var n=this;return new Promise((function(r,i){var s=n.extractOssBucketAndId(e),a=[n.OBJECT_STORAGE_SERVICE_URL,"buckets/",s[0],"/objects/",s[1]].join(""),o=n.getAjaxCallback((function(){n.removeXhr(A),r.apply(null,arguments)}),(function(){n.removeXhr(A),i.apply(null,arguments)}),t),A=n.createRequest(n,"GET",a,null,o);n.injectHeaders(A,n.headers),t&&(A.responseType="arraybuffer"),A.send(),n.addXhr(A)}))}},{key:"postAttachment",value:function(e,t,n,r){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var i=[this.OBJECT_STORAGE_SERVICE_URL,"buckets/",n,"/objects/",e].join(""),s=this.createRequest(this,"PUT",i,"text/plain",r);return this.injectHeaders(s,this.headers),s.send(t),null}},{key:"updateLayer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!this.checkValidation())return Promise.reject("Service is unavailable.");var r=this;return new Promise((function(i,s){var a=[r.ISSUE_SERVICE_URL,"containers/",r.options.issueProject,r.issueType.endpoint,"/",e].join(""),o=r.getAjaxCallback(i,s),A=r.createRequest(r,"PATCH",a,"application/vnd.api+json",o);r.injectHeaders(A,n);var u={data:{type:r.issueType.value,id:e,attributes:t||{}}};A.send(JSON.stringify(u)),r.addXhr(A)})).then(r.parseResponse)}},{key:"deleteLayer",value:function(e){if(!this.checkValidation())return Promise.reject("Service is unavailable");var t=this;return new Promise((function(n,r){var i=[t.ISSUE_SERVICE_URL,"containers/",t.options.issueProject,t.ISSUES_TYPE.markup.endpoint+"/",e].join(""),s=t.getAjaxCallback(n,r);t.createRequest(t,"DELETE",i,"application/vnd.api+json",s).send()}))}},{key:"postDocumentAttachment",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable.");var n=this;return new Promise((function(r,i){var s=[n.ISSUE_SERVICE_URL,"containers/",n.options.issueProject,n.ATTACHMENT.endpoint].join(""),a=n.getAjaxCallback(r,i),o=n.createRequest(n,"POST",s,"application/vnd.api+json",a);n.injectHeaders(o,t);var A={data:{type:n.ATTACHMENT.value,attributes:e.attributes}};o.send(JSON.stringify(A))})).then(n.parseResponse)}},{key:"deleteDocumentAttachment",value:function(e){if(!this.checkValidation())return Promise.reject("Service is unavailable");var t=this;return new Promise((function(n,r){var i=[t.ISSUE_SERVICE_URL,"containers/",t.options.issueProject,t.ATTACHMENT.endpoint+"/",e].join(""),s=t.getAjaxCallback(n,r);t.createRequest(t,"DELETE",i,"application/vnd.api+json",s).send()}))}},{key:"renameDocumentAttachment",value:function(e,t){if(!this.checkValidation())return Promise.reject("Service is unavailable");var n=this;return new Promise((function(r,i){var s=[n.ISSUE_SERVICE_URL,"containers/",n.options.issueProject,n.ATTACHMENT.endpoint+"/",e].join(""),a=n.getAjaxCallback(r,i),o=n.createRequest(n,"PATCH",s,"application/vnd.api+json",a),A={data:{type:n.ATTACHMENT.value,id:e,attributes:{name:t}}};o.send(JSON.stringify(A))})).then(n.parseResponse)}},{key:"extractOssBucketAndId",value:function(e){var t=e.split("/"),n=t[0].split(":");return t[0]=n[n.length-1],t}},{key:"cancelAllGet",value:function(){for(var e=this.xhrGetReq.length-1;e>=0;e--)this.xhrGetReq[e]&&this.xhrGetReq[e].abort();this.xhrGetReq=[]}},{key:"removeXhr",value:function(e){var t=this.xhrGetReq.indexOf(e);t>-1&&this.xhrGetReq.splice(t,1)}},{key:"addXhr",value:function(e){this.xhrGetReq.push(e)}},{key:"getAccessToken",value:function(){var e;if(this.markupsExtension.options.getAccessToken)return this.markupsExtension.options.getAccessToken((function(t,n){e=t})),e}},{key:"getAjaxCallback",value:function(e,t,n){return{onLoad:function(r){201===r.currentTarget.status||200===r.currentTarget.status||204===r.currentTarget.status?e(n?r.currentTarget.response:r.currentTarget.responseText):t()},onError:function(){t()},onTimeout:function(){t()},onAbort:function(){t()}}}},{key:"createRequest",value:function(e,t,n,r,i){var s=new XMLHttpRequest;s.open(t,n,!0),r&&s.setRequestHeader("Content-Type",r);var a=this.getAccessToken();return s.setRequestHeader("Access-Control-Allow-Origin","*"),s.setRequestHeader("Authorization","Bearer "+a),s.onload=i.onLoad,s.onerror=i.onError,s.ontimeout=i.onTimeout,s.onabort=i.onAbort,s}},{key:"injectHeaders",value:function(e,t){t&&t.forEach((function(t){e.setRequestHeader(t.name,t.value)}))}},{key:"ENV_TABLE",get:function(){return{Local:{ISSUE_SERVICE:"https://developer-dev.api.autodesk.com/issues-dev/v1/",OBJECT_STORAGE:"https://developer-dev.api.autodesk.com/oss/v2/"},Development:{ISSUE_SERVICE:"https://developer-stg.api.autodesk.com/issues-dev/v1/",OBJECT_STORAGE:"https://developer-stg.api.autodesk.com/oss/v2/"},Qa:{ISSUE_SERVICE:"https://developer-stg.api.autodesk.com/issues-qa/v1/",OBJECT_STORAGE:"https://developer-stg.api.autodesk.com/oss/v2/"},Staging:{ISSUE_SERVICE:"https://developer-stg.api.autodesk.com/issues-stg/v1/",OBJECT_STORAGE:"https://developer-stg.api.autodesk.com/oss/v2/"},Production:{ISSUE_SERVICE:"https://developer.api.autodesk.com/issues/v1/",OBJECT_STORAGE:"https://developer.api.autodesk.com/oss/v2/"}}}},{key:"ISSUES_TYPE",get:function(){return{issue:{value:"issues",endpoint:"/issues"},markup:{value:"markups",endpoint:"/markups"},area_markup:{value:"areas",endpoint:"/areas"},area_status:{value:"area_statuses",endpoint:"/area-statuses"}}}},{key:"ATTACHMENT",get:function(){return{value:"attachments",endpoint:"/attachments"}}}])&&s(n.prototype,i),u&&s(n,u),t}(n(/*! ./MarkupsServiceBase */"./extensions/BimMarkups/Service/MarkupsServiceBase.js").default)},"./extensions/BimMarkups/Service/MarkupsServiceBase.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceBase.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return i}));var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markupsExtension=t,this.options=n||{}}var t,n,i;return t=e,(n=[{key:"postLayer",value:function(e,t){return console.log("postLayer"),new Promise((function(e,t){}))}},{key:"publishLayer",value:function(e){return console.log("publishLayer"),new Promise((function(e,t){}))}},{key:"archiveLayer",value:function(e,t){return console.log("archiveLayer"),new Promise((function(e,t){}))}},{key:"updateLayer",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],console.log("updateLayer"),new Promise((function(e,t){}))}},{key:"deleteLayer",value:function(e){return console.log("deleteLayer"),new Promise((function(e,t){}))}},{key:"postDocumentAttachment",value:function(e,t){return console.log("postDocumentAttachment"),new Promise((function(e,t){}))}},{key:"deleteDocumentAttachment",value:function(e){return console.log("deleteDocumentAttachment"),new Promise((function(e,t){}))}},{key:"renameDocumentAttachment",value:function(e,t){return console.log("renameDocumentAttachment"),new Promise((function(e,t){}))}},{key:"requestMarkups",value:function(e,t,n,r){return console.log("requestMarkups"),new Promise((function(e,t){}))}},{key:"getAttachment",value:function(e,t,n){return console.log("getAttachment"),new Promise((function(e,t){}))}},{key:"cancelAllGet",value:function(){console.log("cancelAllGet")}}])&&r(t.prototype,n),i&&r(t,i),e}()},"./extensions/BimMarkups/Service/MarkupsServiceMobile.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceMobile.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! uuid */"./node_modules/uuid/index.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,o(t).call(this,e,n))).pendingRequests={},r}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(i=[{key:"requestMarkups",value:function(){return this.markupsExtension.mobileCallbacks.markupToolLoaded(),new Promise((function(e,t){}))}},{key:"postLayer",value:function(e,t,n){var i=Object(r.v4)();return n?this.markupsExtension.mobileCallbacks.updateLayer(n,e,t,i):this.markupsExtension.mobileCallbacks.postLayer(e,t,i),this.returnDelayedPromise(i)}},{key:"updateLayer",value:function(e,t){var n=Object(r.v4)();return this.markupsExtension.mobileCallbacks.updateLayer(e,t),this.returnDelayedPromise(n)}},{key:"deleteLayer",value:function(e){var t=Object(r.v4)();return this.markupsExtension.mobileCallbacks.deleteLayer(e,t),this.returnDelayedPromise(t)}},{key:"publishLayer",value:function(e){var t=Object(r.v4)();return this.markupsExtension.mobileCallbacks.publishLayer(e,t),this.returnDelayedPromise(t)}},{key:"archiveLayer",value:function(e,t){var n=Object(r.v4)();return this.markupsExtension.mobileCallbacks.archiveLayer(e,t,n),this.returnDelayedPromise(n)}},{key:"postDocumentAttachment",value:function(e,t){var n=Object(r.v4)();return this.returnDelayedPromise(n)}},{key:"deleteDocumentAttachment",value:function(e){var t=Object(r.v4)();return this.returnDelayedPromise(t)}},{key:"renameDocumentAttachment",value:function(e,t){var n=Object(r.v4)();return this.returnDelayedPromise(n)}},{key:"cancelAllGet",value:function(){var e=this;Object.keys(this.pendingRequests).forEach((function(t){e.pendingRequests[t].reject(),delete e.pendingRequests[t]}))}},{key:"returnDelayedPromise",value:function(e){var t={},n=new Promise((function(e,n){t.resolve=e,t.reject=n}));return this.pendingRequests[e]=t,n}},{key:"onRequestCompleted",value:function(e,t,n){t?this.pendingRequests[n].resolve(e):this.pendingRequests[n].reject(),delete this.pendingRequests[n]}}])&&s(n.prototype,i),u&&s(n,u),t}(n(/*! ./MarkupsServiceBase */"./extensions/BimMarkups/Service/MarkupsServiceBase.js").default)},"./extensions/BimMarkups/Service/MarkupsServiceOperator.js":
/*!*****************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceOperator.js ***!
  \*****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(/*! ../Utils/LodashUtils */"./extensions/BimMarkups/Utils/LodashUtils.js"),i=n(/*! ./MarkupServiceWeb */"./extensions/BimMarkups/Service/MarkupServiceWeb.js"),s=n(/*! ./MarkupsServiceMobile */"./extensions/BimMarkups/Service/MarkupsServiceMobile.js"),a=n(/*! ../MarkupsConstants */"./extensions/BimMarkups/MarkupsConstants.js"),o=n(/*! ../MarkupsCommon */"./extensions/BimMarkups/MarkupsCommon.js"),A=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js"),u=n(/*! ../MarkupsSceneState */"./extensions/BimMarkups/MarkupsSceneState.js"),l=n(/*! ../MarkupsSerializer */"./extensions/BimMarkups/MarkupsSerializer.js"),c=n(/*! ../MarkupsLayerData */"./extensions/BimMarkups/MarkupsLayerData.js");function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=a.MARKUP_ERRORS,p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,p;return t=e,(n=[{key:"reset",value:function(e){this.markupsExtension=e,this.markupsManager=e.markupsManager,this.markupsCache=e.markupsCache,this.viewer=e.viewer,this.options=this.markupsExtension.options,this.savingCounter=0;var t=e.options.isMobileApp,n=this.options.serviceClass||i.default;this.service=t?new s.default(this.markupsExtension,this.options):new n(this.markupsExtension,this.options),this.errorHandler=this.options.errorHandler||function(){},this.onSessionEndedBinded=this.onSessionEnded.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.MARKUP_SESSION_END,this.onSessionEndedBinded),this.onLayerDeletedBinded=this.onLayerDeleted.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.LAYER_DELETE,this.onLayerDeletedBinded),this.onDocumentAttachmentCreationStartBinded=this.onDocumentAttachmentCreationStart.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.DOCUMENT_ATTACHMENT_CREATION_START,this.onDocumentAttachmentCreationStartBinded),this.renameDocumentAttachmentBinded=this.renameDocumentAttachment.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.DOCUMENT_ATTACHMENT_RENAME,this.renameDocumentAttachmentBinded),this.deleteDocumentAttachmentBinded=this.deleteDocumentAttachment.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.DOCUMENT_ATTACHMENT_DELETE,this.deleteDocumentAttachmentBinded),this.onPublishLayerBinded=this.onPublishLayer.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.LAYER_PUBLISH,this.onPublishLayerBinded),this.onArchiveLayerBinded=this.onArchiveLayer.bind(this),this.markupsManager.addEventListener(A.MARKUPS_EVENTS.LAYER_ARCHIVE,this.onArchiveLayerBinded)}},{key:"onSessionEnded",value:function(e){var t=e.layer;e.save&&!t.isEmpty()&&this.saveLayer(t)}},{key:"onLayerDeleted",value:function(e){var t=e.layerData;t&&this.deleteLayer(t)}},{key:"onPublishLayer",value:function(e){var t=e.layerData;t&&this.publishLayer(t)}},{key:"onArchiveLayer",value:function(e){var t=e.layerData;t&&this.archiveLayer(t)}},{key:"fetchMarkups",value:function(){var e=this,t=this.options.documentUrn;this.numOfMarkupsLoaded=0;var n=this.getMaxPageLimit(),r=0,i={layersData:[],relatedResources:[]},s=a.DEFAULT_STATUSES_TO_LOAD;(function t(){return e.requestMarkups(i,n,r,s).then((function(e){if(e&&e.nextReq)return r+=n,t()})).catch((function(e){console.warn("requestMarkups failed or canceled.")}))})().then((function(){return e.getMetadata(i,t)})).catch((function(e){return e}))}},{key:"requestMarkups",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.DEFAULT_STATUSES_TO_LOAD;return this.service.requestMarkups(t,n,null,r).then((function(t){try{var n,r=JSON.parse(t);(n=e.layersData).push.apply(n,d(r.data));var i,s=r.included;return s&&Array.isArray(s)&&(i=e.relatedResources).push.apply(i,d(s)),Promise.resolve({nextReq:r.links.next})}catch(e){return Promise.reject(e)}}),(function(){return Promise.reject()}))}},{key:"getMetadata",value:function(e,t){var n=this,i=e.relatedResources,s=e.layersData,u=this.markupsExtension.filterManager.filterWithGUID?function(e){return e.attributes.markup_metadata.sheetGUID===n.options.sheetGUID}:function(e){return e.attributes.markup_metadata.sheetName===n.options.sheetName};return(s=r.default.remove(s,u).concat(s)).forEach((function(e){var r=e.attributes;if(r.markup_metadata){var i=r.starting_version;if(!(n.options.documentVersion<i)){r.tags=r.tags||{};var s=Object(o.isTrueValue)(r.tags.resourceEmbed),u=n.markupsCache.get(e.id),l=u||new c.default;if(!u){l.guid=e.id,l.status=a.MARKUP_STATUS_OPEN,l.metadata=r,r.close_version>0&&(l.status=a.MARKUP_STATUS_CLOSED);var d=r.resource_urns;if(d){var h=n.createEmptyResourceObject(a.MARKUP_RESOURCE_TYPE_SVG,s,d);h&&l.resources.push(h);var f=n.createEmptyResourceObject(a.MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE,s,d);f&&l.resources.push(f)}n.markupsCache.add(l.guid,l,t)}n.notify({type:A.MARKUPS_EVENTS.LAYER_FETCHED,layerData:l}),n.getAttachment(l)}}})),this.fetchedAllMarkups||this.numOfMarkupsLoaded!==this.markupsCache.length()||(this.fetchedAllMarkups=!0,this.notify({type:A.MARKUPS_EVENTS.ALL_MARKUPS_LOADED,amount:this.numOfMarkupsLoaded})),this.getUserProfiles(),this.getProjectUsers(),this.getRevisions(),this.getAttachedDocumentData(i),this.notify({type:A.MARKUPS_EVENTS.LAYER_METADATA_FETCHED}),Promise.resolve()}},{key:"notify",value:function(e){if(this.markupsManager)try{this.markupsManager.dispatchEvent(e)}catch(e){console.warn(e)}}},{key:"getAttachment",value:function(e){var t=this,n=e.resources.map((function(n){var r=null;if(n.data)return r={layerData:e,resourceType:n.type},t.onGetAttachment(r),Promise.resolve(r);var i=a.ATTACHMENT_DATA_TYPE_TEXT===a.ATTACHMENT_DATA_TYPE_BINARY;return t.service.getAttachment(n.ossPath,i).then((function(i){return i?(n.data=i,r={layerData:e,resourceType:n.type},t.onGetAttachment(r),Promise.resolve(r)):Promise.resolve(null)})).catch((function(e){}))}));return Promise.all(n)}},{key:"onGetAttachment",value:function(e){var t=e.layerData,n=e.resourceType;n===a.MARKUP_RESOURCE_TYPE_SVG&&(this.numOfMarkupsLoaded+=1,this.notify({type:A.MARKUPS_EVENTS.LAYER_RESOURCE_FETCHED,layerData:t}),this.fetchedAllMarkups||this.numOfMarkupsLoaded!==this.markupsCache.length()||(this.fetchedAllMarkups=!0,this.notify({type:A.MARKUPS_EVENTS.ALL_MARKUPS_LOADED,amount:this.numOfMarkupsLoaded}))),n===a.MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE&&this.notify({type:A.MARKUPS_EVENTS.LAYER_THUMBNAIL_FETCHED,layerData:t})}},{key:"createEmptyResourceObject",value:function(e,t,n){if(n[e]){var r={type:e,data:null,id:null,ossPath:null};return t?r.data=n[e]:r.ossPath=n[e],r}return null}},{key:"getAttachedDocumentData",value:function(e){var t=this;if(e&&Array.isArray(e)&&0!==e.length&&this.options.getAttachedDocumentCallback){var n=this.markupsCache.getAsList(),r=e.filter((function(e){return n.some((function(t){return e.attributes&&e.type===a.LINK_TYPE_ATTACHMENTS&&t.guid===e.attributes.issue_id}))}));r.length>0&&this.options.getAttachedDocumentCallback(r,(function(e){n.forEach((function(n){var r;e&&((r=n.attachments).push.apply(r,d(e.filter((function(e){return e.attributes.issue_id===n.guid&&-1===n.attachments.findIndex((function(t){return t.id===e.id}))})))),n.attachments.forEach((function(e){t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,layerData:n,documentAttachment:e})})))}))}))}}},{key:"getUserProfiles",value:function(){var e=this;this.options.getUserProfileCallback&&Object(o.forAll)(this.markupsCache.getCache(),(function(t){var n=t.metadata.created_by;n&&!t.userName&&e.options.getUserProfileCallback(n,(function(n){n&&n.name&&(t.userName=n.name,e.notify({type:A.MARKUPS_EVENTS.LAYER_METADATA_FETCHED}))}))}))}},{key:"getProjectUsers",value:function(){var e=this;this.options.getProjectUsersCallback&&(0,this.options.getProjectUsersCallback)((function(t){e.notify({type:A.MARKUPS_EVENTS.PROJECT_USERS_FETCHED,users:t})}))}},{key:"getRevisions",value:function(){var e=this;this.options.getRevisionCallback&&this.options.getRevisionCallback(this.options.documentUrn,(function(t){Object(o.forAll)(e.markupsCache.getCache(),(function(e){if(e&&e.metadata){var n=e.metadata.starting_version;e.metadata.tags.starting_revision=t[n]}})),e.notify({type:A.MARKUPS_EVENTS.LAYER_METADATA_FETCHED})}))}},{key:"generateMarkupDescription",value:function(e){var t=[];return e.getAllMarkups().forEach((function(e){e.type!==a.MARKUP_TYPE_TEXT&&e.type!==a.MARKUP_TYPE_CALLOUT||t.push(e.state.text)})),t.join(".\n")}},{key:"generateMetadata",value:function(e,t){var n=this,r={};r.target_urn=this.options.documentUrn,r.starting_version=this.options.documentVersion,r.resource_urns={};var i=this.viewer.getState(),s=this.viewer.model?this.viewer.model.getData().globalOffset:null;if(r.markup_metadata=Object(u.generateSceneMetadata)(i,s,this.options),r.markup_metadata.links=Object(o.getObjectAsList)(t.links).map((function(e){var t=e.state.position&&e.state.position.clone();return t&&n.markupsExtension.viewer.model.getData().isPdf&&Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(n.markupsExtension.viewer,t),{id:e.guid,type:e.type,position:t}})),r.description=this.generateMarkupDescription(t),r.tags={starting_revision:this.options.documentRevision||this.options.documentVersion},this.options.collectionUrn&&(r.collection_urn=this.options.collectionUrn),this.options.userName&&(r.tags.userName=this.options.userName),r.status=e,this.viewer.model.getData().isLeaflet){var a=this.viewer.model.getData().loadOptions.loadOptions;r.markup_metadata.originalDocumentResolution=[a.texWidth,a.texHeight]}return r}},{key:"saveLayer",value:function(e){var t,n=this,i=this.options.documentUrn,s=!e.layerData,o="".concat(e.id,"_tmp"),u=s?new c.default:e.layerData,d=this.generateMetadata(s?this.markupsExtension.getCreationStatusType():u.metadata.status,e),h=[{type:a.MARKUP_RESOURCE_TYPE_SVG,data:Object(l.generateSVGData)(e,this.markupsExtension.viewer,this.markupsExtension.renderer),id:null,ossPath:null},{type:a.MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE,data:null,id:null,ossPath:null}];u.status=a.MARKUP_STATUS_SAVING,u.originalCreationTime=s?(new Date).toISOString():d.created_at,e.layerData=u,s&&((t=r.default.cloneDeep(u)).metadata=d,t.resources=h,this.markupsCache.add(o,t,i)),this.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCING,layerData:u,layer:e}),this.savingCounter++,this.markupsManager.generateScreenCapture(e).then((function(t){h[1].data=t,s||(u.resources=h),n.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCING,layerData:u,layer:e}),n.service.postLayer(d,h,s?void 0:e.getGuid()).then((function(e){var t=e.id;u.guid=t,u.metadata=e.attributes,u.resources=h,u.attachments=u.attachments||[],u.status=a.MARKUP_STATUS_SAVE_SUCCEED,n.markupsCache.add(t,u,i),u.userName=u.metadata.tags.userName})).catch((function(){s?e.layerData=null:u.status=a.MARKUP_STATUS_SAVE_FAILED,n.errorHandler(Autodesk.Viewing.i18n.translate("Failed to save markup"),f.MARKUP_SAVE_FAILED),console.error("Failed to save markup",u)})).finally((function(){n.markupsCache.remove(o,i),n.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:u,layer:e}),n.savingCounter--}))})).catch((function(){n.savingCounter--}))}},{key:"onDocumentAttachmentCreationStart",value:function(e){var t=this,n=e.documentAttachments,r=e.layerData;if(0!==n.length)if(n.length>1)console.error("Dont save multiple attachments at a time.");else{n.forEach((function(e){e.attributes.issue_id=r.guid,e.attributes.attachment_type=a.LINK_TYPE_DOCUMENT_ATTACHMENT}));var i=n[0];this.notify({type:A.MARKUPS_EVENTS.LINK_SYNCING,documentAttachment:i,layerData:r}),this.service.postDocumentAttachment(i).then((function(e){e&&e.attributes&&e.attributes.issue_id&&(i.attributes=e.attributes,i.id=e.id,r.attachments.splice(0,0,i),t.markupsManager.createLinkMetadata(r)),t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:i,layerData:r})})).catch((function(e){t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:i,layerData:r}),t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to create markup attachment"),f.MARKUP_ATTACHMENT_CREATE_FAILED),console.error("Failed to create markup attachment")}))}}},{key:"deleteDocumentAttachment",value:function(e){var t=this,n=e.documentAttachment,r=e.layerData;n.status=a.MARKUP_ATTACHMENT_DELETEING,this.notify({type:A.MARKUPS_EVENTS.LINK_SYNCING,documentAttachment:n,layerData:r}),this.service.deleteDocumentAttachment(n.id).then((function(){var e=r.attachments,i=e.indexOf(n);i>-1&&e.splice(i,1),t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:n,layerData:r})})).catch((function(e){t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to delete markup attachment"),f.MARKUP_ATTACHMENT_DELETE_FAILED),t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:n,layerData:r})}))}},{key:"renameDocumentAttachment",value:function(e){var t=this,n=e.documentAttachment,r=e.newName,i=e.layerData;n.status=a.MARKUP_ATTACHMENT_RENAMING,n.tmpName=r,this.notify({type:A.MARKUPS_EVENTS.LINK_SYNCING,documentAttachment:n,layerData:i}),this.service.renameDocumentAttachment(n.id,r).then((function(e){n.attributes=e.attributes,n.status=void 0,n.tmpName=void 0,t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:n,layerData:i})})).catch((function(e){n.status=void 0,n.tmpName=void 0,t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to rename markup attachment"),f.MARKUP_ATTACHMENT_RENAME_FAILED),t.notify({type:A.MARKUPS_EVENTS.LINK_SYNCED,documentAttachment:n,layerData:i})}))}},{key:"updateLinkPosition",value:function(e,t,n){var r=this,i=n.clone();this.markupsExtension.viewer.model.getData().isPdf&&Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(this.markupsExtension.viewer,i);var s={markup_metadata:{links:[{id:t,position:i}]}};return this.service.updateLayer(e,s).then((function(e){return Promise.resolve(e)}),(function(){return r.errorHandler(Autodesk.Viewing.i18n.translate("Failed to update markup attachment"),f.MARKUP_ATTACHMENT_UPDATE_FAILED),Promise.reject("Failed to change the link position: "+t)}))}},{key:"deleteLayer",value:function(e){var t=this;e.guid||(e=this.markupsCache.get(e)),e.status=a.MARKUP_STATUS_DELETING,this.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCING,layerData:e});var n=this.options.documentUrn;return this.service.deleteLayer(e.guid).then((function(r){return t.markupsCache.remove(e.guid,n),e.status=a.MARKUP_STATUS_DELETE_SUCCEED,t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e}),Promise.resolve(!0)}),(function(){return e.status=a.MARKUP_STATUS_DELETE_FAILED,t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e}),t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to delete markup"),f.MARKUP_DELETE_FAILED),Promise.reject("Failed to delete markup: "+e.guid)}))}},{key:"deleteAllLayers",value:function(){var e=this;this.markupsCache.getAsList().forEach((function(t){e.deleteLayer(t)}))}},{key:"publishLayer",value:function(e){var t=this;e.guid||(e=this.markupsCache.get(e));var n=e.status;e.status=a.MARKUP_STATUS_PUBLISHING,this.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCING,layerData:e}),this.service.publishLayer(e.guid).then((function(r){return e.status=n,e.metadata=r.attributes,t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e}),Promise.resolve()})).catch((function(r){e.status=n,t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to publish markup"),f.MARKUP_PUBLISH_FAILED),t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e})}))}},{key:"archiveLayer",value:function(e){var t=this;e.guid||(e=this.markupsCache.get(e));var n=e.status;e.status=a.MARKUP_STATUS_ARCHIVING,this.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCING,layerData:e}),this.service.archiveLayer(e.guid,this.options.currentRawDocumentVersion).then((function(r){return e.status=n,e.metadata=r.attributes,t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e}),Promise.resolve()})).catch((function(r){e.status=n,t.errorHandler(Autodesk.Viewing.i18n.translate("Failed to archive markup"),f.MARKUP_ARCHIVE_FAILED),t.notify({type:A.MARKUPS_EVENTS.LAYER_SYNCED,layerData:e})}))}},{key:"cancelRequests",value:function(){this.service.cancelAllGet()}},{key:"terminate",value:function(){this.cancelRequests(),this.markupsExtension=null,this.markupsManager=null,this.service=null}},{key:"getMaxPageLimit",value:function(){return this.service.maxPageLimit}}])&&h(t.prototype,n),p&&h(t,p),e}()},"./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js":
/*!*********************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,n){(function(e){var n,r,i,s;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
                                                                                                                                                                                                                                                                                                                                                      * html2canvas 1.0.0-alpha.12 <https://html2canvas.hertzen.com>
                                                                                                                                                                                                                                                                                                                                                      * Copyright (c) 2018 Niklas von Hertzen <https://hertzen.com>
                                                                                                                                                                                                                                                                                                                                                      * Released under MIT License
                                                                                                                                                                                                                                                                                                                                                      */s=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=/^#([a-f0-9]{3})$/i,a=/^#([a-f0-9]{6})$/i,o=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,A=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,i=Array.isArray(t)?(n=t,[Math.min(n[0],255),Math.min(n[1],255),Math.min(n[2],255),n.length>3?n[3]:null]):function(e){var t=e.match(s);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]}(t)||function(e){var t=e.match(o);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]}(t)||function(e){var t=e.match(A);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}(t)||l[t.toLowerCase()]||!1||function(e){var t=e.match(a);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]}(t)||[0,0,0,null],u=r(i,4),c=u[0],d=u[1],h=u[2],f=u[3];this.r=c,this.g=d,this.b=h,this.a=f}return i(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}();t.default=u;var l={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new u([0,0,0,0])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3);(r=s)&&r.__esModule;var a=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="%"===t.substr(t.length-1)?a.PERCENTAGE:a.PX;var n=parseFloat(t);isNaN(n)&&console.error('Invalid value given for Length: "'+t+'"'),this.value=isNaN(n)?0:n}return i(e,[{key:"isPercentage",value:function(){return this.type===a.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=o,t.calculateLengthFromValueWithUnit=function(e,t,n){switch(n){case"px":case"%":return new o(t+n);case"em":case"rem":var r=new o(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)}(e),r;default:return new o("0")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(7)),s=a(n(32));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.Bounds=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.top=n,this.width=r,this.height=i}return r(e,null,[{key:"fromClientRect",value:function(t,n,r){return new e(t.left+n,t.top+r,t.width,t.height)}}]),e}(),A=(t.parseBounds=function(e,t,n){return o.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function(e,t){return new o(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,n){var r=t[0].value,i=t[1].value,s=t[2].value,a=t[3].value;return new o(e.left+a+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+a+i),e.height-(n[0].borderWidth+n[2].borderWidth+r+s))},t.parseDocumentSize=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},t.parsePathForBorder=function(e,t){switch(t){case 0:return A(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return A(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return A(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return A(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,n,r){var i=[];return e instanceof s.default?i.push(e.subdivide(.5,!1)):i.push(e),n instanceof s.default?i.push(n.subdivide(.5,!0)):i.push(n),r instanceof s.default?i.push(r.subdivide(.5,!0).reverse()):i.push(r),t instanceof s.default?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i}),u=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,n){var r=n[u.TOP_LEFT][0].getAbsoluteValue(e.width),s=n[u.TOP_LEFT][1].getAbsoluteValue(e.height),a=n[u.TOP_RIGHT][0].getAbsoluteValue(e.width),o=n[u.TOP_RIGHT][1].getAbsoluteValue(e.height),A=n[u.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),c=n[u.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),d=n[u.BOTTOM_LEFT][0].getAbsoluteValue(e.width),h=n[u.BOTTOM_LEFT][1].getAbsoluteValue(e.height),f=[];f.push((r+a)/e.width),f.push((d+A)/e.width),f.push((s+h)/e.height),f.push((o+c)/e.height);var p=Math.max.apply(Math,f);p>1&&(r/=p,s/=p,a/=p,o/=p,A/=p,c/=p,d/=p,h/=p);var E=e.width-a,m=e.height-c,g=e.width-A,y=e.height-h;return{topLeftOuter:r>0||s>0?l(e.left,e.top,r,s,u.TOP_LEFT):new i.default(e.left,e.top),topLeftInner:r>0||s>0?l(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,r-t[3].borderWidth),Math.max(0,s-t[0].borderWidth),u.TOP_LEFT):new i.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:a>0||o>0?l(e.left+E,e.top,a,o,u.TOP_RIGHT):new i.default(e.left+e.width,e.top),topRightInner:a>0||o>0?l(e.left+Math.min(E,e.width+t[3].borderWidth),e.top+t[0].borderWidth,E>e.width+t[3].borderWidth?0:a-t[3].borderWidth,o-t[0].borderWidth,u.TOP_RIGHT):new i.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:A>0||c>0?l(e.left+g,e.top+m,A,c,u.BOTTOM_RIGHT):new i.default(e.left+e.width,e.top+e.height),bottomRightInner:A>0||c>0?l(e.left+Math.min(g,e.width-t[3].borderWidth),e.top+Math.min(m,e.height+t[0].borderWidth),Math.max(0,A-t[1].borderWidth),c-t[2].borderWidth,u.BOTTOM_RIGHT):new i.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:d>0||h>0?l(e.left,e.top+y,d,h,u.BOTTOM_LEFT):new i.default(e.left,e.top+e.height),bottomLeftInner:d>0||h>0?l(e.left+t[3].borderWidth,e.top+y,Math.max(0,d-t[3].borderWidth),h-t[2].borderWidth,u.BOTTOM_LEFT):new i.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),l=function(e,t,n,r,a){var o=(Math.sqrt(2)-1)/3*4,A=n*o,l=r*o,c=e+n,d=t+r;switch(a){case u.TOP_LEFT:return new s.default(new i.default(e,d),new i.default(e,d-l),new i.default(c-A,t),new i.default(c,t));case u.TOP_RIGHT:return new s.default(new i.default(e,t),new i.default(e+A,t),new i.default(c,d-l),new i.default(c,d));case u.BOTTOM_RIGHT:return new s.default(new i.default(c,t),new i.default(c,t+l),new i.default(e+A,d),new i.default(e,d));case u.BOTTOM_LEFT:default:return new s.default(new i.default(c,d),new i.default(c-A,d),new i.default(e,t+l),new i.default(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),a=(r=s)&&r.__esModule?r:{default:r},o=n(4),A=n(5),u=n(12),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),p=n(38),E=n(8),m=n(39),g=n(40),y=n(18),B=n(17),v=n(19),k=n(11),_=n(41),w=n(20),C=n(42),S=n(43),M=n(44),T=n(45),b=n(2),U=n(21),x=n(14),R=["INPUT","TEXTAREA","SELECT"],Q=function(){function e(t,n,r,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.tagName=t.tagName,this.index=i,this.childNodes=[],this.listItems=[],"number"==typeof t.start&&(this.listStart=t.start);var o=t.ownerDocument.defaultView,Q=o.pageXOffset,L=o.pageYOffset,H=o.getComputedStyle(t,null),F=(0,c.parseDisplay)(H.display),I="radio"===t.type||"checkbox"===t.type,O=(0,v.parsePosition)(H.position);if(this.style={background:I?U.INPUT_BACKGROUND:(0,A.parseBackground)(H,r),border:I?U.INPUT_BORDERS:(0,u.parseBorder)(H),borderRadius:(t instanceof o.HTMLInputElement||t instanceof HTMLInputElement)&&I?(0,U.getInputBorderRadius)(t):(0,l.parseBorderRadius)(H),color:I?U.INPUT_COLOR:new a.default(H.color),display:F,float:(0,d.parseCSSFloat)(H.float),font:(0,h.parseFont)(H),letterSpacing:(0,f.parseLetterSpacing)(H.letterSpacing),listStyle:F===c.DISPLAY.LIST_ITEM?(0,E.parseListStyle)(H):null,lineBreak:(0,p.parseLineBreak)(H.lineBreak),margin:(0,m.parseMargin)(H),opacity:parseFloat(H.opacity),overflow:-1===R.indexOf(t.tagName)?(0,g.parseOverflow)(H.overflow):g.OVERFLOW.HIDDEN,overflowWrap:(0,y.parseOverflowWrap)(H.overflowWrap?H.overflowWrap:H.wordWrap),padding:(0,B.parsePadding)(H),position:O,textDecoration:(0,k.parseTextDecoration)(H),textShadow:(0,_.parseTextShadow)(H.textShadow),textTransform:(0,w.parseTextTransform)(H.textTransform),transform:(0,C.parseTransform)(H),visibility:(0,S.parseVisibility)(H.visibility),wordBreak:(0,M.parseWordBreak)(H.wordBreak),zIndex:(0,T.parseZIndex)(O!==v.POSITION.STATIC?H.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),F===c.DISPLAY.LIST_ITEM){var N=(0,x.getListOwner)(this);if(N){var D=N.listItems.length;N.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"==typeof t.value?t.value:0===D?"number"==typeof N.listStart?N.listStart:1:N.listItems[D-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",(function(){s.bounds=(0,b.parseBounds)(t,Q,L),s.curvedBounds=(0,b.parseBoundCurves)(s.bounds,s.style.border,s.style.borderRadius)})),this.image=P(t,r),this.bounds=I?(0,U.reformatInputBounds)((0,b.parseBounds)(t,Q,L)):(0,b.parseBounds)(t,Q,L),this.curvedBounds=(0,b.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius),this.name=t.tagName.toLowerCase()+(t.id?"#"+t.id:"")+t.className.toString().split(" ").map((function(e){return e.length?"."+e:""})).join("")}return i(e,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return this.style.overflow!==g.OVERFLOW.VISIBLE?e.concat([(0,b.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,o.contains)(this.style.display,c.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===S.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==v.POSITION.STATIC&&this.style.position!==v.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==v.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==d.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,o.contains)(this.style.display,c.DISPLAY.INLINE)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_FLEX)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_GRID)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_LIST_ITEM)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,o.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,o.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}}]),e}();t.default=Q;var P=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var i=e;return t.loadCanvas(i);case"IFRAME":var s=e.getAttribute("data-html2canvas-internal-iframe-key");if(s)return s}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return 0!=(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var r=u(n(0)),i=u(n(1)),s=u(n(31)),a=u(n(7)),o=n(2),A=n(17);function u(e){return e&&e.__esModule?e:{default:e}}var l=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},c=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},d=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},h=t.BACKGROUND_ORIGIN=d,f=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){case"contain":this.size=c.CONTAIN;break;case"cover":this.size=c.COVER;break;case"auto":this.size=c.AUTO;break;default:this.value=new i.default(t)}},p=(t.calculateBackgroundSize=function(e,t,n){var r=0,i=0,a=e.size;if(a[0].size===c.CONTAIN||a[0].size===c.COVER){var o=n.width/n.height,A=t.width/t.height;return o<A!=(a[0].size===c.COVER)?new s.default(n.width,n.width/A):new s.default(n.height*A,n.height)}return a[0].value&&(r=a[0].value.getAbsoluteValue(n.width)),a[0].size===c.AUTO&&a[1].size===c.AUTO?i=t.height:a[1].size===c.AUTO?i=r/t.width*t.height:a[1].value&&(i=a[1].value.getAbsoluteValue(n.height)),a[0].size===c.AUTO&&(r=i/t.height*t.width),new s.default(r,i)},t.calculateGradientBackgroundSize=function(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,i=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new s.default(r,i)},new f("auto")),E=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case d.BORDER_BOX:return(0,o.calculateBorderBoxPath)(e);case d.PADDING_BOX:default:return(0,o.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,n,r){var i=(0,o.calculatePaddingBox)(t,r);switch(e){case h.BORDER_BOX:return t;case h.CONTENT_BOX:var s=n[A.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),a=n[A.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),u=n[A.PADDING_SIDES.TOP].getAbsoluteValue(t.width),l=n[A.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new o.Bounds(i.left+s,i.top+u,i.width-s-a,i.height-u-l);case h.PADDING_BOX:default:return i}},t.calculateBackgroundPosition=function(e,t,n){return new a.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,n,r,i){switch(e.repeat){case l.REPEAT_X:return[new a.default(Math.round(i.left),Math.round(r.top+t.y)),new a.default(Math.round(i.left+i.width),Math.round(r.top+t.y)),new a.default(Math.round(i.left+i.width),Math.round(n.height+r.top+t.y)),new a.default(Math.round(i.left),Math.round(n.height+r.top+t.y))];case l.REPEAT_Y:return[new a.default(Math.round(r.left+t.x),Math.round(i.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(i.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(i.height+i.top)),new a.default(Math.round(r.left+t.x),Math.round(i.height+i.top))];case l.NO_REPEAT:return[new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new a.default(Math.round(i.left),Math.round(i.top)),new a.default(Math.round(i.left+i.width),Math.round(i.top)),new a.default(Math.round(i.left+i.width),Math.round(i.height+i.top)),new a.default(Math.round(i.left),Math.round(i.height+i.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new r.default(e.backgroundColor),backgroundImage:y(e,t),backgroundClip:E(e.backgroundClip),backgroundOrigin:m(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return d.PADDING_BOX;case"content-box":return d.CONTENT_BOX}return d.BORDER_BOX}),m=function(e){switch(e){case"padding-box":return h.PADDING_BOX;case"content-box":return h.CONTENT_BOX}return h.BORDER_BOX},g=function(e){switch(e.trim()){case"no-repeat":return l.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return l.REPEAT_X;case"repeat-y":case"no-repeat repeat":return l.REPEAT_Y;case"repeat":return l.REPEAT}return console.error('Invalid background-repeat value "'+e+'"'),l.REPEAT},y=function(e,t){var n=k(e.backgroundImage).map((function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e})),r=e.backgroundPosition.split(","),i=e.backgroundRepeat.split(","),s=e.backgroundSize.split(",");return n.map((function(e,t){var n=(s[t]||"auto").trim().split(" ").map(B),a=(r[t]||"auto").trim().split(" ").map(v);return{source:e,repeat:g("string"==typeof i[t]?i[t]:i[0]),size:n.length<2?[n[0],p]:[n[0],n[1]],position:a.length<2?[a[0],a[0]]:[a[0],a[1]]}}))},B=function(e){return"auto"===e?p:new f(e)},v=function(e){switch(e){case"bottom":case"right":return new i.default("100%");case"left":case"top":return new i.default("0%");case"auto":return new i.default("0")}return new i.default(e)},k=t.parseBackgroundImage=function(e){var t=/^\s$/,n=[],r=[],i="",s=null,a="",o=0,A=0,u=function(){var e="";if(i){'"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&r.push(a.trim());var t=i.indexOf("-",1)+1;"-"===i.substr(0,1)&&t>0&&(e=i.substr(0,t).toLowerCase(),i=i.substr(t)),"none"!==(i=i.toLowerCase())&&n.push({prefix:e,method:i,args:r})}r=[],i=a=""};return e.split("").forEach((function(e){if(0!==o||!t.test(e)){switch(e){case'"':s?s===e&&(s=null):s=e;break;case"(":if(s)break;if(0===o)return void(o=1);A++;break;case")":if(s)break;if(1===o){if(0===A)return o=0,void u();A--}break;case",":if(s)break;if(0===o)return void u();if(1===o&&0===A&&!i.match(/^url$/i))return r.push(a.trim()),void(a="")}0===o?i+=e:a+=e}})),u(),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.VECTOR,this.x=t,this.y=n,isNaN(t)&&console.error("Invalid x value given for Vector"),isNaN(n)&&console.error("Invalid y value given for Vector")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(5),i=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},s=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},a=t.parseListStyleType=function(e){switch(e){case"disc":return s.DISC;case"circle":return s.CIRCLE;case"square":return s.SQUARE;case"decimal":return s.DECIMAL;case"cjk-decimal":return s.CJK_DECIMAL;case"decimal-leading-zero":return s.DECIMAL_LEADING_ZERO;case"lower-roman":return s.LOWER_ROMAN;case"upper-roman":return s.UPPER_ROMAN;case"lower-greek":return s.LOWER_GREEK;case"lower-alpha":return s.LOWER_ALPHA;case"upper-alpha":return s.UPPER_ALPHA;case"arabic-indic":return s.ARABIC_INDIC;case"armenian":return s.ARMENIAN;case"bengali":return s.BENGALI;case"cambodian":return s.CAMBODIAN;case"cjk-earthly-branch":return s.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return s.CJK_HEAVENLY_STEM;case"cjk-ideographic":return s.CJK_IDEOGRAPHIC;case"devanagari":return s.DEVANAGARI;case"ethiopic-numeric":return s.ETHIOPIC_NUMERIC;case"georgian":return s.GEORGIAN;case"gujarati":return s.GUJARATI;case"gurmukhi":return s.GURMUKHI;case"hebrew":return s.HEBREW;case"hiragana":return s.HIRAGANA;case"hiragana-iroha":return s.HIRAGANA_IROHA;case"japanese-formal":return s.JAPANESE_FORMAL;case"japanese-informal":return s.JAPANESE_INFORMAL;case"kannada":return s.KANNADA;case"katakana":return s.KATAKANA;case"katakana-iroha":return s.KATAKANA_IROHA;case"khmer":return s.KHMER;case"korean-hangul-formal":return s.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return s.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return s.KOREAN_HANJA_INFORMAL;case"lao":return s.LAO;case"lower-armenian":return s.LOWER_ARMENIAN;case"malayalam":return s.MALAYALAM;case"mongolian":return s.MONGOLIAN;case"myanmar":return s.MYANMAR;case"oriya":return s.ORIYA;case"persian":return s.PERSIAN;case"simp-chinese-formal":return s.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return s.SIMP_CHINESE_INFORMAL;case"tamil":return s.TAMIL;case"telugu":return s.TELUGU;case"thai":return s.THAI;case"tibetan":return s.TIBETAN;case"trad-chinese-formal":return s.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return s.TRAD_CHINESE_INFORMAL;case"upper-armenian":return s.UPPER_ARMENIAN;case"disclosure-open":return s.DISCLOSURE_OPEN;case"disclosure-closed":return s.DISCLOSURE_CLOSED;case"none":default:return s.NONE}},o=(t.parseListStyle=function(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:a(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:o(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return i.INSIDE;case"outside":default:return i.OUTSIDE}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(20),s=n(22),a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.parent=n,this.bounds=r}return r(e,null,[{key:"fromTextNode",value:function(t,n){var r=A(t.data,n.style.textTransform);return new e(r,n,(0,s.parseTextBounds)(r,n,t))}}]),e}();t.default=a;var o=/(^|\s|:|-|\(|\))([a-z])/g,A=function(e,t){switch(t){case i.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case i.TEXT_TRANSFORM.CAPITALIZE:return e.replace(o,u);case i.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function u(e,t,n){return e.length>0?t+n.toUpperCase():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},s={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(s,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(s,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=function(e,t){var n=new Image,r=e.createElement("canvas"),i=r.getContext("2d");return new Promise((function(e){n.src=t;var s=function(){try{i.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=s,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout((function(){s()}),500)}))}(document,e);return Object.defineProperty(s,"SUPPORT_BASE64_DRAWING",{value:function(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var s=new Image,a=t.toDataURL();s.src=a;var o=(0,r.createForeignObjectSVG)(100,100,0,0,s);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(o).then((function(t){n.drawImage(t,0,0);var s=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height="100px",i(s)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),i(n.getImageData(0,0,100,100).data)})).catch((function(e){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(s,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(s,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(s,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(s,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r,i=n(0),s=(r=i)&&r.__esModule?r:{default:r},a=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},o=t.TEXT_DECORATION={NONE:null},A=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},u=function(e){switch(e){case"underline":return A.UNDERLINE;case"overline":return A.OVERLINE;case"line-through":return A.LINE_THROUGH}return A.BLINK};t.parseTextDecoration=function(e){var t,n="none"===(t=e.textDecorationLine?e.textDecorationLine:e.textDecoration)?null:t.split(" ").map(u);return null===n?o.NONE:{textDecorationLine:n,textDecorationColor:e.textDecorationColor?new s.default(e.textDecorationColor):null,textDecorationStyle:function(e){switch(e){case"double":return a.DOUBLE;case"dotted":return a.DOTTED;case"dashed":return a.DASHED;case"wavy":return a.WAVY}return a.SOLID}(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r,i=n(0),s=(r=i)&&r.__esModule?r:{default:r},a=t.BORDER_STYLE={NONE:0,SOLID:1},o=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},A=Object.keys(o).map((function(e){return e.toLowerCase()}));t.parseBorder=function(e){return A.map((function(t){var n=new s.default(e.getPropertyValue("border-"+t+"-color")),r=function(e){switch(e){case"none":return a.NONE}return a.SOLID}(e.getPropertyValue("border-"+t+"-style")),i=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:r,borderWidth:isNaN(i)?0:i}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCodePoints=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var i=arguments.length<=n?void 0:arguments[n];i<=65535?t.push(i):(i-=65536,t.push(55296+(i>>10),i%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="undefined"==typeof Uint8Array?[]:new Uint8Array(256),s=0;s<r.length;s++)i[r.charCodeAt(s)]=s;t.decode=function(e){var t=.75*e.length,n=e.length,r=void 0,s=0,a=void 0,o=void 0,A=void 0,u=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)a=i[e.charCodeAt(r)],o=i[e.charCodeAt(r+1)],A=i[e.charCodeAt(r+2)],u=i[e.charCodeAt(r+3)],c[s++]=a<<2|o>>4,c[s++]=(15&o)<<4|A>>2,c[s++]=(3&A)<<6|63&u;return l},t.polyUint16Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var r=n(4),i=A(n(3)),s=A(n(9)),a=n(8),o=n(24);function A(e){return e&&e.__esModule?e:{default:e}}var u=["OL","UL","MENU"],l=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==u.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,n){var o=t.style.listStyle;if(o){var A=e.ownerDocument.defaultView.getComputedStyle(e,null),u=e.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(A,u),u.style.position="absolute",u.style.bottom="auto",u.style.display="block",u.style.letterSpacing="normal",o.listStylePosition){case a.LIST_STYLE_POSITION.OUTSIDE:u.style.left="auto",u.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",u.style.textAlign="right";break;case a.LIST_STYLE_POSITION.INSIDE:u.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",u.style.right="auto",u.style.textAlign="left"}var l=void 0,c=t.style.margin[0].getAbsoluteValue(t.bounds.width),d=o.listStyleImage;if(d)if("url"===d.method){var h=e.ownerDocument.createElement("img");h.src=d.args[0],u.style.top=t.bounds.top-c+"px",u.style.width="auto",u.style.height="auto",u.appendChild(h)}else{var f=.5*parseFloat(t.style.font.fontSize);u.style.top=t.bounds.top-c+t.bounds.height-1.5*f+"px",u.style.width=f+"px",u.style.height=f+"px",u.style.backgroundImage=A.listStyleImage}else"number"==typeof t.listIndex&&(l=e.ownerDocument.createTextNode(y(t.listIndex,o.listStyleType,!0)),u.appendChild(l),u.style.top=t.bounds.top-c+"px");var p=e.ownerDocument.body;p.appendChild(u),l?(t.childNodes.push(s.default.fromTextNode(l,t)),p.removeChild(u)):t.childNodes.push(new i.default(u,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),c={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},d={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},h={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},f=function(e,t,n,r,i,s){return e<t||e>n?y(e,i,s.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+s},p=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},E=function(e,t,n,r,i){var s=n-t+1;return(e<0?"-":"")+(p(Math.abs(e),s,r,(function(e){return(0,o.fromCodePoint)(Math.floor(e%s)+t)}))+i)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return p(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},g=function(e,t,n,i,s,o){if(e<-9999||e>9999)return y(e,a.LIST_STYLE_TYPE.CJK_DECIMAL,s.length>0);var A=Math.abs(e),u=s;if(0===A)return t[0]+u;for(var l=0;A>0&&l<=4;l++){var c=A%10;0===c&&(0,r.contains)(o,1)&&""!==u?u=t[c]+u:c>1||1===c&&0===l||1===c&&1===l&&(0,r.contains)(o,2)||1===c&&1===l&&(0,r.contains)(o,4)&&e>100||1===c&&l>1&&(0,r.contains)(o,8)?u=t[c]+(l>0?n[l-1]:"")+u:1===c&&l>0&&(u=n[l-1]+u),A=Math.floor(A/10)}return(e<0?i:"")+u},y=t.createCounterText=function(e,t,n){var r=n?". ":"",i=n?"、":"",s=n?", ":"";switch(t){case a.LIST_STYLE_TYPE.DISC:return"•";case a.LIST_STYLE_TYPE.CIRCLE:return"◦";case a.LIST_STYLE_TYPE.SQUARE:return"◾";case a.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var o=E(e,48,57,!0,r);return o.length<4?"0"+o:o;case a.LIST_STYLE_TYPE.CJK_DECIMAL:return m(e,"〇一二三四五六七八九",i);case a.LIST_STYLE_TYPE.LOWER_ROMAN:return f(e,1,3999,l,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.UPPER_ROMAN:return f(e,1,3999,l,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_GREEK:return E(e,945,969,!1,r);case a.LIST_STYLE_TYPE.LOWER_ALPHA:return E(e,97,122,!1,r);case a.LIST_STYLE_TYPE.UPPER_ALPHA:return E(e,65,90,!1,r);case a.LIST_STYLE_TYPE.ARABIC_INDIC:return E(e,1632,1641,!0,r);case a.LIST_STYLE_TYPE.ARMENIAN:case a.LIST_STYLE_TYPE.UPPER_ARMENIAN:return f(e,1,9999,c,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_ARMENIAN:return f(e,1,9999,c,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.BENGALI:return E(e,2534,2543,!0,r);case a.LIST_STYLE_TYPE.CAMBODIAN:case a.LIST_STYLE_TYPE.KHMER:return E(e,6112,6121,!0,r);case a.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return m(e,"子丑寅卯辰巳午未申酉戌亥",i);case a.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return m(e,"甲乙丙丁戊己庚辛壬癸",i);case a.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case a.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return g(e,"零一二三四五六七八九","十百千萬","負",i,14);case a.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return g(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case a.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return g(e,"零一二三四五六七八九","十百千萬","负",i,14);case a.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return g(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case a.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return g(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case a.LIST_STYLE_TYPE.JAPANESE_FORMAL:return g(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case a.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return g(e,"영일이삼사오육칠팔구","십백천만","마이너스 ",s,7);case a.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return g(e,"零一二三四五六七八九","十百千萬","마이너스 ",s,0);case a.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return g(e,"零壹貳參四五六七八九","拾百千","마이너스 ",s,7);case a.LIST_STYLE_TYPE.DEVANAGARI:return E(e,2406,2415,!0,r);case a.LIST_STYLE_TYPE.GEORGIAN:return f(e,1,19999,h,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.GUJARATI:return E(e,2790,2799,!0,r);case a.LIST_STYLE_TYPE.GURMUKHI:return E(e,2662,2671,!0,r);case a.LIST_STYLE_TYPE.HEBREW:return f(e,1,10999,d,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.HIRAGANA:return m(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case a.LIST_STYLE_TYPE.HIRAGANA_IROHA:return m(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case a.LIST_STYLE_TYPE.KANNADA:return E(e,3302,3311,!0,r);case a.LIST_STYLE_TYPE.KATAKANA:return m(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case a.LIST_STYLE_TYPE.KATAKANA_IROHA:return m(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case a.LIST_STYLE_TYPE.LAO:return E(e,3792,3801,!0,r);case a.LIST_STYLE_TYPE.MONGOLIAN:return E(e,6160,6169,!0,r);case a.LIST_STYLE_TYPE.MYANMAR:return E(e,4160,4169,!0,r);case a.LIST_STYLE_TYPE.ORIYA:return E(e,2918,2927,!0,r);case a.LIST_STYLE_TYPE.PERSIAN:return E(e,1776,1785,!0,r);case a.LIST_STYLE_TYPE.TAMIL:return E(e,3046,3055,!0,r);case a.LIST_STYLE_TYPE.TELUGU:return E(e,3174,3183,!0,r);case a.LIST_STYLE_TYPE.THAI:return E(e,3664,3673,!0,r);case a.LIST_STYLE_TYPE.TIBETAN:return E(e,3872,3881,!0,r);case a.LIST_STYLE_TYPE.DECIMAL:default:return E(e,48,57,!0,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),s=n(11),a=function(e,t){var n=Math.max.apply(null,e.colorStops.map((function(e){return e.stop}))),r=1/Math.max(1,n);e.colorStops.forEach((function(e){t.addColorStop(r*e.stop,e.color.toString())}))},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t||document.createElement("canvas")}return r(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach((function(e){n.path(e),n.ctx.clip()}))),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach((function(e,n){var r=e.type===i.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===i.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,r,i){this.ctx.fillStyle=i.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);a(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,r=e.left+t.center.x,i=e.top+t.center.y,s=this.ctx.createRadialGradient(r,i,0,r,i,t.radius.x);if(s)if(a(t,s),this.ctx.fillStyle=s,t.radius.x!==t.radius.y){var o=e.left+.5*e.width,A=e.top+.5*e.height,u=t.radius.y/t.radius.x,l=1/u;this.transform(o,A,[1,0,0,u,0,0],(function(){return n.ctx.fillRect(e.left,l*(e.top-A)+A,e.width,e.height*l)}))}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,r,i){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)}},{key:"renderTextNode",value:function(e,t,n,r,i){var a=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach((function(e){if(a.ctx.fillStyle=t.toString(),i&&e.text.trim().length?i.slice(0).reverse().forEach((function(t){a.ctx.shadowColor=t.color.toString(),a.ctx.shadowOffsetX=t.offsetX*a.options.scale,a.ctx.shadowOffsetY=t.offsetY*a.options.scale,a.ctx.shadowBlur=t.blur,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})):a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var o=r.textDecorationColor||t;r.textDecorationLine.forEach((function(t){switch(t){case s.TEXT_DECORATION_LINE.UNDERLINE:var r=a.options.fontMetrics.getMetrics(n).baseline;a.rectangle(e.bounds.left,Math.round(e.bounds.top+r),e.bounds.width,1,o);break;case s.TEXT_DECORATION_LINE.OVERLINE:a.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,o);break;case s.TEXT_DECORATION_LINE.LINE_THROUGH:var i=a.options.fontMetrics.getMetrics(n).middle;a.rectangle(e.bounds.left,Math.ceil(e.bounds.top+i),e.bounds.width,1,o)}}))}}))}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled="undefined"!=typeof window&&t,this.start=r||Date.now(),this.id=n}return r(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r};t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var a=["top","right","bottom","left"];t.parsePadding=function(e){return a.map((function(t){return new s.default(e.getPropertyValue("padding-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var r=c(n(9)),i=n(5),s=n(12),a=c(n(50)),o=c(n(7)),A=c(n(0)),u=c(n(1)),l=(n(2),n(22),n(4));function c(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new A.default([42,42,42]);var d=new A.default([165,165,165]),h=new A.default([222,222,222]),f={borderWidth:1,borderColor:d,borderStyle:s.BORDER_STYLE.SOLID},p=(t.INPUT_BORDERS=[f,f,f,f],t.INPUT_BACKGROUND={backgroundColor:h,backgroundImage:[],backgroundClip:i.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:i.BACKGROUND_ORIGIN.PADDING_BOX},new u.default("50%")),E=[p,p],m=[E,E,E,E],g=new u.default("3px"),y=[g,g],B=[y,y,y,y],v=(t.getInputBorderRadius=function(e){return"radio"===e.type?m:B},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new o.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new o.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new o.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new o.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new o.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new o.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new o.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new a.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else v(k(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){v(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var n=e.options[e.selectedIndex||0];v(n&&n.text||"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,n,i){var s=t.ownerDocument.body;if(e.length>0&&s){var a=t.ownerDocument.createElement("html2canvaswrapper");(0,l.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),a),a.style.position="absolute",a.style.left=n.bounds.left+"px",a.style.top=n.bounds.top+"px",i||(a.style.whiteSpace="nowrap");var o=t.ownerDocument.createTextNode(e);a.appendChild(o),s.appendChild(a),n.childNodes.push(r.default.fromTextNode(o,n)),s.removeChild(a)}}),k=function(e){var t="password"===e.type?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var r,i=n(2),s=n(11),a=n(10),o=(r=a)&&r.__esModule?r:{default:r},A=n(24),u=t.TextBounds=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.bounds=n},l=(t.parseTextBounds=function(e,t,n){for(var r=0!==t.style.letterSpacing?(0,A.toCodePoints)(e).map((function(e){return(0,A.fromCodePoint)(e)})):(0,A.breakWords)(e,t),i=r.length,a=n.parentNode?n.parentNode.ownerDocument.defaultView:null,d=a?a.pageXOffset:0,h=a?a.pageYOffset:0,f=[],p=0,E=0;E<i;E++){var m=r[E];if(t.style.textDecoration!==s.TEXT_DECORATION.NONE||m.trim().length>0)if(o.default.SUPPORT_RANGE_BOUNDS)f.push(new u(m,c(n,p,m.length,d,h)));else{var g=n.splitText(m.length);f.push(new u(m,l(n,d,h))),n=g}else o.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(m.length));p+=m.length}return f},function(e,t,n){var r=e.ownerDocument.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var a=(0,i.parseBounds)(r,t,n);return r.firstChild&&s.replaceChild(r.firstChild,r),a}return new i.Bounds(0,0,0,0)}),c=function(e,t,n,r,s){var a=e.ownerDocument.createRange();return a.setStart(e,t),a.setEnd(e,t+n),i.Bounds.fromClientRect(a.getBoundingClientRect(),r,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t}return r(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=s(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return a(n).then((function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas}))}}]),e}();t.default=i;var s=t.createForeignObjectSVG=function(e,t,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",e),a.setAttributeNS(null,"height",t),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n),o.setAttributeNS(null,"y",r),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},a=t.loadSerializedSVG=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(46);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i,s=n(3),a=((i=s)&&i.__esModule,n(18));t.breakWords=function(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===a.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],s=void 0;!(s=n.next()).done;)i.push(s.value.slice());return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4);t.FontMetrics=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={},this._document=t}return r(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;if(!s)throw new Error("No document found for font metrics");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",s.appendChild(t),n.src=i.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(r),t.appendChild(n);var a=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-t.offsetTop+2;return s.removeChild(t),{baseline:a,middle:o}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r,i=n(10),s=(r=i)&&r.__esModule?r:{default:r};t.Proxy=function(e,t){if(!t.proxy)return Promise.reject("No proxy defined");var n=t.proxy;return new Promise((function(r,i){var a=s.default.SUPPORT_CORS_XHR&&s.default.SUPPORT_RESPONSE_TYPE?"blob":"text",o=s.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(o.onload=function(){if(o instanceof XMLHttpRequest)if(200===o.status)if("text"===a)r(o.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(e){return i(e)}),!1),t.readAsDataURL(o.response)}else i("Failed to proxy resource "+e.substring(0,256)+" with status code "+o.status);else r(o.responseText)},o.onerror=i,o.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&o instanceof XMLHttpRequest&&(o.responseType=a),t.imageTimeout){var A=t.imageTimeout;o.timeout=A,o.ontimeout=function(){return i("Timed out ("+A+"ms) proxying "+e.substring(0,256))}}o.send()}))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n(15)),s=o(n(16)),a=n(28);function o(e){return e&&e.__esModule?e:{default:e}}var A=function(e,t){var n=t||{},o=new s.default("boolean"!=typeof n.logging||n.logging);o.log("html2canvas 1.0.0-alpha.12"),"function"==typeof n.onrendered&&o.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");var A=e.ownerDocument;if(!A)return Promise.reject("Provided element is not within a Document");var u=A.defaultView,l={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:u.devicePixelRatio||1,target:new i.default(n.canvas),useCORS:!1,windowWidth:u.innerWidth,windowHeight:u.innerHeight,scrollX:u.pageXOffset,scrollY:u.pageYOffset},c=(0,a.renderElement)(e,r({},l,n),o);return c.catch((function(e){throw o.error(e),e}))};A.CanvasRenderer=i.default,e.exports=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(h(n(16)),n(29)),s=h(n(51)),a=h(n(23)),o=h(n(10)),A=n(2),u=n(54),l=n(25),c=n(0),d=h(c);function h(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function e(t,n,h){var f=t.ownerDocument,p=new A.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),E=f.documentElement?new d.default(getComputedStyle(f.documentElement).backgroundColor):c.TRANSPARENT,m=f.body?new d.default(getComputedStyle(f.body).backgroundColor):c.TRANSPARENT,g=t===f.documentElement?E.isTransparent()?m.isTransparent()?n.backgroundColor?new d.default(n.backgroundColor):null:m:E:n.backgroundColor?new d.default(n.backgroundColor):null;return(n.foreignObjectRendering?o.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then((function(o){return o?(d=new u.DocumentCloner(t,n,h,!0,e),h.log("Document cloned, using foreignObject rendering"),d.inlineFonts(f).then((function(){return d.resourceLoader.ready()})).then((function(){var e=new a.default(d.documentElement),r=f.defaultView,i=r.pageXOffset,s=r.pageYOffset,o="HTML"===t.tagName||"BODY"===t.tagName?(0,A.parseDocumentSize)(f):(0,A.parseBounds)(t,i,s),u=o.width,l=o.height,c=o.left,p=o.top;return e.render({backgroundColor:g,logger:h,scale:n.scale,x:"number"==typeof n.x?n.x:c,y:"number"==typeof n.y?n.y:p,width:"number"==typeof n.width?n.width:Math.ceil(u),height:"number"==typeof n.height?n.height:Math.ceil(l),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})}))):(0,u.cloneWindow)(f,p,t,n,h,e).then((function(e){var t=r(e,3),a=t[0],o=t[1],u=t[2];h.log("Document cloned, using computed rendering");var d=(0,i.NodeParser)(o,u,h),p=o.ownerDocument;return g===d.container.style.background.backgroundColor&&(d.container.style.background.backgroundColor=c.TRANSPARENT),u.ready().then((function(e){var t=new l.FontMetrics(p);h.log("Starting renderer");var r=p.defaultView,i=r.pageXOffset,u=r.pageYOffset,c="HTML"===o.tagName||"BODY"===o.tagName?(0,A.parseDocumentSize)(f):(0,A.parseBounds)(o,i,u),E=c.width,m=c.height,y=c.left,B=c.top,v={backgroundColor:g,fontMetrics:t,imageStore:e,logger:h,scale:n.scale,x:"number"==typeof n.x?n.x:y,y:"number"==typeof n.y?n.y:B,width:"number"==typeof n.width?n.width:Math.ceil(E),height:"number"==typeof n.height?n.height:Math.ceil(m)};if(Array.isArray(n.target))return Promise.all(n.target.map((function(e){return new s.default(e,v).render(d)})));var k=new s.default(n.target,v).render(d);return!0===n.removeContainer&&(a.parentNode?a.parentNode.removeChild(a):h.log("Cannot detach cloned iframe as it is not in the DOM anymore")),k}))}));var d}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var r=u(n(30)),i=u(n(3)),s=u(n(9)),a=n(21),o=n(14),A=n(8);function u(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function(e,t,n){n.log("Starting node parsing");var s=0,a=new i.default(e,null,t,s++),o=new r.default(a,null,!0);return c(e,a,o,t,1),n.log("Finished parsing node tree"),o};var l=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],c=function e(t,n,u,c,f){if(f>5e4)throw new Error("Recursion error while parsing node tree");for(var p,E=t.firstChild;E;E=p){p=E.nextSibling;var m=E.ownerDocument.defaultView;if(E instanceof m.Text||E instanceof Text||m.parent&&E instanceof m.parent.Text)E.data.trim().length>0&&n.childNodes.push(s.default.fromTextNode(E,n));else if(E instanceof m.HTMLElement||E instanceof HTMLElement||m.parent&&E instanceof m.parent.HTMLElement){if(-1===l.indexOf(E.nodeName)){var g=new i.default(E,n,c,f++);if(g.isVisible()){"INPUT"===E.tagName?(0,a.inlineInputElement)(E,g):"TEXTAREA"===E.tagName?(0,a.inlineTextAreaElement)(E,g):"SELECT"===E.tagName?(0,a.inlineSelectElement)(E,g):g.style.listStyle&&g.style.listStyle.listStyleType!==A.LIST_STYLE_TYPE.NONE&&(0,o.inlineListItemElement)(E,g,c);var y="TEXTAREA"!==E.tagName,B=d(g,E);if(B||h(g)){var v=B||g.isPositioned()?u.getRealParentStackingContext():u,k=new r.default(g,v,B);v.contexts.push(k),y&&e(E,g,k,c,f)}else u.children.push(g),y&&e(E,g,u,c,f)}}}else if(E instanceof m.SVGSVGElement||E instanceof SVGSVGElement||m.parent&&E instanceof m.parent.SVGSVGElement){var _=new i.default(E,n,c,f++),w=d(_,E);if(w||h(_)){var C=w||_.isPositioned()?u.getRealParentStackingContext():u,S=new r.default(_,C,w);C.contexts.push(S)}else u.children.push(_)}}},d=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||f(e,t)},h=function(e){return e.isPositioned()||e.isFloating()},f=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof i.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3);(r=s)&&r.__esModule,n(19);var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}return i(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(6),a=n(7),o=(r=a)&&r.__esModule?r:{default:r},A=function(e,t,n){return new o.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},u=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=s.PATH.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return i(e,[{key:"subdivide",value:function(t,n){var r=A(this.start,this.startControl,t),i=A(this.startControl,this.endControl,t),s=A(this.endControl,this.end,t),a=A(r,i,t),o=A(i,s,t),u=A(a,o,t);return n?new e(this.start,r,a,u):new e(u,o,s,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=n(1),a=(r=s)&&r.__esModule?r:{default:r},o=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(e){return o.map((function(t){var n=e.getPropertyValue("border-"+t+"-radius").split(" ").map(a.default.create),r=i(n,2),s=r[0],o=r[1];return void 0===o?[s,s]:[s,o]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},i=function(e,t){return e|function(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(t)};t.parseDisplay=function(e){return e.split(" ").reduce(i,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r},a=["top","right","bottom","left"];t.parseMargin=function(e){return a.map((function(t){return new s.default(e.getPropertyValue("margin-"+t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r,i=n(0),s=(r=i)&&r.__esModule?r:{default:r},a=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,r=[],i=[],o=0,A=null,u=function(){t.length&&(n?r.push(parseFloat(t)):A=new s.default(t)),n=!1,t=""},l=function(){r.length&&null!==A&&i.push({color:A,offsetX:r[0]||0,offsetY:r[1]||0,blur:r[2]||0}),r.splice(0,r.length),A=null},c=0;c<e.length;c++){var d=e[c];switch(d){case"(":t+=d,o++;break;case")":t+=d,o--;break;case",":0===o?(u(),l()):t+=d;break;case" ":0===o?u():t+=d;break;default:0===t.length&&a.test(d)&&(n=!0),t+=d}}return u(),l(),0===i.length?null:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r},a=function(e){return parseFloat(e.trim())},o=/(matrix|matrix3d)\((.+)\)/,A=(t.parseTransform=function(e){var t=u(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:A(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!=typeof e){var t=new s.default("0");return[t,t]}var n=e.split(" ").map(s.default.create);return[n[0],n[1]]}),u=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(o);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(a);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(a);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(47);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return i.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(48),o=n(49),A=(r=o)&&r.__esModule?r:{default:r},u=n(13),l=t.LETTER_NUMBER_MODIFIER=50,c=10,d=13,h=15,f=17,p=18,E=19,m=20,g=21,y=22,B=24,v=25,k=26,_=27,w=28,C=30,S=32,M=33,T=34,b=35,U=37,x=38,R=39,Q=40,P=42,L=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:c,ZWJ:11,B2:12,BA:d,BB:14,HY:h,CB:16,CL:f,CP:p,EX:E,IN:m,NS:g,OP:y,QU:23,IS:B,NU:v,PO:k,PR:_,SY:w,AI:29,AL:C,CJ:31,EB:S,EM:M,H2:T,H3:b,HL:36,ID:U,JL:x,JV:R,JT:Q,RI:41,SA:P,XX:43},t.BREAK_MANDATORY="!"),H=t.BREAK_NOT_ALLOWED="×",F=t.BREAK_ALLOWED="÷",I=t.UnicodeTrie=(0,a.createTrieFromBase64)(A.default),O=[C,36],N=[1,2,3,5],D=[c,8],j=[_,k],K=N.concat(D),V=[x,R,Q,T,b],Y=[h,d],G=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],i=[];return e.forEach((function(e,s){var a=I.get(e);if(a>l?(i.push(!0),a-=l):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(s),n.push(16);if(4===a||11===a){if(0===s)return r.push(s),n.push(C);var o=n[s-1];return-1===K.indexOf(o)?(r.push(r[s-1]),n.push(o)):(r.push(s),n.push(C))}return r.push(s),31===a?n.push("strict"===t?g:U):a===P||29===a?n.push(C):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(U):n.push(C):void n.push(a)})),[r,n,i]},z=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var s=n;s<=r.length;){var a=r[++s];if(a===t)return!0;if(a!==c)break}if(i===c)for(var o=n;o>0;){var A=r[--o];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var u=n;u<=r.length;){var l=r[++u];if(l===t)return!0;if(l!==c)break}if(A!==c)break}return!1},W=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==c)return r;n--}return 0},X=function(e,t,n,r,i){if(0===n[r])return H;var s=r-1;if(Array.isArray(i)&&!0===i[s])return H;var a=s-1,o=s+1,A=t[s],u=a>=0?t[a]:0,l=t[o];if(2===A&&3===l)return H;if(-1!==N.indexOf(A))return L;if(-1!==N.indexOf(l))return H;if(-1!==D.indexOf(l))return H;if(8===W(s,t))return F;if(11===I.get(e[s])&&(l===U||l===S||l===M))return H;if(7===A||7===l)return H;if(9===A)return H;if(-1===[c,d,h].indexOf(A)&&9===l)return H;if(-1!==[f,p,E,B,w].indexOf(l))return H;if(W(s,t)===y)return H;if(z(23,y,s,t))return H;if(z([f,p],g,s,t))return H;if(z(12,12,s,t))return H;if(A===c)return F;if(23===A||23===l)return H;if(16===l||16===A)return F;if(-1!==[d,h,g].indexOf(l)||14===A)return H;if(36===u&&-1!==Y.indexOf(A))return H;if(A===w&&36===l)return H;if(l===m&&-1!==O.concat(m,E,v,U,S,M).indexOf(A))return H;if(-1!==O.indexOf(l)&&A===v||-1!==O.indexOf(A)&&l===v)return H;if(A===_&&-1!==[U,S,M].indexOf(l)||-1!==[U,S,M].indexOf(A)&&l===k)return H;if(-1!==O.indexOf(A)&&-1!==j.indexOf(l)||-1!==j.indexOf(A)&&-1!==O.indexOf(l))return H;if(-1!==[_,k].indexOf(A)&&(l===v||-1!==[y,h].indexOf(l)&&t[o+1]===v)||-1!==[y,h].indexOf(A)&&l===v||A===v&&-1!==[v,w,B].indexOf(l))return H;if(-1!==[v,w,B,f,p].indexOf(l))for(var C=s;C>=0;){var P=t[C];if(P===v)return H;if(-1===[w,B].indexOf(P))break;C--}if(-1!==[_,k].indexOf(l))for(var K=-1!==[f,p].indexOf(A)?a:s;K>=0;){var G=t[K];if(G===v)return H;if(-1===[w,B].indexOf(G))break;K--}if(x===A&&-1!==[x,R,T,b].indexOf(l)||-1!==[R,T].indexOf(A)&&-1!==[R,Q].indexOf(l)||-1!==[Q,b].indexOf(A)&&l===Q)return H;if(-1!==V.indexOf(A)&&-1!==[m,k].indexOf(l)||-1!==V.indexOf(l)&&A===_)return H;if(-1!==O.indexOf(A)&&-1!==O.indexOf(l))return H;if(A===B&&-1!==O.indexOf(l))return H;if(-1!==O.concat(v).indexOf(A)&&l===y||-1!==O.concat(v).indexOf(l)&&A===p)return H;if(41===A&&41===l){for(var X=n[s],J=1;X>0&&41===t[--X];)J++;if(J%2!=0)return H}return A===S&&l===M?H:F},J=(t.lineBreakAtIndex=function(e,t){if(0===t)return H;if(t>=e.length)return L;var n=G(e),r=s(n,2),i=r[0],a=r[1];return X(e,a,i,t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=G(e,t.lineBreak),r=s(n,3),i=r[0],a=r[1],o=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(a=a.map((function(e){return-1!==[v,C,P].indexOf(e)?U:e}))),[i,a,"keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):null]}),q=(t.inlineBreakOpportunities=function(e,t){var n=(0,u.toCodePoints)(e),r=H,i=J(n,t),a=s(i,3),o=a[0],A=a[1],l=a[2];return n.forEach((function(e,t){r+=(0,u.fromCodePoint)(e)+(t>=n.length-1?L:X(n,A,o,t+1,l))})),r},function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._codePoints=t,this.required=n===L,this.start=r,this.end=i}return i(e,[{key:"slice",value:function(){return u.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,u.toCodePoints)(e),r=J(n,t),i=s(r,3),a=i[0],o=i[1],A=i[2],l=n.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0};for(var e=H;d<l&&(e=X(n,o,a,++d,A))===H;);if(e!==H||d===l){var t=new q(n,e,c,d);return c=d,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(13),s=t.UTRIE2_SHIFT_2=5,a=t.UTRIE2_SHIFT_1=11,o=t.UTRIE2_INDEX_SHIFT=2,A=t.UTRIE2_SHIFT_1_2=a-s,u=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>s,l=t.UTRIE2_DATA_BLOCK_LENGTH=1<<s,c=t.UTRIE2_DATA_MASK=l-1,d=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>s,h=t.UTRIE2_INDEX_2_BMP_LENGTH=u+d,f=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=h,p=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,E=t.UTRIE2_INDEX_1_OFFSET=f+p,m=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>a,g=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<A,y=t.UTRIE2_INDEX_2_MASK=g-1,B=(t.createTrieFromBase64=function(e){var t=(0,i.decode)(e),n=Array.isArray(t)?(0,i.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,i.polyUint16Array)(t):new Uint16Array(t),s=r.slice(12,n[4]/2),a=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new B(n[0],n[1],n[2],n[3],s,a)},t.Trie=function(){function e(t,n,r,i,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return r(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>s])<<o)+(e&c),this.data[t];if(e<=65535)return t=((t=this.index[u+(e-55296>>s)])<<o)+(e&c),this.data[t];if(e<this.highStart)return t=E-m+(e>>a),t=this.index[t],t+=e>>s&y,t=((t=this.index[t])<<o)+(e&c),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.default=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r.PATH.CIRCLE,this.x=t,this.y=n,this.radius=i,isNaN(t)&&console.error("Invalid x value given for Circle"),isNaN(n)&&console.error("Invalid y value given for Circle"),isNaN(i)&&console.error("Invalid radius value given for Circle")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=(n(25),n(52)),A=n(9),u=(r=A)&&r.__esModule?r:{default:r},l=n(5),c=n(12),d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t,this.options=n,t.render(n)}return s(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach((function(n){if(n instanceof u.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)})),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,a.calculateContentBox)(e.bounds,e.style.padding,e.style.border),i="number"==typeof n.width&&n.width>0?n.width:r.width,s="number"==typeof n.height&&n.height>0?n.height:r.height;i>0&&s>0&&t.target.clip([(0,a.calculatePaddingBoxPath)(e.curvedBounds)],(function(){t.target.drawImage(n,new a.Bounds(0,0,i,s),r)}))}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some((function(e){return e.borderStyle!==c.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()})),i=function(){var r=(0,l.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],(function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)})),e.style.border.forEach((function(n,r){n.borderStyle===c.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)}))};if(n||r){var s=e.parent?e.parent.getClipPaths():[];s.length?this.target.clip(s,i):i()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach((function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)}))}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),i=(0,l.calculateBackgroundSize)(t,n,r),s=(0,l.calculateBackgroundPosition)(t.position,i,r),a=(0,l.calculateBackgroundRepeatPath)(t,s,i,r,e.bounds),o=Math.round(r.left+s.x),A=Math.round(r.top+s.y);this.target.renderRepeat(a,n,i,o,A)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,l.calculateGradientBackgroundSize)(t,n),i=(0,l.calculateBackgroundPosition)(t.position,r,n),s=new a.Bounds(Math.round(n.left+i.x),Math.round(n.top+i.y),r.width,r.height),A=(0,o.parseGradient)(e,t.source,s);if(A)switch(A.type){case o.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(s,A);break;case o.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(s,A)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape((0,a.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,(function(){return t.renderStackContent(e)})):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=f(e),n=i(t,5),r=n[0],s=n[1],a=n[2],o=n[3],A=n[4],u=h(e),l=i(u,2),c=l[0],d=l[1];this.renderNodeBackgroundAndBorders(e.container),r.sort(p).forEach(this.renderStack,this),this.renderNodeContent(e.container),d.forEach(this.renderNode,this),o.forEach(this.renderStack,this),A.forEach(this.renderStack,this),c.forEach(this.renderNode,this),s.forEach(this.renderStack,this),a.sort(p).forEach(this.renderStack,this)}},{key:"render",value:function(e){var t=this;this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e);var n=this.target.getTarget();return n.then((function(e){return t.options.logger.log("Render completed"),e}))}}]),e}();t.default=d;var h=function(e){for(var t=[],n=[],r=e.children.length,i=0;i<r;i++){var s=e.children[i];s.isInlineLevel()?t.push(s):n.push(s)}return[t,n]},f=function(e){for(var t=[],n=[],r=[],i=[],s=[],a=e.contexts.length,o=0;o<a;o++){var A=e.contexts[o];A.container.isPositioned()||A.container.style.opacity<1||A.container.isTransformed()?A.container.style.zIndex.order<0?t.push(A):A.container.style.zIndex.order>0?r.push(A):n.push(A):A.container.isFloating()?i.push(A):s.push(A)}return[t,n,r,i,s]},p=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(u(n(3)),n(53)),s=u(n(0)),a=n(1),o=u(a),A=n(4);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,d=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,h=/(px)|%|( 0)$/i,f=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,p=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,E=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},m=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},g={left:new o.default("0%"),top:new o.default("0%"),center:new o.default("50%"),right:new o.default("100%"),bottom:new o.default("100%")},y=t.LinearGradient=function e(t,n){l(this,e),this.type=E.LINEAR_GRADIENT,this.colorStops=t,this.direction=n},B=t.RadialGradient=function e(t,n,r,i){l(this,e),this.type=E.RADIAL_GRADIENT,this.colorStops=t,this.shape=n,this.center=r,this.radius=i},v=(t.parseGradient=function(e,t,n){var r=t.args,i=t.method,s=t.prefix;return"linear-gradient"===i?k(r,n,!!s):"gradient"===i&&"linear"===r[0]?k(["to bottom"].concat(x(r.slice(3))),n,!!s):"radial-gradient"===i?_(e,"-webkit-"===s?U(r):r,n):"gradient"===i&&"radial"===r[0]?_(e,x(U(r.slice(1))),n):void 0},function(e,t,n){for(var r=[],i=t;i<e.length;i++){var a=e[i],A=h.test(a),u=a.lastIndexOf(" "),l=new s.default(A?a.substring(0,u):a),c=A?new o.default(a.substring(u+1)):i===t?new o.default("0%"):i===e.length-1?new o.default("100%"):null;r.push({color:l,stop:c})}for(var d=r.map((function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}})),f=d[0].stop,p=0;p<d.length;p++)if(null!==f){var E=d[p].stop;if(null===E){for(var m=p;null===d[m].stop;)m++;for(var g=m-p+1,y=(d[m].stop-f)/g;p<m;p++)f=d[p].stop=f+y}else f=E}return d}),k=function(e,t,n){var r=(0,i.parseAngle)(e[0]),s=c.test(e[0]),a=s||null!==r||d.test(e[0]),o=a?null!==r?w(n?r-.5*Math.PI:r,t):s?S(e[0],t):M(e[0],t):w(Math.PI,t),u=a?1:0,l=Math.min((0,A.distance)(Math.abs(o.x0)+Math.abs(o.x1),Math.abs(o.y0)+Math.abs(o.y1)),2*t.width,2*t.height);return new y(v(e,u,l),o)},_=function(e,t,n){var r=t[0].match(p),i=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?m.CIRCLE:m.ELLIPSE,s={},o={};r&&(void 0!==r[3]&&(s.x=(0,a.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(s.y=(0,a.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?o.x=g[r[7].toLowerCase()]:void 0!==r[8]&&(o.x=(0,a.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?o.y=g[r[10].toLowerCase()]:void 0!==r[11]&&(o.y=(0,a.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var A={x:void 0===o.x?n.width/2:o.x.getAbsoluteValue(n.width),y:void 0===o.y?n.height/2:o.y.getAbsoluteValue(n.height)},u=b(r&&r[2]||"farthest-corner",i,A,s,n);return new B(v(t,r?1:0,Math.min(u.x,u.y)),i,A,u)},w=function(e,t){var n=t.width,r=t.height,i=.5*n,s=.5*r,a=(Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)))/2,o=i+Math.sin(e)*a,A=s-Math.cos(e)*a;return{x0:o,x1:n-o,y0:A,y1:r-A}},C=function(e){return Math.acos(e.width/2/((0,A.distance)(e.width,e.height)/2))},S=function(e,t){switch(e){case"bottom":case"to top":return w(0,t);case"left":case"to right":return w(Math.PI/2,t);case"right":case"to left":return w(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return w(Math.PI+C(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return w(Math.PI-C(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return w(C(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return w(2*Math.PI-C(t),t);case"top":case"to bottom":default:return w(Math.PI,t)}},M=function(e,t){var n=e.split(" ").map(parseFloat),i=r(n,2),s=i[0],a=i[1],o=s/100*t.width/(a/100*t.height);return w(Math.atan(isNaN(o)?1:o)+Math.PI/2,t)},T=function(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce((function(e,i){var s=(0,A.distance)(t-i.x,n-i.y);return(r?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:i,optimumDistance:s}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},b=function(e,t,n,r,i){var s=n.x,a=n.y,o=0,u=0;switch(e){case"closest-side":t===m.CIRCLE?o=u=Math.min(Math.abs(s),Math.abs(s-i.width),Math.abs(a),Math.abs(a-i.height)):t===m.ELLIPSE&&(o=Math.min(Math.abs(s),Math.abs(s-i.width)),u=Math.min(Math.abs(a),Math.abs(a-i.height)));break;case"closest-corner":if(t===m.CIRCLE)o=u=Math.min((0,A.distance)(s,a),(0,A.distance)(s,a-i.height),(0,A.distance)(s-i.width,a),(0,A.distance)(s-i.width,a-i.height));else if(t===m.ELLIPSE){var l=Math.min(Math.abs(a),Math.abs(a-i.height))/Math.min(Math.abs(s),Math.abs(s-i.width)),c=T(i,s,a,!0);u=l*(o=(0,A.distance)(c.x-s,(c.y-a)/l))}break;case"farthest-side":t===m.CIRCLE?o=u=Math.max(Math.abs(s),Math.abs(s-i.width),Math.abs(a),Math.abs(a-i.height)):t===m.ELLIPSE&&(o=Math.max(Math.abs(s),Math.abs(s-i.width)),u=Math.max(Math.abs(a),Math.abs(a-i.height)));break;case"farthest-corner":if(t===m.CIRCLE)o=u=Math.max((0,A.distance)(s,a),(0,A.distance)(s,a-i.height),(0,A.distance)(s-i.width,a),(0,A.distance)(s-i.width,a-i.height));else if(t===m.ELLIPSE){var d=Math.max(Math.abs(a),Math.abs(a-i.height))/Math.max(Math.abs(s),Math.abs(s-i.width)),h=T(i,s,a,!1);u=d*(o=(0,A.distance)(h.x-s,(h.y-a)/d))}break;default:o=r.x||0,u=void 0!==r.y?r.y:o}return{x:o,y:u}},U=t.transformWebkitRadialGradientArgs=function(e){var t="",n="",r="",i="",s=0,a=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,o=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,A=e[s].match(a);A&&s++;var u=e[s].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);u&&(t=u[1]||"","contain"===(r=u[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),s++);var l=e[s].match(o);l&&s++;var c=e[s].match(a);c&&s++;var d=e[s].match(o);d&&s++;var h=c||A;h&&h[1]&&(i=h[1]+(/^\d+$/.test(h[1])?"px":""),h[2]&&(i+=" "+h[2]+(/^\d+$/.test(h[2])?"px":"")));var f=d||l;return f&&(n=f[0],f[1]||(n+="px")),!i||t||n||r||(n=i,i=""),i&&(i="at "+i),[[t,r,n,i].filter((function(e){return!!e})).join(" ")].concat(e.slice(s))},x=function(e){return e.map((function(e){return e.match(f)})).map((function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),a=n(26),o=d(n(55)),A=n(4),u=n(5),l=d(n(15)),c=n(56);function d(e){return e&&e.__esModule?e:{default:e}}var h=t.DocumentCloner=function(){function e(t,n,r,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=i,this.inlineImages=i,this.logger=r,this.options=n,this.renderer=s,this.resourceLoader=new o.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return i(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,u.parseBackgroundImage)(n.backgroundImage).map((function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then((function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"})).catch((function(e){t.logger.log("Unable to load image",e)})):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")}))).then((function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")})),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then((function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,A.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}})).catch((function(e){t.logger.log("Unable to load image",e)}))}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map((function(n){return n.href?fetch(n.href).then((function(e){return e.text()})).then((function(e){return p(e,n.href)})).catch((function(e){return t.logger.log("Unable to load stylesheet",e),[]})):f(n,e)}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})).then((function(e){return Promise.all(e.map((function(e){return fetch(e.formats[0].src).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)}))})).then((function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "}))})))})).then((function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)}))}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){this.logger.log("Unable to clone canvas contents, canvas is tainted")}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),i=C();r.setAttribute("data-html2canvas-internal-iframe-key",i);var a=(0,s.parseBounds)(e,0,0),o=a.width,u=a.height;return this.resourceLoader.cache[i]=M(e,this.options).then((function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new l.default,width:o,height:u,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(i))})).then((function(t){return new Promise((function(n,i){var s=document.createElement("img");s.onload=function(){return n(t)},s.onerror=i,s.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,A.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),s),r)}))})),r}if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var c=[].slice.call(e.sheet.cssRules,0).reduce((function(e,n){try{return n&&n.cssText?e+n.cssText:e}catch(r){return t.logger.log("Unable to access cssText property",n.name),e}}),""),d=e.cloneNode(!1);return d.textContent=c,d}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,s=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&k(t);for(var a=(0,c.parseCounterReset)(r,this.pseudoContentData),o=(0,c.resolvePseudoContent)(e,i,this.pseudoContentData),u=e.firstChild;u;u=u.nextSibling)u.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===u.nodeName||u.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(u))||this.copyStyles&&"STYLE"===u.nodeName||t.appendChild(this.cloneNode(u));var l=(0,c.resolvePseudoContent)(e,s,this.pseudoContentData);if((0,c.popCounters)(a,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(i&&this.inlineAllImages(m(e,t,i,o,g)),s&&this.inlineAllImages(m(e,t,s,l,y)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,A.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||E(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),f=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).map((function(e){for(var n=(0,u.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],i=0;i<n.length;i++)if("url"===n[i].method&&n[i+1]&&"format"===n[i+1].method){var s=t.createElement("a");s.href=n[i].args[0],t.body&&t.body.appendChild(s);var a={src:s.href,format:n[i+1].args[0]};r.push(a)}return{formats:r.filter((function(e){return/^woff/i.test(e.format)})),fontFace:e.style}})).filter((function(e){return e.formats.length}))},p=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var i=document.createElement("style");return i.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(i),i.sheet?f(i.sheet,n):[]},E=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(e){}},m=function(e,t,n,r,i){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var s=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,A.copyCSSStyles)(n,s),r)for(var a=r.length,o=0;o<a;o++){var l=r[o];switch(l.type){case c.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var d=t.ownerDocument.createElement("img");d.src=(0,u.parseBackgroundImage)("url("+l.value+")")[0].args[0],d.style.opacity="1",s.appendChild(d);break;case c.PSEUDO_CONTENT_ITEM_TYPE.TEXT:s.appendChild(t.ownerDocument.createTextNode(l.value))}}return s.className=B+" "+v,t.className+=i===g?" "+B:" "+v,i===g?t.insertBefore(s,t.firstChild):t.appendChild(s),s}},g=":before",y=":after",B="___html2canvas___pseudoelement_before",v="___html2canvas___pseudoelement_after",k=function(e){_(e,"."+B+g+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+v+y+'{\n    content: "" !important;\n    display: none !important;\n}')},_=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},w=function(e){var t=r(e,3),n=t[0],i=t[1],s=t[2];n.scrollLeft=i,n.scrollTop=s},C=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},S=/^data:text\/(.+);(base64)?,(.*)$/i,M=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,a.Proxy)(e.src,t).then((function(e){var t=e.match(S);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()})).then((function(t){return T(e.ownerDocument,(0,s.parseBounds)(e,0,0)).then((function(e){var n=e.contentWindow.document;n.open(),n.write(t);var r=b(e).then((function(){return n.documentElement}));return n.close(),r}))})):Promise.reject()}},T=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("Body element not found in Document that is getting rendered")},b=function(e){var t=e.contentWindow,n=t.document;return new Promise((function(r,i){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval((function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))}),50)}}))},U=(t.cloneWindow=function(e,t,n,r,i,s){var a=new h(n,r,i,!1,s),o=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset;return T(e,t).then((function(i){var s=i.contentWindow,u=s.document,l=b(i).then((function(){a.scrolledElements.forEach(w),s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(u.documentElement.style.top=-t.top+"px",u.documentElement.style.left=-t.left+"px",u.documentElement.style.position="absolute");var o=Promise.resolve([i,a.clonedReferenceElement,a.resourceLoader]),A=r.onclone;return a.clonedReferenceElement instanceof s.HTMLElement||a.clonedReferenceElement instanceof e.defaultView.HTMLElement||a.clonedReferenceElement instanceof HTMLElement?"function"==typeof A?Promise.resolve().then((function(){return A(u)})).then((function(){return o})):o:Promise.reject("Error finding the "+n.nodeName+" in the cloned document")}));return u.open(),u.write(U(document.doctype)+"<html></html>"),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,o,A),u.replaceChild(u.adoptNode(a.documentElement),u.documentElement),u.close(),l}))},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(10),a=(r=s)&&r.__esModule?r:{default:r},o=n(26);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t,n,r){A(this,e),this.options=t,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=n,this._index=0}return i(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(E(e))return this.cache[e]=g(e,this.options.imageTimeout||0),e;if(!m(e)||a.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||f(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,o.Proxy)(e,this.options).then((function(e){return g(e,t.options.imageTimeout||0)})),e;if(!0===this.options.useCORS&&a.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return f(e)?g(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,o.Proxy)(e,this.options).then((function(e){return g(e,t.options.imageTimeout||0)}))}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise((function(n,r){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState)if(200!==i.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+i.status);else{var t=new FileReader;t.addEventListener("load",(function(){var e=t.result;n(e)}),!1),t.addEventListener("error",(function(e){return r(e)}),!1),t.readAsDataURL(i.response)}},i.responseType="blob",t.options.imageTimeout){var s=t.options.imageTimeout;i.timeout=s,i.ontimeout=function(){return r("Timed out ("+s+"ms) fetching "+e.substring(0,256))}}i.open("GET",e,!0),i.send()})).then((function(e){return g(e,t.options.imageTimeout||0)})),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,t,n){var r=this;this.logger.log("Added image "+e.substring(0,256));var i=function(e){return new Promise((function(i,s){var a=new Image;if(a.onload=function(){return i(a)},e&&!n||(a.crossOrigin="anonymous"),a.onerror=s,a.src=t,!0===a.complete&&setTimeout((function(){i(a)}),500),r.options.imageTimeout){var o=r.options.imageTimeout;setTimeout((function(){return s("Timed out ("+o+"ms) fetching "+t.substring(0,256))}),o)}}))};return this.cache[e]=p(t)&&!m(t)?a.default.SUPPORT_BASE64_DRAWING(t).then(i):i(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map((function(t){return e.cache[t].catch((function(t){return e.logger.log("Unable to load image",t),null}))}));return Promise.all(n).then((function(n){return e.logger.log("Finished loading "+n.length+" images",n),new l(t,n)}))}}]),e}();t.default=u;var l=t.ResourceStore=function(){function e(t,n){A(this,e),this._keys=t,this._resources=n}return i(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),c=/^data:image\/svg\+xml/i,d=/^data:image\/.*;base64,/i,h=/^data:image\/.*/i,f=function(e){return h.test(e)},p=function(e){return d.test(e)},E=function(e){return"blob"===e.substr(0,4)},m=function(e){return"svg"===e.substr(-3).toLowerCase()||c.test(e)},g=function(e,t){return new Promise((function(n,r){var i=new Image;i.onload=function(){return n(i)},i.onerror=r,i.src=e,!0===i.complete&&setTimeout((function(){n(i)}),500),t&&setTimeout((function(){return r("Timed out ("+t+"ms) loading image")}),t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(14),s=n(8),a=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},o=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},A=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],i=e.counterReset.split(/\s*,\s*/),s=i.length,a=0;a<s;a++){var o=i[a].split(/\s+/),A=r(o,2),u=A[0],l=A[1];n.push(u);var c=t.counters[u];c||(c=t.counters[u]=[]),c.push(parseInt(l||0,10))}return n},t.popCounters=function(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var i=A(t.content),s=i.length,u=[],d="",h=t.counterIncrement;if(h&&"none"!==h){var f=h.split(/\s+/),p=r(f,2),E=p[0],m=p[1],g=n.counters[E];g&&(g[g.length-1]+=void 0===m?1:parseInt(m,10))}for(var y=0;y<s;y++){var B=i[y];switch(B.type){case o.STRING:d+=B.value||"";break;case o.ATTRIBUTE:e instanceof HTMLElement&&B.value&&(d+=e.getAttribute(B.value)||"");break;case o.COUNTER:var v=n.counters[B.name||""];v&&(d+=c([v[v.length-1]],"",B.format));break;case o.COUNTERS:var k=n.counters[B.name||""];k&&(d+=c(k,B.glue,B.format));break;case o.OPENQUOTE:d+=l(t,!0,n.quoteDepth),n.quoteDepth++;break;case o.CLOSEQUOTE:n.quoteDepth--,d+=l(t,!1,n.quoteDepth);break;case o.URL:d&&(u.push({type:a.TEXT,value:d}),d=""),u.push({type:a.IMAGE,value:B.value||""})}}return d&&u.push({type:a.TEXT,value:d}),u},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,i=!1,s=!1,a=!1,A="",l="",c=[],d=0;d<r;d++){var h=e.charAt(d);switch(h){case"'":case'"':s?A+=h:(i=!i,a||i||(n.push({type:o.STRING,value:A}),A=""));break;case"\\":s?(A+=h,s=!1):s=!0;break;case"(":i?A+=h:(a=!0,l=A,A="",c=[]);break;case")":if(i)A+=h;else if(a){switch(A&&c.push(A),l){case"attr":c.length>0&&n.push({type:o.ATTRIBUTE,value:c[0]});break;case"counter":if(c.length>0){var f={type:o.COUNTER,name:c[0]};c.length>1&&(f.format=c[1]),n.push(f)}break;case"counters":if(c.length>0){var p={type:o.COUNTERS,name:c[0]};c.length>1&&(p.glue=c[1]),c.length>2&&(p.format=c[2]),n.push(p)}break;case"url":c.length>0&&n.push({type:o.URL,value:c[0]})}a=!1,A=""}break;case",":i?A+=h:a&&(c.push(A),A="");break;case" ":case"\t":i?A+=h:A&&(u(n,A),A="");break;default:A+=h}"\\"!==h&&(s=!1)}return A&&u(n,A),t&&(t[e]=n),n}),u=function(e,t){switch(t){case"open-quote":e.push({type:o.OPENQUOTE});break;case"close-quote":e.push({type:o.CLOSEQUOTE})}},l=function(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],i=2*n;return i>=r.length&&(i=r.length-2),t||++i,r[i].replace(/^["']|["']$/g,"")},c=function(e,t,n){for(var r=e.length,a="",o=0;o<r;o++)o>0&&(a+=t||""),a+=(0,i.createCounterText)(e[o],(0,s.parseListStyleType)(n||"decimal"),!1);return a}}])},"object"===a(t)&&"object"===a(e)?e.exports=s():(r=[],void 0===(i="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=i))}).call(this,n(/*! ./../../../../node_modules/webpack/buildin/module.js */"./node_modules/webpack/buildin/module.js")(e))},"./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){(function(e,r){var i;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**
                                                                                                                                                                                                                                                                                                                                                      * @license
                                                                                                                                                                                                                                                                                                                                                      * Lodash (Custom Build) <https://lodash.com/>
                                                                                                                                                                                                                                                                                                                                                      * Build: `lodash include="cloneDeep,debounce,findLast,remove" exports="amd"`
                                                                                                                                                                                                                                                                                                                                                      * Copyright JS Foundation and other contributors <https://js.foundation/>
                                                                                                                                                                                                                                                                                                                                                      * Released under MIT license <https://lodash.com/license>
                                                                                                                                                                                                                                                                                                                                                      * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
                                                                                                                                                                                                                                                                                                                                                      * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
                                                                                                                                                                                                                                                                                                                                                      */(function(){var a="[object Arguments]",o="[object Array]",A="[object Boolean]",u="[object Date]",l="[object Function]",c="[object GeneratorFunction]",d="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",E="[object Set]",m="[object String]",g="[object Symbol]",y="[object WeakMap]",B="[object DataView]",v="[object Float32Array]",k="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",M="[object Uint16Array]",T="[object Uint32Array]",b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/^\s+|\s+$/g,Q=/\\(\\)?/g,P=/\w*$/,L=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,F=/^\[object .+?Constructor\]$/,I=/^0o[0-7]+$/i,O=/^(?:0|[1-9]\d*)$/,N={};N[v]=N[k]=N[_]=N[w]=N[C]=N[S]=N["[object Uint8ClampedArray]"]=N[M]=N[T]=!0,N[a]=N[o]=N["[object ArrayBuffer]"]=N[A]=N[B]=N[u]=N["[object Error]"]=N[l]=N[d]=N[h]=N[f]=N[p]=N[E]=N[m]=N[y]=!1;var D={};D[a]=D[o]=D["[object ArrayBuffer]"]=D[B]=D[A]=D[u]=D[v]=D[k]=D[_]=D[w]=D[C]=D[d]=D[h]=D[f]=D[p]=D[E]=D[m]=D[g]=D[S]=D["[object Uint8ClampedArray]"]=D[M]=D[T]=!0,D["[object Error]"]=D[l]=D[y]=!1;var j=parseInt,K="object"==(void 0===e?"undefined":s(e))&&e&&e.Object===Object&&e,V="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,Y=K||V||Function("return this")(),G="object"==s(t)&&t&&!t.nodeType&&t,z=G&&"object"==s(r)&&r&&!r.nodeType&&r,W=z&&z.exports===G,X=W&&K.process,J=function(){try{return X&&X.binding&&X.binding("util")}catch(e){}}(),q=J&&J.isMap,Z=J&&J.isSet,$=J&&J.isTypedArray;function ee(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function te(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ne(e){return function(t){return e(t)}}function re(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ie(e,t){return function(n){return e(t(n))}}function se(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ae,oe=Array.prototype,Ae=Function.prototype,ue=Object.prototype,le=Y["__core-js_shared__"],ce=Ae.toString,de=ue.hasOwnProperty,he=(ae=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",fe=ue.toString,pe=RegExp("^"+ce.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=W?Y.Buffer:void 0,me=Y.Symbol,ge=Y.Uint8Array,ye=Ee?Ee.allocUnsafe:void 0,Be=ie(Object.getPrototypeOf,Object),ve=Object.create,ke=ue.propertyIsEnumerable,_e=oe.splice,we=me?me.toStringTag:void 0,Ce=function(){try{var e=kt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Se=Object.getOwnPropertySymbols,Me=Ee?Ee.isBuffer:void 0,Te=ie(Object.keys,Object),be=Math.max,Ue=Math.min,xe=kt(Y,"DataView"),Re=kt(Y,"Map"),Qe=kt(Y,"Promise"),Pe=kt(Y,"Set"),Le=kt(Y,"WeakMap"),He=kt(Object,"create"),Fe=Qt(xe),Ie=Qt(Re),Oe=Qt(Qe),Ne=Qt(Pe),De=Qt(Le),je=me?me.prototype:void 0,Ke=je?je.valueOf:void 0,Ve=je?je.toString:void 0;function Ye(){}var Ge=function(){function e(){}return function(t){if(!zt(t))return{};if(ve)return ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function We(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Je(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xe;++t<n;)this.add(e[t])}function qe(e){var t=this.__data__=new We(e);this.size=t.size}function Ze(e,t){var n=jt(e),r=!n&&Dt(e),i=!n&&!r&&Vt(e),s=!n&&!r&&!i&&Zt(e),a=n||r||i||s,o=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],A=o.length;for(var u in e)!t&&!de.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||St(u,A))||o.push(u);return o}function $e(e,t,n){var r=e[t];de.call(e,t)&&Nt(r,n)&&(void 0!==n||t in e)||tt(e,t,n)}function et(e,t){for(var n=e.length;n--;)if(Nt(e[n][0],t))return n;return-1}function tt(e,t,n){"__proto__"==t&&Ce?Ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nt(e,t,n,r,i,s){var o,y=1&t,b=2&t,U=4&t;if(n&&(o=i?n(e,r,i,s):n(e)),void 0!==o)return o;if(!zt(e))return e;var x=jt(e);if(x){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&de.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!y)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,o)}else{var R=Ct(e),Q=R==l||R==c;if(Vt(e))return function(e,t){if(t)return e.slice();var n=e.length,r=ye?ye(n):new e.constructor(n);return e.copy(r),r}(e,y);if(R==f||R==a||Q&&!i){if(o=b||Q?{}:function(e){return"function"!=typeof e.constructor||Tt(e)?{}:Ge(Be(e))}(e),!y)return b?function(e,t){return Et(e,wt(e),t)}(e,function(e,t){return e&&Et(t,on(t),e)}(o,e)):function(e,t){return Et(e,_t(e),t)}(e,function(e,t){return e&&Et(t,an(t),e)}(o,e))}else{if(!D[R])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pt(e);case A:case u:return new r(+e);case B:return function(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case v:case k:case _:case w:case C:case S:case"[object Uint8ClampedArray]":case M:case T:return function(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case d:return new r;case h:case m:return new r(e);case p:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new r;case g:return i=e,Ke?Object(Ke.call(i)):{}}var i}(e,R,y)}}s||(s=new qe);var L=s.get(e);if(L)return L;if(s.set(e,o),Jt(e))return e.forEach((function(r){o.add(nt(r,t,n,r,e,s))})),o;if(Xt(e))return e.forEach((function(r,i){o.set(i,nt(r,t,n,i,e,s))})),o;var H=x?void 0:(U?b?yt:gt:b?on:an)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(H||e,(function(r,i){H&&(r=e[i=r]),$e(o,i,nt(r,t,n,i,e,s))})),o}function rt(e,t){for(var n=0,r=(t=ft(t,e)).length;null!=e&&n<r;)e=e[Rt(t[n++])];return n&&n==r?e:void 0}function it(e,t,n){var r=t(e);return jt(e)?r:ee(r,n(e))}function st(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":we&&we in Object(e)?function(e){var t=de.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(e){}var i=fe.call(e);r&&(t?e[we]=n:delete e[we]);return i}(e):function(e){return fe.call(e)}(e)}function at(e,t){return null!=e&&t in Object(e)}function ot(e){return Wt(e)&&st(e)==a}function At(e,t,n,r,i){return e===t||(null==e||null==t||!Wt(e)&&!Wt(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var l=jt(e),c=jt(t),y=l?o:Ct(e),v=c?o:Ct(t),k=(y=y==a?f:y)==f,_=(v=v==a?f:v)==f,w=y==v;if(w&&Vt(e)){if(!Vt(t))return!1;l=!0,k=!1}if(w&&!k)return s||(s=new qe),l||Zt(e)?mt(e,t,n,r,i,s):function(e,t,n,r,i,s,a){switch(n){case B:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new ge(e),new ge(t)));case A:case u:case h:return Nt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case p:case m:return e==t+"";case d:var o=re;case E:var l=1&r;if(o||(o=se),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var f=mt(o(e),o(t),r,i,s,a);return a.delete(e),f;case g:if(Ke)return Ke.call(e)==Ke.call(t)}return!1}(e,t,y,n,r,i,s);if(!(1&n)){var C=k&&de.call(e,"__wrapped__"),S=_&&de.call(t,"__wrapped__");if(C||S){var M=C?e.value():e,T=S?t.value():t;return s||(s=new qe),i(M,T,n,r,s)}}if(!w)return!1;return s||(s=new qe),function(e,t,n,r,i,s){var a=1&n,o=gt(e),A=o.length,u=gt(t).length;if(A!=u&&!a)return!1;var l=A;for(;l--;){var c=o[l];if(!(a?c in t:de.call(t,c)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var h=!0;s.set(e,t),s.set(t,e);var f=a;for(;++l<A;){c=o[l];var p=e[c],E=t[c];if(r)var m=a?r(E,p,c,t,e,s):r(p,E,c,e,t,s);if(!(void 0===m?p===E||i(p,E,n,r,s):m)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,i,s)}(e,t,n,r,At,i))}function ut(e){return!(!zt(e)||(t=e,he&&he in t))&&(Yt(e)?pe:F).test(Qt(e));var t}function lt(e){return"function"==typeof e?e:null==e?An:"object"==s(e)?jt(e)?function(e,t){if(Mt(e)&&bt(t))return Ut(Rt(e),t);return function(n){var r=rn(n,e);return void 0===r&&r===t?sn(n,e):At(t,r,3)}}(e[0],e[1]):function(e){var t=function(e){var t=an(e),n=t.length;for(;n--;){var r=t[n],i=e[r];t[n]=[r,i,bt(i)]}return t}(e);if(1==t.length&&t[0][2])return Ut(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){var A=(o=n[i])[0],u=e[A],l=o[1];if(a&&o[2]){if(void 0===u&&!(A in e))return!1}else{var c=new qe;if(r)var d=r(u,l,A,e,t,c);if(!(void 0===d?At(l,u,3,r,c):d))return!1}}return!0}(n,e,t)}}(e):ln(e)}function ct(e){if(!zt(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Tt(e),n=[];for(var r in e)("constructor"!=r||!t&&de.call(e,r))&&n.push(r);return n}function dt(e){if("string"==typeof e)return e;if(jt(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,dt)+"";if(qt(e))return Ve?Ve.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ht(e,t){return null==(e=function(e,t){return t.length<2?e:rt(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}(t,0,-1))}(e,t=ft(t,e)))||delete e[Rt(Lt(t))]}function ft(e,t){return jt(e)?e:Mt(e,t)?[e]:xt(nn(e))}function pt(e){var t=new e.constructor(e.byteLength);return new ge(t).set(new ge(e)),t}function Et(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],A=r?r(n[o],e[o],o,n,e):void 0;void 0===A&&(A=e[o]),i?tt(n,o,A):$e(n,o,A)}return n}function mt(e,t,n,r,i,s){var a=1&n,o=e.length,A=t.length;if(o!=A&&!(a&&A>o))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var l=-1,c=!0,d=2&n?new Je:void 0;for(s.set(e,t),s.set(t,e);++l<o;){var h=e[l],f=t[l];if(r)var p=a?r(f,h,l,t,e,s):r(h,f,l,e,t,s);if(void 0!==p){if(p)continue;c=!1;break}if(d){if(!te(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||i(h,e,n,r,s)))return d.push(t);var a}))){c=!1;break}}else if(h!==f&&!i(h,f,n,r,s)){c=!1;break}}return s.delete(e),s.delete(t),c}function gt(e){return it(e,an,_t)}function yt(e){return it(e,on,wt)}function Bt(){var e=Ye.iteratee||un;return e=e===un?lt:e,arguments.length?e(arguments[0],arguments[1]):e}function vt(e,t){var n,r,i=e.__data__;return("string"==(r=s(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function kt(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ut(n)?n:void 0}ze.prototype.clear=function(){this.__data__=He?He(null):{},this.size=0},ze.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ze.prototype.get=function(e){var t=this.__data__;if(He){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return de.call(t,e)?t[e]:void 0},ze.prototype.has=function(e){var t=this.__data__;return He?void 0!==t[e]:de.call(t,e)},ze.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=He&&void 0===t?"__lodash_hash_undefined__":t,this},We.prototype.clear=function(){this.__data__=[],this.size=0},We.prototype.delete=function(e){var t=this.__data__,n=et(t,e);return!(n<0)&&(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,!0)},We.prototype.get=function(e){var t=this.__data__,n=et(t,e);return n<0?void 0:t[n][1]},We.prototype.has=function(e){return et(this.__data__,e)>-1},We.prototype.set=function(e,t){var n=this.__data__,r=et(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xe.prototype.clear=function(){this.size=0,this.__data__={hash:new ze,map:new(Re||We),string:new ze}},Xe.prototype.delete=function(e){var t=vt(this,e).delete(e);return this.size-=t?1:0,t},Xe.prototype.get=function(e){return vt(this,e).get(e)},Xe.prototype.has=function(e){return vt(this,e).has(e)},Xe.prototype.set=function(e,t){var n=vt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Je.prototype.add=Je.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Je.prototype.has=function(e){return this.__data__.has(e)},qe.prototype.clear=function(){this.__data__=new We,this.size=0},qe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qe.prototype.get=function(e){return this.__data__.get(e)},qe.prototype.has=function(e){return this.__data__.has(e)},qe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof We){var r=n.__data__;if(!Re||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xe(r)}return n.set(e,t),this.size=n.size,this};var _t=Se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}(Se(e),(function(t){return ke.call(e,t)})))}:cn,wt=Se?function(e){for(var t=[];e;)ee(t,_t(e)),e=Be(e);return t}:cn,Ct=st;function St(e,t){var n=s(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&O.test(e))&&e>-1&&e%1==0&&e<t}function Mt(e,t){if(jt(e))return!1;var n=s(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!qt(e))||(U.test(e)||!b.test(e)||null!=t&&e in Object(t))}function Tt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ue)}function bt(e){return e==e&&!zt(e)}function Ut(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(xe&&Ct(new xe(new ArrayBuffer(1)))!=B||Re&&Ct(new Re)!=d||Qe&&"[object Promise]"!=Ct(Qe.resolve())||Pe&&Ct(new Pe)!=E||Le&&Ct(new Le)!=y)&&(Ct=function(e){var t=st(e),n=t==f?e.constructor:void 0,r=n?Qt(n):"";if(r)switch(r){case Fe:return B;case Ie:return d;case Oe:return"[object Promise]";case Ne:return E;case De:return y}return t});var xt=function(e){var t=Ot(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(x,(function(e,n,r,i){t.push(r?i.replace(Q,"$1"):n||e)})),t}));function Rt(e){if("string"==typeof e||qt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qt(e){if(null!=e){try{return ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pt(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=en(n),i=n<0?be(r+i,0):Ue(i,r-1)),function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,Bt(t,3),i,!0)}function Lt(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ht,Ft=(Ht=Pt,function(e,t,n){var r=Object(e);if(!Kt(e)){var i=Bt(t,3);e=an(e),t=function(e){return i(r[e],e,r)}}var s=Ht(e,t,n);return s>-1?r[i?e[s]:s]:void 0}),It=function(){return Y.Date.now()};function Ot(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Ot.Cache||Xe),n}function Nt(e,t){return e===t||e!=e&&t!=t}Ot.Cache=Xe;var Dt=ot(function(){return arguments}())?ot:function(e){return Wt(e)&&de.call(e,"callee")&&!ke.call(e,"callee")},jt=Array.isArray;function Kt(e){return null!=e&&Gt(e.length)&&!Yt(e)}var Vt=Me||dn;function Yt(e){if(!zt(e))return!1;var t=st(e);return t==l||t==c||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function zt(e){var t=s(e);return null!=e&&("object"==t||"function"==t)}function Wt(e){return null!=e&&"object"==s(e)}var Xt=q?ne(q):function(e){return Wt(e)&&Ct(e)==d},Jt=Z?ne(Z):function(e){return Wt(e)&&Ct(e)==E};function qt(e){return"symbol"==s(e)||Wt(e)&&st(e)==g}var Zt=$?ne($):function(e){return Wt(e)&&Gt(e.length)&&!!N[st(e)]};function $t(e){return e?(e=tn(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function en(e){var t=$t(e),n=t%1;return t==t?n?t-n:t:0}function tn(e){if("number"==typeof e)return e;if(qt(e))return NaN;if(zt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(R,"");var n=H.test(e);return n||I.test(e)?j(e.slice(2),n?2:8):L.test(e)?NaN:+e}function nn(e){return null==e?"":dt(e)}function rn(e,t,n){var r=null==e?void 0:rt(e,t);return void 0===r?n:r}function sn(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=ft(t,e)).length,s=!1;++r<i;){var a=Rt(t[r]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Gt(i)&&St(a,i)&&(jt(e)||Dt(e))}(e,t,at)}function an(e){return Kt(e)?Ze(e):function(e){if(!Tt(e))return Te(e);var t=[];for(var n in Object(e))de.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function on(e){return Kt(e)?Ze(e,!0):ct(e)}function An(e){return e}function un(e){return lt("function"==typeof e?e:nt(e,1))}function ln(e){return Mt(e)?(t=Rt(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return rt(t,e)}}(e);var t}function cn(){return[]}function dn(){return!1}Ye.debounce=function(e,t,n){var r,i,s,a,o,A,u=0,l=!1,c=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,s=i;return r=i=void 0,u=t,a=e.apply(s,n)}function f(e){return u=e,o=setTimeout(E,t),l?h(e):a}function p(e){var n=e-A;return void 0===A||n>=t||n<0||c&&e-u>=s}function E(){var e=It();if(p(e))return m(e);o=setTimeout(E,function(e){var n=t-(e-A);return c?Ue(n,s-(e-u)):n}(e))}function m(e){return o=void 0,d&&r?h(e):(r=i=void 0,a)}function g(){var e=It(),n=p(e);if(r=arguments,i=this,A=e,n){if(void 0===o)return f(A);if(c)return o=setTimeout(E,t),h(A)}return void 0===o&&(o=setTimeout(E,t)),a}return t=tn(t)||0,zt(n)&&(l=!!n.leading,s=(c="maxWait"in n)?be(tn(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=A=i=o=void 0},g.flush=function(){return void 0===o?a:m(It())},g},Ye.iteratee=un,Ye.keys=an,Ye.keysIn=on,Ye.memoize=Ot,Ye.property=ln,Ye.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=Bt(t,3);++r<s;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;St(i)?_e.call(e,i,1):ht(e,i)}}}(e,i),n},Ye.cloneDeep=function(e){return nt(e,5)},Ye.eq=Nt,Ye.findLast=Ft,Ye.findLastIndex=Pt,Ye.get=rn,Ye.hasIn=sn,Ye.identity=An,Ye.isArguments=Dt,Ye.isArray=jt,Ye.isArrayLike=Kt,Ye.isBuffer=Vt,Ye.isFunction=Yt,Ye.isLength=Gt,Ye.isMap=Xt,Ye.isObject=zt,Ye.isObjectLike=Wt,Ye.isSet=Jt,Ye.isSymbol=qt,Ye.isTypedArray=Zt,Ye.last=Lt,Ye.stubArray=cn,Ye.stubFalse=dn,Ye.now=It,Ye.toFinite=$t,Ye.toInteger=en,Ye.toNumber=tn,Ye.toString=nn,Ye.VERSION="4.17.5","object"==s(n(/*! !webpack amd options */"./node_modules/webpack/buildin/amd-options.js"))&&n(/*! !webpack amd options */"./node_modules/webpack/buildin/amd-options.js")&&(void 0===(i=function(){return Ye}.call(t,n,t,r))||(r.exports=i))}).call(this)}).call(this,n(/*! ./../../../../node_modules/webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"),n(/*! ./../../../../node_modules/webpack/buildin/module.js */"./node_modules/webpack/buildin/module.js")(e))},"./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js":
/*!***************************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js ***!
  \***************************************************************************/
/*! no static exports found */function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,s){var a=e.ownerDocument,o=a.defaultView||a.parentWindow;if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var A=s&&s.debug||!1;if(A){var u=a.querySelector("#input-textarea-caret-position-mirror-div");u&&u.parentNode.removeChild(u)}var l=a.createElement("div");l.id="input-textarea-caret-position-mirror-div",a.body.appendChild(l);var c=l.style,d=o.getComputedStyle?o.getComputedStyle(e):e.currentStyle,h="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",h||(c.wordWrap="break-word"),c.position="absolute",A||(c.visibility="hidden"),t.forEach((function(e){h&&"lineHeight"===e?c.lineHeight=d.height:c[e]=d[e]})),r?e.scrollHeight>parseInt(d.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,i),h&&(l.textContent=l.textContent.replace(/\s/g," "));var f=a.createElement("span");f.textContent=e.value.substring(i)||".",l.appendChild(f);var p={top:f.offsetTop+parseInt(d.borderTopWidth),left:f.offsetLeft+parseInt(d.borderLeftWidth),height:parseInt(d.lineHeight)};return A?f.style.backgroundColor="#aaa":a.body.removeChild(l),p}void 0!==e.exports?e.exports=i:n&&(_window.getCaretCoordinates=i)}()},"./extensions/BimMarkups/UI/MarkupsUI.js":
/*!***********************************************!*\
  !*** ./extensions/BimMarkups/UI/MarkupsUI.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(/*! ../MarkupsEvents */"./extensions/BimMarkups/MarkupsEvents.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=Autodesk.Viewing,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t.viewer,this.setGlobalManager(t.globalManager),this.options=t.options,this.markupsExtension=t,this.createUI()}var t,n,s;return t=e,(n=[{key:"createUI",value:function(){var e=this.options.uiClasses;if(e){var t=this.getDocument();this.uiContainer=t.createElement("div"),this.uiContainer.id="MarkupsUI_Container",this.uiContainer.className="MarkupsUI_Container",this.viewer.container.appendChild(this.uiContainer);var n=e.ToolbarClass;this.toolbar=n&&new n(this.markupsExtension,this.uiContainer,this.viewer,this.options);var r=e.CreationToastClass;this.creationToast=r&&new r(this.markupsExtension,this.uiContainer,this.viewer,this.options);var i=e.ContextualMenuClass;this.contextualMenu=i&&new i(this.markupsExtension,this.uiContainer,this.viewer,this.options);var s=e.AttachmentsPreviewPanelClass;this.attachmentsPreviewPanel=s&&new s(this.markupsExtension,this.uiContainer,this.viewer,this.options);var a=e.MarkupsDialogModalsClass;if(this.MarkupsDialogModals=a&&new a(this.markupsExtension,this.uiContainer,this.viewer,this.options),this.viewer.impl.is2d){var o=e.MarkupsVisibilityButtonClass;this.markupsVisibilityButton=o&&new o(this.markupsExtension,this.uiContainer,this.viewer,this.options)}else{var A=e.ExitMarkupViewClass;this.exitMarkupView=A&&new A(this.markupsExtension,this.uiContainer,this.viewer,this.options)}this.registerEventListeners()}}},{key:"destroy",value:function(){this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),this.creationToast&&(this.creationToast.destroy(),this.creationToast=null),this.contextualMenu&&(this.contextualMenu.destroy(),this.contextualMenu=null),this.attachmentsPreviewPanel&&(this.attachmentsPreviewPanel.destroy(),this.attachmentsPreviewPanel=null),this.markupsVisibilityButton&&(this.markupsVisibilityButton.destroy(),this.markupsVisibilityButton=null),this.exitMarkupView&&(this.exitMarkupView.destroy(),this.exitMarkupView=null),this.unregisterEventListeners(),this.uiContainer&&(this.viewer.container.removeChild(this.uiContainer),this.uiContainer=null),this.markupsExtension=null,this.viewer=null,this.options=null}},{key:"registerEventListeners",value:function(){this.onSessionStartBinded=this.onSessionStart.bind(this),this.onSessionEndBinded=this.onSessionEnd.bind(this),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.onSessionStartBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.onSessionEndBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_SELECTED,this.onSessionStartBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.LAYER_DESELECTED,this.onSessionEndBinded),this.markupsExtension.markupsManager.addEventListener(r.MARKUPS_EVENTS.MARKUP_CREATION_TYPE_CHANGED,this.onSessionStartBinded)}},{key:"unregisterEventListeners",value:function(){this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_START,this.onSessionStartBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_SESSION_END,this.onSessionEndBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_SELECTED,this.onSessionStartBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.LAYER_DESELECTED,this.onSessionEndBinded),this.markupsExtension.markupsManager.removeEventListener(r.MARKUPS_EVENTS.MARKUP_CREATION_TYPE_CHANGED,this.onSessionStartBinded)}},{key:"onSessionStart",value:function(){this.selectNavigationButton(null),this.viewer.impl.is2d&&this.handleNavButtonEvents(!0)}},{key:"onSessionEnd",value:function(){this.viewer.impl.is2d&&this.handleNavButtonEvents(!1),this.selectNavigationButton(this.markupsExtension.markupsManager.navigationToolBackup)}},{key:"getNavigationControls",value:function(){return this.viewer.getToolbar().getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID)._controls}},{key:"handleNavButtonEvents",value:function(e){var t=this;this.onNavButtonClickBinded=this.onNavButtonClick.bind(this);var n=this.getNavigationControls(),r=function(n){e?n.hasEventListener(Autodesk.Viewing.UI.Button.Event.CLICK,t.onNavButtonClickBinded)||n.addEventListener(Autodesk.Viewing.UI.Button.Event.CLICK,t.onNavButtonClickBinded):n.removeEventListener(Autodesk.Viewing.UI.Button.Event.CLICK,t.onNavButtonClickBinded)};n.forEach((function(e){r(e),e.subMenu&&e.subMenu._controls.forEach((function(e){r(e)}))}))}},{key:"onNavButtonClick",value:function(e){var t=this;this.getNavigationControls().forEach((function(n){n._id!==e.target._id?n.setState(Autodesk.Viewing.UI.Button.State.INACTIVE):n.getState()===Autodesk.Viewing.UI.Button.State.INACTIVE&&(t.markupsExtension.markupsManager.changeMarkupCreationType(null),n.setState(Autodesk.Viewing.UI.Button.State.ACTIVE),setTimeout((function(){t.markupsExtension.markupsManager.navigationToolBackup=t.viewer.getActiveNavigationTool()})))}))}},{key:"selectNavigationButton",value:function(e){var t=function(t){var n=-1!==t._id.toLowerCase().indexOf(e);t.setState(n?Autodesk.Viewing.UI.Button.State.ACTIVE:Autodesk.Viewing.UI.Button.State.INACTIVE)};this.getNavigationControls().forEach((function(e){t(e),e.subMenu&&e.subMenu._controls.forEach((function(e){t(e)}))}))}}])&&i(t.prototype,n),s&&i(t,s),e}();s.GlobalManagerMixin.call(a.prototype)},"./extensions/BimMarkups/Utils/ActionManager/Action.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ActionManager/Action.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return i}));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actionManager=t}var t,n,i;return t=e,(n=[{key:"execute",value:function(){this.actionManager.execute(this)}},{key:"undo",value:function(){}},{key:"redo",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}()},"./extensions/BimMarkups/Utils/ActionManager/ActionManager.js":
/*!********************************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ActionManager/ActionManager.js ***!
  \********************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(/*! ./Action */"./extensions/BimMarkups/Utils/ActionManager/Action.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,o(t).call(this))).undoStack=[],e.redoStack=[],e.isGroupOpen=!1,e.nextActionId=0,e}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,Autodesk.Viewing.EventDispatcher),n=t,(i=[{key:"execute",value:function(e){this.clearStack(this.redoStack),e.id=this.nextActionId,this.nextActionId+=1,e.redo(),this.isGroupOpen?this.group.push(e):this.undoStack.push(e),e.trigger=t.EXECUTE,this.notify(e)}},{key:"undo",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!==this.undoStack.length)if(this.isGroupOpen)console.warn("Cannot undo while action group is open!");else{var n=this.undoStack.pop();if(e&&this.redoStack.push(n),n instanceof r.default)n.undo();else for(var i=n.length-1;i>=0;i--)n[i].undo();n.trigger=t.UNDO,this.notify(n)}}},{key:"redo",value:function(){if(0!==this.redoStack.length)if(this.isGroupOpen)console.warn("Cannot redo while action group is open!");else{var e=this.redoStack.pop();if(this.undoStack.push(e),e instanceof r.default)e.redo();else for(var n=0;n<e.length;n++)e[n].redo();e.trigger=t.REDO,this.notify(e)}}},{key:"clear",value:function(){this.clearStack(this.undoStack),this.clearStack(this.redoStack),this.isGroupOpen=!1,this.group=[],this.notify([])}},{key:"clearStack",value:function(e){e.splice(0,e.length)}},{key:"isUndoStackEmpty",value:function(){return 0===this.undoStack.length}},{key:"isRedoStackEmpty",value:function(){return 0===this.redoStack.length}},{key:"notify",value:function(e){e=e instanceof r.default?[e]:e,this.dispatchEvent({type:t.HISTORY_CHANGED_EVENT,actionGroup:e,hasUndo:!this.isUndoStackEmpty(),hasRedo:!this.isRedoStackEmpty()})}},{key:"openActionGroup",value:function(){this.isGroupOpen?console.warn("Cannot open a new action group while another one is still open"):(this.group=[],this.undoStack.push(this.group),this.isGroupOpen=!0)}},{key:"closeActionGroup",value:function(){0===this.group.length&&this.undoStack.pop(),this.isGroupOpen=!1}}])&&s(n.prototype,i),u&&s(n,u),t}();u.HISTORY_CHANGED_EVENT="action-manager.history.changed.event",u.UNDO="action-manager.undo",u.REDO="action-manager.redo",u.EXECUTE="action-manager.execute"},"./extensions/BimMarkups/Utils/CameraUtils.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/Utils/CameraUtils.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./GeometryUtils */"./extensions/BimMarkups/Utils/GeometryUtils.js"),i={worldToClient:function(e,t,n){var r=new THREE.Vector4(t.x,t.y,t.z,1);return r.applyMatrix4(n.matrixWorldInverse),r.applyMatrix4(n.projectionMatrix),r.w>0&&(r.x/=r.w,r.y/=r.w,r.z/=r.w),e.impl.viewportToClient(r.x,r.y)},getCameraEyeVector:function(e){return e.target.clone().sub(e.position).normalize()},getCameraRightVector:function(e){var t=i.getCameraEyeVector(e);return(new THREE.Vector3).crossVectors(t,e.up).normalize()},getCameraUpVector:function(e){var t=i.getCameraRightVector(e),n=i.getCameraEyeVector(e);return(new THREE.Vector3).crossVectors(t,n).normalize()},getCameraRotation:function(e){return r.default.getSignedAngle(i.getCameraUpVector(e),new THREE.Vector3(0,1,0),i.getCameraEyeVector(e))}};t.default=i},"./extensions/BimMarkups/Utils/EventUtils.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/Utils/EventUtils.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={executeAfterExtensionLoaded:function(e,t,n){var r=e.getExtension(t);r?n(r):e.addEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT,(function r(i){i.extensionId===t&&(e.removeEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT,r),n(e.getExtension(t)))}))},executeAfterTransitionEnded:function(e,t){e.navigation.getRequestTransition()||e.navigation.getTransitionActive()?setTimeout((function(){e.navigation.getRequestTransition()||e.navigation.getTransitionActive()?e.addEventListener(Autodesk.Viewing.CAMERA_TRANSITION_COMPLETED,(function(){t()}),{once:!0}):t()}),1):t()},executeAfterGeometryLoaded:function(e,t){e.model&&e.model.isLoadDone()?t():e.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,t,{once:!0})}};t.default=r},"./extensions/BimMarkups/Utils/GeometryUtils.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/Utils/GeometryUtils.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={radiansToDegrees:function(e){return e*(180/Math.PI)},degreesToRadians:function(e){return e*(Math.PI/180)},applyRotation:function(e,t,n,r){e instanceof Array||(e=[e]),e.forEach((function(e){e.sub(n),e.applyAxisAngle(r,t),e.add(n)}))},getSignedAngle:function(e,t,n){var r=e.angleTo(t),i=e.clone().cross(t).normalize();return r*(n.dot(i)>0?1:-1)},swapBoundingBoxY:function(e){var t=[e.min.y,e.max.y];return e.max.y=t[0],e.min.y=t[1],e}};t.default=r},"./extensions/BimMarkups/Utils/LodashUtils.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/Utils/LodashUtils.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ../ThirdParty/lodash/lodash.custom */"./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js"),i={cloneDeep:function(e){return Object(r.cloneDeep)(e)},findLast:function(e,t){return Object(r.findLast)(e,t)},debounce:function(e,t,n){return Object(r.debounce)(e,t,n)},remove:function(e,t){return Object(r.remove)(e,t)}};t.default=i},"./extensions/BimMarkups/Utils/ModelUtils.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ModelUtils.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={getModelExtension:function(e){var t=e&&e.toLowerCase().match(/\.([a-z0-9]+)(\?|$)/);return t?t[1]:null}};t.default=r},"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/FrameRenderer.css":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/FrameRenderer.css ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,t,n){(e.exports=n(/*! ../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".markup-frames-container {\n  transform: translateZ(0);\n  left: 0;\n  top: 0;\n  position: absolute; }\n\n.markup-selection-frame-container {\n  display: none; }\n\n.markup-selection-frame-container.visible {\n  display: block; }\n\n.markup-selection-frame {\n  transform: translateZ(0);\n  position: absolute;\n  pointer-events: none; }\n\n.markup-selection-frame.fill {\n  display: none;\n  background-color: rgba(6, 150, 215, 0.05); }\n\n/* iOS devices won't update the border without it. */\n.markup-selection-frame.fill.ios,\n.markup-selection-frame.border.ios {\n  transform: translateZ(0);\n  -webkit-transform: rotateZ(0deg); }\n\n.markup-selection-frame.fill.visible {\n  display: block; }\n\n.markup-selection-frame.border {\n  background-color: rgba(6, 150, 215, 0.6); }\n\n.markup-selection-frame.segment {\n  display: none; }\n\n.markup-selection-frame.segment.visible {\n  display: block; }\n\n.markup-anchor {\n  transform: translateZ(0);\n  display: none;\n  position: absolute;\n  background: #FFFFFF;\n  box-shadow: 0 0 0 1px rgba(107, 120, 127, 0.7);\n  pointer-events: none;\n  border-radius: 20px;\n  z-index: 1; }\n\n.markup-anchor-fill.rectangle,\n.markup-anchor.rectangle {\n  border-radius: 0px; }\n\n.markup-anchor-fill {\n  display: none;\n  width: 100%;\n  margin: 1px;\n  border-radius: 20px;\n  background: #0696D7; }\n\n.markup-anchor-fill.visible {\n  display: block; }\n\n.markup-anchor.visible {\n  display: flex; }\n\n.rect-selector-frame {\n  transform: translateZ(0);\n  position: absolute;\n  pointer-events: none;\n  border: #222222 dashed 1px;\n  border-radius: 5px; }\n\n.rect-selector-frame.visible {\n  display: block; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/Links/LinksRenderer.css":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/Links/LinksRenderer.css ***!
  \************************************************************************************************************************/
/*! no static exports found */function(e,t,n){(e.exports=n(/*! ../../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.markup-links-container {\n  transform: translateZ(0);\n  left: 0;\n  top: 0;\n  position: absolute; }\n\n.link {\n  display: none;\n  position: absolute;\n  pointer-events: none;\n  z-index: 1; }\n\n.link.visible {\n  display: block; }\n\n.link.transparent {\n  opacity: 0.3; }\n\n/* Document attachment link */\n.link-document-attachment {\n  transform: translateZ(0);\n  display: block;\n  position: absolute;\n  text-align: center;\n  font-family: "Artifakt Element";\n  background-color: #0696D7;\n  border-radius: 10.5px;\n  color: white;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 19px;\n  height: 20px;\n  width: 40px; }\n\n.link-document-attachment:before {\n  font-family: "bimviewericon", sans-serif;\n  content: "\\E911";\n  font-size: 11px;\n  padding-right: 4px; }\n\n.link.selected .link-document-attachment {\n  background-color: #0584BD; }\n\n.link.hover .link-document-attachment {\n  background-color: #38ABDF; }\n\n.link.editable .link-document-attachment {\n  outline: 1px solid rgba(6, 150, 215, 0.6); }\n',""])},"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/RendererHelpers/TextRenderer.css":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/dist/cjs.js!./extensions/BimMarkups/RendererHelpers/TextRenderer.css ***!
  \*********************************************************************************************************************************/
/*! no static exports found */function(e,t,n){(e.exports=n(/*! ../../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".markup-text-container {\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: none; }\n\n.markup-text {\n  /* Optimization */\n  will-change: contents;\n  transform: translateZ(0);\n  text-rendering: geometricPrecision;\n  display: none;\n  position: absolute;\n  /* changing position to fixed solves the 'out of screen' text expansion, but cause the text be visible on top of other element */\n  pointer-events: none;\n  text-align: left;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  /* IE11 replacement for overflow-wrap */\n  outline: none;\n  -webkit-user-select: none;\n  user-select: none; }\n\n/* IE uses <p> tag elements instead of divs inside contentedible,\n   inherit style to mimic div style.\n   add min width to edge cases.\n*/\n.markup-text p {\n  display: block;\n  box-sizing: content-box;\n  font-weight: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  font-style: inherit;\n  word-wrap: inherit;\n  white-space: inherit;\n  line-height: inherit;\n  text-rendering: geometricPrecision;\n  -ms-text-size-adjust: 100%;\n  text-align: left;\n  margin: 0 0 0 0;\n  padding: 0 0 0 0;\n  user-select: text; }\n\n.markup-text.single-line br {\n  display: none; }\n\n.markup-text.visible {\n  display: block; }\n\n.markup-text-area {\n  pointer-events: all;\n  position: absolute;\n  z-index: 100; }\n",""])},"./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(s).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(r[s]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},"./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},"./node_modules/date-fns/add_days/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/add_days/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setDate(n.getDate()+i),n}},"./node_modules/date-fns/add_hours/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/add_hours/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_milliseconds/index.js */"./node_modules/date-fns/add_milliseconds/index.js");e.exports=function(e,t){var n=Number(t);return r(e,36e5*n)}},"./node_modules/date-fns/add_iso_years/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/add_iso_years/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),i=n(/*! ../set_iso_year/index.js */"./node_modules/date-fns/set_iso_year/index.js");e.exports=function(e,t){var n=Number(t);return i(e,r(e)+n)}},"./node_modules/date-fns/add_milliseconds/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/add_milliseconds/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e).getTime(),i=Number(t);return new Date(n+i)}},"./node_modules/date-fns/add_minutes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/add_minutes/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_milliseconds/index.js */"./node_modules/date-fns/add_milliseconds/index.js");e.exports=function(e,t){var n=Number(t);return r(e,6e4*n)}},"./node_modules/date-fns/add_months/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/add_months/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../get_days_in_month/index.js */"./node_modules/date-fns/get_days_in_month/index.js");e.exports=function(e,t){var n=r(e),s=Number(t),a=n.getMonth()+s,o=new Date(0);o.setFullYear(n.getFullYear(),a,1),o.setHours(0,0,0,0);var A=i(o);return n.setMonth(a,Math.min(A,n.getDate())),n}},"./node_modules/date-fns/add_quarters/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/add_quarters/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_months/index.js */"./node_modules/date-fns/add_months/index.js");e.exports=function(e,t){var n=Number(t);return r(e,3*n)}},"./node_modules/date-fns/add_seconds/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/add_seconds/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_milliseconds/index.js */"./node_modules/date-fns/add_milliseconds/index.js");e.exports=function(e,t){var n=Number(t);return r(e,1e3*n)}},"./node_modules/date-fns/add_weeks/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/add_weeks/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_days/index.js */"./node_modules/date-fns/add_days/index.js");e.exports=function(e,t){var n=Number(t);return r(e,7*n)}},"./node_modules/date-fns/add_years/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/add_years/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_months/index.js */"./node_modules/date-fns/add_months/index.js");e.exports=function(e,t){var n=Number(t);return r(e,12*n)}},"./node_modules/date-fns/are_ranges_overlapping/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/date-fns/are_ranges_overlapping/index.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t,n,i){var s=r(e).getTime(),a=r(t).getTime(),o=r(n).getTime(),A=r(i).getTime();if(s>a||o>A)throw new Error("The start of the range cannot be after the end of the range");return s<A&&o<a}},"./node_modules/date-fns/closest_index_to/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/closest_index_to/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,i,s=r(e).getTime();return t.forEach((function(e,t){var a=r(e),o=Math.abs(s-a.getTime());(void 0===n||o<i)&&(n=t,i=o)})),n}},"./node_modules/date-fns/closest_to/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/closest_to/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,i,s=r(e).getTime();return t.forEach((function(e){var t=r(e),a=Math.abs(s-t.getTime());(void 0===n||a<i)&&(n=t,i=a)})),n}},"./node_modules/date-fns/compare_asc/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/compare_asc/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e).getTime(),i=r(t).getTime();return n<i?-1:n>i?1:0}},"./node_modules/date-fns/compare_desc/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/compare_desc/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e).getTime(),i=r(t).getTime();return n>i?-1:n<i?1:0}},"./node_modules/date-fns/difference_in_calendar_days/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_days/index.js ***!
  \********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(e,t){var n=r(e),i=r(t),s=n.getTime()-6e4*n.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((s-a)/864e5)}},"./node_modules/date-fns/difference_in_calendar_iso_weeks/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_iso_weeks/index.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js");e.exports=function(e,t){var n=r(e),i=r(t),s=n.getTime()-6e4*n.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((s-a)/6048e5)}},"./node_modules/date-fns/difference_in_calendar_iso_years/index.js":
/*!*************************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_iso_years/index.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js");e.exports=function(e,t){return r(e)-r(t)}},"./node_modules/date-fns/difference_in_calendar_months/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_months/index.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},"./node_modules/date-fns/difference_in_calendar_quarters/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_quarters/index.js ***!
  \************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_quarter/index.js */"./node_modules/date-fns/get_quarter/index.js"),i=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=i(e),s=i(t);return 4*(n.getFullYear()-s.getFullYear())+(r(n)-r(s))}},"./node_modules/date-fns/difference_in_calendar_weeks/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_weeks/index.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_week/index.js */"./node_modules/date-fns/start_of_week/index.js");e.exports=function(e,t,n){var i=r(e,n),s=r(t,n),a=i.getTime()-6e4*i.getTimezoneOffset(),o=s.getTime()-6e4*s.getTimezoneOffset();return Math.round((a-o)/6048e5)}},"./node_modules/date-fns/difference_in_calendar_years/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_calendar_years/index.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getFullYear()-i.getFullYear()}},"./node_modules/date-fns/difference_in_days/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/date-fns/difference_in_days/index.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../difference_in_calendar_days/index.js */"./node_modules/date-fns/difference_in_calendar_days/index.js"),s=n(/*! ../compare_asc/index.js */"./node_modules/date-fns/compare_asc/index.js");e.exports=function(e,t){var n=r(e),a=r(t),o=s(n,a),A=Math.abs(i(n,a));return n.setDate(n.getDate()-o*A),o*(A-(s(n,a)===-o))}},"./node_modules/date-fns/difference_in_hours/index.js":
/*!************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_hours/index.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../difference_in_milliseconds/index.js */"./node_modules/date-fns/difference_in_milliseconds/index.js");e.exports=function(e,t){var n=r(e,t)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},"./node_modules/date-fns/difference_in_iso_years/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_iso_years/index.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../difference_in_calendar_iso_years/index.js */"./node_modules/date-fns/difference_in_calendar_iso_years/index.js"),s=n(/*! ../compare_asc/index.js */"./node_modules/date-fns/compare_asc/index.js"),a=n(/*! ../sub_iso_years/index.js */"./node_modules/date-fns/sub_iso_years/index.js");e.exports=function(e,t){var n=r(e),o=r(t),A=s(n,o),u=Math.abs(i(n,o));return n=a(n,A*u),A*(u-(s(n,o)===-A))}},"./node_modules/date-fns/difference_in_milliseconds/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_milliseconds/index.js ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()-i.getTime()}},"./node_modules/date-fns/difference_in_minutes/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_minutes/index.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../difference_in_milliseconds/index.js */"./node_modules/date-fns/difference_in_milliseconds/index.js");e.exports=function(e,t){var n=r(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},"./node_modules/date-fns/difference_in_months/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_months/index.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../difference_in_calendar_months/index.js */"./node_modules/date-fns/difference_in_calendar_months/index.js"),s=n(/*! ../compare_asc/index.js */"./node_modules/date-fns/compare_asc/index.js");e.exports=function(e,t){var n=r(e),a=r(t),o=s(n,a),A=Math.abs(i(n,a));return n.setMonth(n.getMonth()-o*A),o*(A-(s(n,a)===-o))}},"./node_modules/date-fns/difference_in_quarters/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_quarters/index.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../difference_in_months/index.js */"./node_modules/date-fns/difference_in_months/index.js");e.exports=function(e,t){var n=r(e,t)/3;return n>0?Math.floor(n):Math.ceil(n)}},"./node_modules/date-fns/difference_in_seconds/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_seconds/index.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../difference_in_milliseconds/index.js */"./node_modules/date-fns/difference_in_milliseconds/index.js");e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"./node_modules/date-fns/difference_in_weeks/index.js":
/*!************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_weeks/index.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../difference_in_days/index.js */"./node_modules/date-fns/difference_in_days/index.js");e.exports=function(e,t){var n=r(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}},"./node_modules/date-fns/difference_in_years/index.js":
/*!************************************************************!*\
  !*** ./node_modules/date-fns/difference_in_years/index.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../difference_in_calendar_years/index.js */"./node_modules/date-fns/difference_in_calendar_years/index.js"),s=n(/*! ../compare_asc/index.js */"./node_modules/date-fns/compare_asc/index.js");e.exports=function(e,t){var n=r(e),a=r(t),o=s(n,a),A=Math.abs(i(n,a));return n.setFullYear(n.getFullYear()-o*A),o*(A-(s(n,a)===-o))}},"./node_modules/date-fns/distance_in_words/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/distance_in_words/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../compare_desc/index.js */"./node_modules/date-fns/compare_desc/index.js"),i=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),s=n(/*! ../difference_in_seconds/index.js */"./node_modules/date-fns/difference_in_seconds/index.js"),a=n(/*! ../difference_in_months/index.js */"./node_modules/date-fns/difference_in_months/index.js"),o=n(/*! ../locale/en/index.js */"./node_modules/date-fns/locale/en/index.js");e.exports=function(e,t,n){var A=n||{},u=r(e,t),l=A.locale,c=o.distanceInWords.localize;l&&l.distanceInWords&&l.distanceInWords.localize&&(c=l.distanceInWords.localize);var d,h,f={addSuffix:Boolean(A.addSuffix),comparison:u};u>0?(d=i(e),h=i(t)):(d=i(t),h=i(e));var p,E=s(h,d),m=h.getTimezoneOffset()-d.getTimezoneOffset(),g=Math.round(E/60)-m;if(g<2)return A.includeSeconds?E<5?c("lessThanXSeconds",5,f):E<10?c("lessThanXSeconds",10,f):E<20?c("lessThanXSeconds",20,f):E<40?c("halfAMinute",null,f):c(E<60?"lessThanXMinutes":"xMinutes",1,f):0===g?c("lessThanXMinutes",1,f):c("xMinutes",g,f);if(g<45)return c("xMinutes",g,f);if(g<90)return c("aboutXHours",1,f);if(g<1440)return c("aboutXHours",Math.round(g/60),f);if(g<2520)return c("xDays",1,f);if(g<43200)return c("xDays",Math.round(g/1440),f);if(g<86400)return c("aboutXMonths",p=Math.round(g/43200),f);if((p=a(h,d))<12)return c("xMonths",Math.round(g/43200),f);var y=p%12,B=Math.floor(p/12);return y<3?c("aboutXYears",B,f):y<9?c("overXYears",B,f):c("almostXYears",B+1,f)}},"./node_modules/date-fns/distance_in_words_strict/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/date-fns/distance_in_words_strict/index.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../compare_desc/index.js */"./node_modules/date-fns/compare_desc/index.js"),i=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),s=n(/*! ../difference_in_seconds/index.js */"./node_modules/date-fns/difference_in_seconds/index.js"),a=n(/*! ../locale/en/index.js */"./node_modules/date-fns/locale/en/index.js");e.exports=function(e,t,n){var o=n||{},A=r(e,t),u=o.locale,l=a.distanceInWords.localize;u&&u.distanceInWords&&u.distanceInWords.localize&&(l=u.distanceInWords.localize);var c,d,h,f={addSuffix:Boolean(o.addSuffix),comparison:A};A>0?(c=i(e),d=i(t)):(c=i(t),d=i(e));var p=Math[o.partialMethod?String(o.partialMethod):"floor"],E=s(d,c),m=d.getTimezoneOffset()-c.getTimezoneOffset(),g=p(E/60)-m;if("s"===(h=o.unit?String(o.unit):g<1?"s":g<60?"m":g<1440?"h":g<43200?"d":g<525600?"M":"Y"))return l("xSeconds",E,f);if("m"===h)return l("xMinutes",g,f);if("h"===h)return l("xHours",p(g/60),f);if("d"===h)return l("xDays",p(g/1440),f);if("M"===h)return l("xMonths",p(g/43200),f);if("Y"===h)return l("xYears",p(g/525600),f);throw new Error("Unknown unit: "+h)}},"./node_modules/date-fns/distance_in_words_to_now/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/date-fns/distance_in_words_to_now/index.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../distance_in_words/index.js */"./node_modules/date-fns/distance_in_words/index.js");e.exports=function(e,t){return r(Date.now(),e,t)}},"./node_modules/date-fns/each_day/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/each_day/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t,n){var i=r(e),s=void 0!==n?n:1,a=r(t).getTime();if(i.getTime()>a)throw new Error("The first date cannot be after the second date");var o=[],A=i;for(A.setHours(0,0,0,0);A.getTime()<=a;)o.push(r(A)),A.setDate(A.getDate()+s);return o}},"./node_modules/date-fns/end_of_day/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/end_of_day/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setHours(23,59,59,999),t}},"./node_modules/date-fns/end_of_hour/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/end_of_hour/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setMinutes(59,59,999),t}},"./node_modules/date-fns/end_of_iso_week/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/end_of_iso_week/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../end_of_week/index.js */"./node_modules/date-fns/end_of_week/index.js");e.exports=function(e){return r(e,{weekStartsOn:1})}},"./node_modules/date-fns/end_of_iso_year/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/end_of_iso_year/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),i=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js");e.exports=function(e){var t=r(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var s=i(n);return s.setMilliseconds(s.getMilliseconds()-1),s}},"./node_modules/date-fns/end_of_minute/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/end_of_minute/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setSeconds(59,999),t}},"./node_modules/date-fns/end_of_month/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/end_of_month/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},"./node_modules/date-fns/end_of_quarter/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/end_of_quarter/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getMonth(),i=n-n%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}},"./node_modules/date-fns/end_of_second/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/end_of_second/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setMilliseconds(999),t}},"./node_modules/date-fns/end_of_today/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/end_of_today/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../end_of_day/index.js */"./node_modules/date-fns/end_of_day/index.js");e.exports=function(){return r(new Date)}},"./node_modules/date-fns/end_of_tomorrow/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/end_of_tomorrow/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(23,59,59,999),i}},"./node_modules/date-fns/end_of_week/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/end_of_week/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,i=r(e),s=i.getDay(),a=6+(s<n?-7:0)-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}},"./node_modules/date-fns/end_of_year/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/end_of_year/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},"./node_modules/date-fns/end_of_yesterday/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/end_of_yesterday/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(23,59,59,999),i}},"./node_modules/date-fns/format/index.js":
/*!***********************************************!*\
  !*** ./node_modules/date-fns/format/index.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_day_of_year/index.js */"./node_modules/date-fns/get_day_of_year/index.js"),i=n(/*! ../get_iso_week/index.js */"./node_modules/date-fns/get_iso_week/index.js"),s=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),a=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),o=n(/*! ../is_valid/index.js */"./node_modules/date-fns/is_valid/index.js"),A=n(/*! ../locale/en/index.js */"./node_modules/date-fns/locale/en/index.js");var u={M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return d(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return d(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return i(e)},WW:function(e){return d(i(e),2)},YY:function(e){return d(e.getFullYear(),4).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},GG:function(e){return String(s(e)).substr(2)},GGGG:function(e){return s(e)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return d(u.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return d(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},Z:function(e){return c(e.getTimezoneOffset(),":")},ZZ:function(e){return c(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function l(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function c(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),i=r%60;return n+d(Math.floor(r/60),2)+t+d(i,2)}function d(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,s=A.format.formatters,c=A.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(s=i.format.formatters,i.format.formattingTokensRegExp&&(c=i.format.formattingTokensRegExp));var d=a(e);return o(d)?function(e,t,n){var r,i,s=e.match(n),a=s.length;for(r=0;r<a;r++)i=t[s[r]]||u[s[r]],s[r]=i||l(s[r]);return function(e){for(var t="",n=0;n<a;n++)s[n]instanceof Function?t+=s[n](e,u):t+=s[n];return t}}(r,s,c)(d):"Invalid Date"}},"./node_modules/date-fns/get_date/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/get_date/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getDate()}},"./node_modules/date-fns/get_day/index.js":
/*!************************************************!*\
  !*** ./node_modules/date-fns/get_day/index.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getDay()}},"./node_modules/date-fns/get_day_of_year/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/get_day_of_year/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../start_of_year/index.js */"./node_modules/date-fns/start_of_year/index.js"),s=n(/*! ../difference_in_calendar_days/index.js */"./node_modules/date-fns/difference_in_calendar_days/index.js");e.exports=function(e){var t=r(e);return s(t,i(t))+1}},"./node_modules/date-fns/get_days_in_month/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/get_days_in_month/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getFullYear(),i=t.getMonth(),s=new Date(0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}},"./node_modules/date-fns/get_days_in_year/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/get_days_in_year/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_leap_year/index.js */"./node_modules/date-fns/is_leap_year/index.js");e.exports=function(e){return r(e)?366:365}},"./node_modules/date-fns/get_hours/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/get_hours/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getHours()}},"./node_modules/date-fns/get_iso_day/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/get_iso_day/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e).getDay();return 0===t&&(t=7),t}},"./node_modules/date-fns/get_iso_week/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/get_iso_week/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js"),s=n(/*! ../start_of_iso_year/index.js */"./node_modules/date-fns/start_of_iso_year/index.js");e.exports=function(e){var t=r(e),n=i(t).getTime()-s(t).getTime();return Math.round(n/6048e5)+1}},"./node_modules/date-fns/get_iso_weeks_in_year/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/date-fns/get_iso_weeks_in_year/index.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_iso_year/index.js */"./node_modules/date-fns/start_of_iso_year/index.js"),i=n(/*! ../add_weeks/index.js */"./node_modules/date-fns/add_weeks/index.js");e.exports=function(e){var t=r(e),n=r(i(t,60)).valueOf()-t.valueOf();return Math.round(n/6048e5)}},"./node_modules/date-fns/get_iso_year/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/get_iso_year/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js");e.exports=function(e){var t=r(e),n=t.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var a=i(s),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var A=i(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=A.getTime()?n:n-1}},"./node_modules/date-fns/get_milliseconds/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/get_milliseconds/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getMilliseconds()}},"./node_modules/date-fns/get_minutes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/get_minutes/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getMinutes()}},"./node_modules/date-fns/get_month/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/get_month/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getMonth()}},"./node_modules/date-fns/get_overlapping_days_in_ranges/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/date-fns/get_overlapping_days_in_ranges/index.js ***!
  \***********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t,n,i){var s=r(e).getTime(),a=r(t).getTime(),o=r(n).getTime(),A=r(i).getTime();if(s>a||o>A)throw new Error("The start of the range cannot be after the end of the range");if(!(s<A&&o<a))return 0;var u=(A>a?a:A)-(o<s?s:o);return Math.ceil(u/864e5)}},"./node_modules/date-fns/get_quarter/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/get_quarter/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return Math.floor(t.getMonth()/3)+1}},"./node_modules/date-fns/get_seconds/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/get_seconds/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getSeconds()}},"./node_modules/date-fns/get_time/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/get_time/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getTime()}},"./node_modules/date-fns/get_year/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/get_year/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getFullYear()}},"./node_modules/date-fns/index.js":
/*!****************************************!*\
  !*** ./node_modules/date-fns/index.js ***!
  \****************************************/
/*! no static exports found */function(e,t,n){e.exports={addDays:n(/*! ./add_days/index.js */"./node_modules/date-fns/add_days/index.js"),addHours:n(/*! ./add_hours/index.js */"./node_modules/date-fns/add_hours/index.js"),addISOYears:n(/*! ./add_iso_years/index.js */"./node_modules/date-fns/add_iso_years/index.js"),addMilliseconds:n(/*! ./add_milliseconds/index.js */"./node_modules/date-fns/add_milliseconds/index.js"),addMinutes:n(/*! ./add_minutes/index.js */"./node_modules/date-fns/add_minutes/index.js"),addMonths:n(/*! ./add_months/index.js */"./node_modules/date-fns/add_months/index.js"),addQuarters:n(/*! ./add_quarters/index.js */"./node_modules/date-fns/add_quarters/index.js"),addSeconds:n(/*! ./add_seconds/index.js */"./node_modules/date-fns/add_seconds/index.js"),addWeeks:n(/*! ./add_weeks/index.js */"./node_modules/date-fns/add_weeks/index.js"),addYears:n(/*! ./add_years/index.js */"./node_modules/date-fns/add_years/index.js"),areRangesOverlapping:n(/*! ./are_ranges_overlapping/index.js */"./node_modules/date-fns/are_ranges_overlapping/index.js"),closestIndexTo:n(/*! ./closest_index_to/index.js */"./node_modules/date-fns/closest_index_to/index.js"),closestTo:n(/*! ./closest_to/index.js */"./node_modules/date-fns/closest_to/index.js"),compareAsc:n(/*! ./compare_asc/index.js */"./node_modules/date-fns/compare_asc/index.js"),compareDesc:n(/*! ./compare_desc/index.js */"./node_modules/date-fns/compare_desc/index.js"),differenceInCalendarDays:n(/*! ./difference_in_calendar_days/index.js */"./node_modules/date-fns/difference_in_calendar_days/index.js"),differenceInCalendarISOWeeks:n(/*! ./difference_in_calendar_iso_weeks/index.js */"./node_modules/date-fns/difference_in_calendar_iso_weeks/index.js"),differenceInCalendarISOYears:n(/*! ./difference_in_calendar_iso_years/index.js */"./node_modules/date-fns/difference_in_calendar_iso_years/index.js"),differenceInCalendarMonths:n(/*! ./difference_in_calendar_months/index.js */"./node_modules/date-fns/difference_in_calendar_months/index.js"),differenceInCalendarQuarters:n(/*! ./difference_in_calendar_quarters/index.js */"./node_modules/date-fns/difference_in_calendar_quarters/index.js"),differenceInCalendarWeeks:n(/*! ./difference_in_calendar_weeks/index.js */"./node_modules/date-fns/difference_in_calendar_weeks/index.js"),differenceInCalendarYears:n(/*! ./difference_in_calendar_years/index.js */"./node_modules/date-fns/difference_in_calendar_years/index.js"),differenceInDays:n(/*! ./difference_in_days/index.js */"./node_modules/date-fns/difference_in_days/index.js"),differenceInHours:n(/*! ./difference_in_hours/index.js */"./node_modules/date-fns/difference_in_hours/index.js"),differenceInISOYears:n(/*! ./difference_in_iso_years/index.js */"./node_modules/date-fns/difference_in_iso_years/index.js"),differenceInMilliseconds:n(/*! ./difference_in_milliseconds/index.js */"./node_modules/date-fns/difference_in_milliseconds/index.js"),differenceInMinutes:n(/*! ./difference_in_minutes/index.js */"./node_modules/date-fns/difference_in_minutes/index.js"),differenceInMonths:n(/*! ./difference_in_months/index.js */"./node_modules/date-fns/difference_in_months/index.js"),differenceInQuarters:n(/*! ./difference_in_quarters/index.js */"./node_modules/date-fns/difference_in_quarters/index.js"),differenceInSeconds:n(/*! ./difference_in_seconds/index.js */"./node_modules/date-fns/difference_in_seconds/index.js"),differenceInWeeks:n(/*! ./difference_in_weeks/index.js */"./node_modules/date-fns/difference_in_weeks/index.js"),differenceInYears:n(/*! ./difference_in_years/index.js */"./node_modules/date-fns/difference_in_years/index.js"),distanceInWords:n(/*! ./distance_in_words/index.js */"./node_modules/date-fns/distance_in_words/index.js"),distanceInWordsStrict:n(/*! ./distance_in_words_strict/index.js */"./node_modules/date-fns/distance_in_words_strict/index.js"),distanceInWordsToNow:n(/*! ./distance_in_words_to_now/index.js */"./node_modules/date-fns/distance_in_words_to_now/index.js"),eachDay:n(/*! ./each_day/index.js */"./node_modules/date-fns/each_day/index.js"),endOfDay:n(/*! ./end_of_day/index.js */"./node_modules/date-fns/end_of_day/index.js"),endOfHour:n(/*! ./end_of_hour/index.js */"./node_modules/date-fns/end_of_hour/index.js"),endOfISOWeek:n(/*! ./end_of_iso_week/index.js */"./node_modules/date-fns/end_of_iso_week/index.js"),endOfISOYear:n(/*! ./end_of_iso_year/index.js */"./node_modules/date-fns/end_of_iso_year/index.js"),endOfMinute:n(/*! ./end_of_minute/index.js */"./node_modules/date-fns/end_of_minute/index.js"),endOfMonth:n(/*! ./end_of_month/index.js */"./node_modules/date-fns/end_of_month/index.js"),endOfQuarter:n(/*! ./end_of_quarter/index.js */"./node_modules/date-fns/end_of_quarter/index.js"),endOfSecond:n(/*! ./end_of_second/index.js */"./node_modules/date-fns/end_of_second/index.js"),endOfToday:n(/*! ./end_of_today/index.js */"./node_modules/date-fns/end_of_today/index.js"),endOfTomorrow:n(/*! ./end_of_tomorrow/index.js */"./node_modules/date-fns/end_of_tomorrow/index.js"),endOfWeek:n(/*! ./end_of_week/index.js */"./node_modules/date-fns/end_of_week/index.js"),endOfYear:n(/*! ./end_of_year/index.js */"./node_modules/date-fns/end_of_year/index.js"),endOfYesterday:n(/*! ./end_of_yesterday/index.js */"./node_modules/date-fns/end_of_yesterday/index.js"),format:n(/*! ./format/index.js */"./node_modules/date-fns/format/index.js"),getDate:n(/*! ./get_date/index.js */"./node_modules/date-fns/get_date/index.js"),getDay:n(/*! ./get_day/index.js */"./node_modules/date-fns/get_day/index.js"),getDayOfYear:n(/*! ./get_day_of_year/index.js */"./node_modules/date-fns/get_day_of_year/index.js"),getDaysInMonth:n(/*! ./get_days_in_month/index.js */"./node_modules/date-fns/get_days_in_month/index.js"),getDaysInYear:n(/*! ./get_days_in_year/index.js */"./node_modules/date-fns/get_days_in_year/index.js"),getHours:n(/*! ./get_hours/index.js */"./node_modules/date-fns/get_hours/index.js"),getISODay:n(/*! ./get_iso_day/index.js */"./node_modules/date-fns/get_iso_day/index.js"),getISOWeek:n(/*! ./get_iso_week/index.js */"./node_modules/date-fns/get_iso_week/index.js"),getISOWeeksInYear:n(/*! ./get_iso_weeks_in_year/index.js */"./node_modules/date-fns/get_iso_weeks_in_year/index.js"),getISOYear:n(/*! ./get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),getMilliseconds:n(/*! ./get_milliseconds/index.js */"./node_modules/date-fns/get_milliseconds/index.js"),getMinutes:n(/*! ./get_minutes/index.js */"./node_modules/date-fns/get_minutes/index.js"),getMonth:n(/*! ./get_month/index.js */"./node_modules/date-fns/get_month/index.js"),getOverlappingDaysInRanges:n(/*! ./get_overlapping_days_in_ranges/index.js */"./node_modules/date-fns/get_overlapping_days_in_ranges/index.js"),getQuarter:n(/*! ./get_quarter/index.js */"./node_modules/date-fns/get_quarter/index.js"),getSeconds:n(/*! ./get_seconds/index.js */"./node_modules/date-fns/get_seconds/index.js"),getTime:n(/*! ./get_time/index.js */"./node_modules/date-fns/get_time/index.js"),getYear:n(/*! ./get_year/index.js */"./node_modules/date-fns/get_year/index.js"),isAfter:n(/*! ./is_after/index.js */"./node_modules/date-fns/is_after/index.js"),isBefore:n(/*! ./is_before/index.js */"./node_modules/date-fns/is_before/index.js"),isDate:n(/*! ./is_date/index.js */"./node_modules/date-fns/is_date/index.js"),isEqual:n(/*! ./is_equal/index.js */"./node_modules/date-fns/is_equal/index.js"),isFirstDayOfMonth:n(/*! ./is_first_day_of_month/index.js */"./node_modules/date-fns/is_first_day_of_month/index.js"),isFriday:n(/*! ./is_friday/index.js */"./node_modules/date-fns/is_friday/index.js"),isFuture:n(/*! ./is_future/index.js */"./node_modules/date-fns/is_future/index.js"),isLastDayOfMonth:n(/*! ./is_last_day_of_month/index.js */"./node_modules/date-fns/is_last_day_of_month/index.js"),isLeapYear:n(/*! ./is_leap_year/index.js */"./node_modules/date-fns/is_leap_year/index.js"),isMonday:n(/*! ./is_monday/index.js */"./node_modules/date-fns/is_monday/index.js"),isPast:n(/*! ./is_past/index.js */"./node_modules/date-fns/is_past/index.js"),isSameDay:n(/*! ./is_same_day/index.js */"./node_modules/date-fns/is_same_day/index.js"),isSameHour:n(/*! ./is_same_hour/index.js */"./node_modules/date-fns/is_same_hour/index.js"),isSameISOWeek:n(/*! ./is_same_iso_week/index.js */"./node_modules/date-fns/is_same_iso_week/index.js"),isSameISOYear:n(/*! ./is_same_iso_year/index.js */"./node_modules/date-fns/is_same_iso_year/index.js"),isSameMinute:n(/*! ./is_same_minute/index.js */"./node_modules/date-fns/is_same_minute/index.js"),isSameMonth:n(/*! ./is_same_month/index.js */"./node_modules/date-fns/is_same_month/index.js"),isSameQuarter:n(/*! ./is_same_quarter/index.js */"./node_modules/date-fns/is_same_quarter/index.js"),isSameSecond:n(/*! ./is_same_second/index.js */"./node_modules/date-fns/is_same_second/index.js"),isSameWeek:n(/*! ./is_same_week/index.js */"./node_modules/date-fns/is_same_week/index.js"),isSameYear:n(/*! ./is_same_year/index.js */"./node_modules/date-fns/is_same_year/index.js"),isSaturday:n(/*! ./is_saturday/index.js */"./node_modules/date-fns/is_saturday/index.js"),isSunday:n(/*! ./is_sunday/index.js */"./node_modules/date-fns/is_sunday/index.js"),isThisHour:n(/*! ./is_this_hour/index.js */"./node_modules/date-fns/is_this_hour/index.js"),isThisISOWeek:n(/*! ./is_this_iso_week/index.js */"./node_modules/date-fns/is_this_iso_week/index.js"),isThisISOYear:n(/*! ./is_this_iso_year/index.js */"./node_modules/date-fns/is_this_iso_year/index.js"),isThisMinute:n(/*! ./is_this_minute/index.js */"./node_modules/date-fns/is_this_minute/index.js"),isThisMonth:n(/*! ./is_this_month/index.js */"./node_modules/date-fns/is_this_month/index.js"),isThisQuarter:n(/*! ./is_this_quarter/index.js */"./node_modules/date-fns/is_this_quarter/index.js"),isThisSecond:n(/*! ./is_this_second/index.js */"./node_modules/date-fns/is_this_second/index.js"),isThisWeek:n(/*! ./is_this_week/index.js */"./node_modules/date-fns/is_this_week/index.js"),isThisYear:n(/*! ./is_this_year/index.js */"./node_modules/date-fns/is_this_year/index.js"),isThursday:n(/*! ./is_thursday/index.js */"./node_modules/date-fns/is_thursday/index.js"),isToday:n(/*! ./is_today/index.js */"./node_modules/date-fns/is_today/index.js"),isTomorrow:n(/*! ./is_tomorrow/index.js */"./node_modules/date-fns/is_tomorrow/index.js"),isTuesday:n(/*! ./is_tuesday/index.js */"./node_modules/date-fns/is_tuesday/index.js"),isValid:n(/*! ./is_valid/index.js */"./node_modules/date-fns/is_valid/index.js"),isWednesday:n(/*! ./is_wednesday/index.js */"./node_modules/date-fns/is_wednesday/index.js"),isWeekend:n(/*! ./is_weekend/index.js */"./node_modules/date-fns/is_weekend/index.js"),isWithinRange:n(/*! ./is_within_range/index.js */"./node_modules/date-fns/is_within_range/index.js"),isYesterday:n(/*! ./is_yesterday/index.js */"./node_modules/date-fns/is_yesterday/index.js"),lastDayOfISOWeek:n(/*! ./last_day_of_iso_week/index.js */"./node_modules/date-fns/last_day_of_iso_week/index.js"),lastDayOfISOYear:n(/*! ./last_day_of_iso_year/index.js */"./node_modules/date-fns/last_day_of_iso_year/index.js"),lastDayOfMonth:n(/*! ./last_day_of_month/index.js */"./node_modules/date-fns/last_day_of_month/index.js"),lastDayOfQuarter:n(/*! ./last_day_of_quarter/index.js */"./node_modules/date-fns/last_day_of_quarter/index.js"),lastDayOfWeek:n(/*! ./last_day_of_week/index.js */"./node_modules/date-fns/last_day_of_week/index.js"),lastDayOfYear:n(/*! ./last_day_of_year/index.js */"./node_modules/date-fns/last_day_of_year/index.js"),max:n(/*! ./max/index.js */"./node_modules/date-fns/max/index.js"),min:n(/*! ./min/index.js */"./node_modules/date-fns/min/index.js"),parse:n(/*! ./parse/index.js */"./node_modules/date-fns/parse/index.js"),setDate:n(/*! ./set_date/index.js */"./node_modules/date-fns/set_date/index.js"),setDay:n(/*! ./set_day/index.js */"./node_modules/date-fns/set_day/index.js"),setDayOfYear:n(/*! ./set_day_of_year/index.js */"./node_modules/date-fns/set_day_of_year/index.js"),setHours:n(/*! ./set_hours/index.js */"./node_modules/date-fns/set_hours/index.js"),setISODay:n(/*! ./set_iso_day/index.js */"./node_modules/date-fns/set_iso_day/index.js"),setISOWeek:n(/*! ./set_iso_week/index.js */"./node_modules/date-fns/set_iso_week/index.js"),setISOYear:n(/*! ./set_iso_year/index.js */"./node_modules/date-fns/set_iso_year/index.js"),setMilliseconds:n(/*! ./set_milliseconds/index.js */"./node_modules/date-fns/set_milliseconds/index.js"),setMinutes:n(/*! ./set_minutes/index.js */"./node_modules/date-fns/set_minutes/index.js"),setMonth:n(/*! ./set_month/index.js */"./node_modules/date-fns/set_month/index.js"),setQuarter:n(/*! ./set_quarter/index.js */"./node_modules/date-fns/set_quarter/index.js"),setSeconds:n(/*! ./set_seconds/index.js */"./node_modules/date-fns/set_seconds/index.js"),setYear:n(/*! ./set_year/index.js */"./node_modules/date-fns/set_year/index.js"),startOfDay:n(/*! ./start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js"),startOfHour:n(/*! ./start_of_hour/index.js */"./node_modules/date-fns/start_of_hour/index.js"),startOfISOWeek:n(/*! ./start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js"),startOfISOYear:n(/*! ./start_of_iso_year/index.js */"./node_modules/date-fns/start_of_iso_year/index.js"),startOfMinute:n(/*! ./start_of_minute/index.js */"./node_modules/date-fns/start_of_minute/index.js"),startOfMonth:n(/*! ./start_of_month/index.js */"./node_modules/date-fns/start_of_month/index.js"),startOfQuarter:n(/*! ./start_of_quarter/index.js */"./node_modules/date-fns/start_of_quarter/index.js"),startOfSecond:n(/*! ./start_of_second/index.js */"./node_modules/date-fns/start_of_second/index.js"),startOfToday:n(/*! ./start_of_today/index.js */"./node_modules/date-fns/start_of_today/index.js"),startOfTomorrow:n(/*! ./start_of_tomorrow/index.js */"./node_modules/date-fns/start_of_tomorrow/index.js"),startOfWeek:n(/*! ./start_of_week/index.js */"./node_modules/date-fns/start_of_week/index.js"),startOfYear:n(/*! ./start_of_year/index.js */"./node_modules/date-fns/start_of_year/index.js"),startOfYesterday:n(/*! ./start_of_yesterday/index.js */"./node_modules/date-fns/start_of_yesterday/index.js"),subDays:n(/*! ./sub_days/index.js */"./node_modules/date-fns/sub_days/index.js"),subHours:n(/*! ./sub_hours/index.js */"./node_modules/date-fns/sub_hours/index.js"),subISOYears:n(/*! ./sub_iso_years/index.js */"./node_modules/date-fns/sub_iso_years/index.js"),subMilliseconds:n(/*! ./sub_milliseconds/index.js */"./node_modules/date-fns/sub_milliseconds/index.js"),subMinutes:n(/*! ./sub_minutes/index.js */"./node_modules/date-fns/sub_minutes/index.js"),subMonths:n(/*! ./sub_months/index.js */"./node_modules/date-fns/sub_months/index.js"),subQuarters:n(/*! ./sub_quarters/index.js */"./node_modules/date-fns/sub_quarters/index.js"),subSeconds:n(/*! ./sub_seconds/index.js */"./node_modules/date-fns/sub_seconds/index.js"),subWeeks:n(/*! ./sub_weeks/index.js */"./node_modules/date-fns/sub_weeks/index.js"),subYears:n(/*! ./sub_years/index.js */"./node_modules/date-fns/sub_years/index.js")}},"./node_modules/date-fns/is_after/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/is_after/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()>i.getTime()}},"./node_modules/date-fns/is_before/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/is_before/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()<i.getTime()}},"./node_modules/date-fns/is_date/index.js":
/*!************************************************!*\
  !*** ./node_modules/date-fns/is_date/index.js ***!
  \************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e instanceof Date}},"./node_modules/date-fns/is_equal/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/is_equal/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_first_day_of_month/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/date-fns/is_first_day_of_month/index.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 1===r(e).getDate()}},"./node_modules/date-fns/is_friday/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/is_friday/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 5===r(e).getDay()}},"./node_modules/date-fns/is_future/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/is_future/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getTime()>(new Date).getTime()}},"./node_modules/date-fns/is_last_day_of_month/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/date-fns/is_last_day_of_month/index.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../end_of_day/index.js */"./node_modules/date-fns/end_of_day/index.js"),s=n(/*! ../end_of_month/index.js */"./node_modules/date-fns/end_of_month/index.js");e.exports=function(e){var t=r(e);return i(t).getTime()===s(t).getTime()}},"./node_modules/date-fns/is_leap_year/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_leap_year/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},"./node_modules/date-fns/is_monday/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/is_monday/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 1===r(e).getDay()}},"./node_modules/date-fns/is_past/index.js":
/*!************************************************!*\
  !*** ./node_modules/date-fns/is_past/index.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return r(e).getTime()<(new Date).getTime()}},"./node_modules/date-fns/is_same_day/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/is_same_day/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_hour/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_same_hour/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_hour/index.js */"./node_modules/date-fns/start_of_hour/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_iso_week/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/is_same_iso_week/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_week/index.js */"./node_modules/date-fns/is_same_week/index.js");e.exports=function(e,t){return r(e,t,{weekStartsOn:1})}},"./node_modules/date-fns/is_same_iso_year/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/is_same_iso_year/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_iso_year/index.js */"./node_modules/date-fns/start_of_iso_year/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_minute/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/is_same_minute/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_minute/index.js */"./node_modules/date-fns/start_of_minute/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_month/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/is_same_month/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},"./node_modules/date-fns/is_same_quarter/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/is_same_quarter/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_quarter/index.js */"./node_modules/date-fns/start_of_quarter/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_second/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/is_same_second/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_second/index.js */"./node_modules/date-fns/start_of_second/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getTime()===i.getTime()}},"./node_modules/date-fns/is_same_week/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_same_week/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_week/index.js */"./node_modules/date-fns/start_of_week/index.js");e.exports=function(e,t,n){var i=r(e,n),s=r(t,n);return i.getTime()===s.getTime()}},"./node_modules/date-fns/is_same_year/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_same_year/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()}},"./node_modules/date-fns/is_saturday/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/is_saturday/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 6===r(e).getDay()}},"./node_modules/date-fns/is_sunday/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/is_sunday/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 0===r(e).getDay()}},"./node_modules/date-fns/is_this_hour/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_this_hour/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_hour/index.js */"./node_modules/date-fns/is_same_hour/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_iso_week/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/is_this_iso_week/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_iso_week/index.js */"./node_modules/date-fns/is_same_iso_week/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_iso_year/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/is_this_iso_year/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_iso_year/index.js */"./node_modules/date-fns/is_same_iso_year/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_minute/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/is_this_minute/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_minute/index.js */"./node_modules/date-fns/is_same_minute/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_month/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/is_this_month/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_month/index.js */"./node_modules/date-fns/is_same_month/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_quarter/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/is_this_quarter/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_quarter/index.js */"./node_modules/date-fns/is_same_quarter/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_second/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/is_this_second/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_second/index.js */"./node_modules/date-fns/is_same_second/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_this_week/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_this_week/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_week/index.js */"./node_modules/date-fns/is_same_week/index.js");e.exports=function(e,t){return r(new Date,e,t)}},"./node_modules/date-fns/is_this_year/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_this_year/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_same_year/index.js */"./node_modules/date-fns/is_same_year/index.js");e.exports=function(e){return r(new Date,e)}},"./node_modules/date-fns/is_thursday/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/is_thursday/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 4===r(e).getDay()}},"./node_modules/date-fns/is_today/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/is_today/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(e){return r(e).getTime()===r(new Date).getTime()}},"./node_modules/date-fns/is_tomorrow/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/is_tomorrow/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(e){var t=new Date;return t.setDate(t.getDate()+1),r(e).getTime()===r(t).getTime()}},"./node_modules/date-fns/is_tuesday/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/is_tuesday/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 2===r(e).getDay()}},"./node_modules/date-fns/is_valid/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/is_valid/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../is_date/index.js */"./node_modules/date-fns/is_date/index.js");e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},"./node_modules/date-fns/is_wednesday/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_wednesday/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){return 3===r(e).getDay()}},"./node_modules/date-fns/is_weekend/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/is_weekend/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e).getDay();return 0===t||6===t}},"./node_modules/date-fns/is_within_range/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/is_within_range/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t,n){var i=r(e).getTime(),s=r(t).getTime(),a=r(n).getTime();if(s>a)throw new Error("The start of the range cannot be after the end of the range");return i>=s&&i<=a}},"./node_modules/date-fns/is_yesterday/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/is_yesterday/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),r(e).getTime()===r(t).getTime()}},"./node_modules/date-fns/last_day_of_iso_week/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_iso_week/index.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../last_day_of_week/index.js */"./node_modules/date-fns/last_day_of_week/index.js");e.exports=function(e){return r(e,{weekStartsOn:1})}},"./node_modules/date-fns/last_day_of_iso_year/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_iso_year/index.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),i=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js");e.exports=function(e){var t=r(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var s=i(n);return s.setDate(s.getDate()-1),s}},"./node_modules/date-fns/last_day_of_month/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_month/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}},"./node_modules/date-fns/last_day_of_quarter/index.js":
/*!************************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_quarter/index.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getMonth(),i=n-n%3+3;return t.setMonth(i,0),t.setHours(0,0,0,0),t}},"./node_modules/date-fns/last_day_of_week/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_week/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,i=r(e),s=i.getDay(),a=6+(s<n?-7:0)-(s-n);return i.setHours(0,0,0,0),i.setDate(i.getDate()+a),i}},"./node_modules/date-fns/last_day_of_year/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/last_day_of_year/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}},"./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js ***!
  \************************************************************************************/
/*! no static exports found */function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var i=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")}},"./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var i;return r=r||{},i="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}},"./node_modules/date-fns/locale/en/build_format_locale/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/date-fns/locale/en/build_format_locale/index.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../../_lib/build_formatting_tokens_reg_exp/index.js */"./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],o=["am","pm"],A=["a.m.","p.m."],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return s[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?o[1]:o[0]},aa:function(e){return e.getHours()/12>=1?A[1]:A[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){u[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:u,formattingTokensRegExp:r(u)}}},"./node_modules/date-fns/locale/en/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/locale/en/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./build_distance_in_words_locale/index.js */"./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js"),i=n(/*! ./build_format_locale/index.js */"./node_modules/date-fns/locale/en/build_format_locale/index.js");e.exports={distanceInWords:r(),format:i()}},"./node_modules/date-fns/max/index.js":
/*!********************************************!*\
  !*** ./node_modules/date-fns/max/index.js ***!
  \********************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return r(e)})),n=Math.max.apply(null,t);return new Date(n)}},"./node_modules/date-fns/min/index.js":
/*!********************************************!*\
  !*** ./node_modules/date-fns/min/index.js ***!
  \********************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return r(e)})),n=Math.min.apply(null,t);return new Date(n)}},"./node_modules/date-fns/parse/index.js":
/*!**********************************************!*\
  !*** ./node_modules/date-fns/parse/index.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../_lib/getTimezoneOffsetInMilliseconds/index.js */"./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js"),i=n(/*! ../is_date/index.js */"./node_modules/date-fns/is_date/index.js"),s=/[T ]/,a=/:/,o=/^(\d{2})$/,A=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],c=/^-(\d{2})$/,d=/^-?(\d{3})$/,h=/^-?(\d{2})-?(\d{2})$/,f=/^-?W(\d{2})$/,p=/^-?W(\d{2})-?(\d{1})$/,E=/^(\d{2}([.,]\d*)?)$/,m=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/([Z+-].*)$/,B=/^(Z)$/,v=/^([+-])(\d{2})$/,k=/^([+-])(\d{2}):?(\d{2})$/;function _(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}e.exports=function(e,t){if(i(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var w=function(e){var t,n={},r=e.split(s);a.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]);if(t){var i=y.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e),C=function(e,t){var n,r=A[t],i=l[t];if(n=u.exec(e)||i.exec(e)){var s=n[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(n=o.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(w.date,n),S=C.year,M=function(e,t){if(null===t)return null;var n,r,i,s;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=c.exec(e))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(t,i),r;if(n=d.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=h.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return r.setUTCFullYear(t,i,o),r}if(n=f.exec(e))return s=parseInt(n[1],10)-1,_(t,s);if(n=p.exec(e)){s=parseInt(n[1],10)-1;var A=parseInt(n[2],10)-1;return _(t,s,A)}return null}(C.restDateString,S);if(M){var T,b=M.getTime(),U=0;if(w.time&&(U=function(e){var t,n,r;if(t=E.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=m.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*36e5+6e4*r;if(t=g.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*36e5+6e4*r+1e3*i}return null}(w.time)),w.timezone)T=6e4*function(e){var t,n;if(t=B.exec(e))return 0;if(t=v.exec(e))return n=60*parseInt(t[2],10),"+"===t[1]?-n:n;if(t=k.exec(e))return n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n;return 0}(w.timezone);else{var x=b+U,R=new Date(x);T=r(R);var Q=new Date(x);Q.setDate(R.getDate()+1);var P=r(Q)-r(R);P>0&&(T+=P)}return new Date(b+U+T)}return new Date(e)}},"./node_modules/date-fns/set_date/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/set_date/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setDate(i),n}},"./node_modules/date-fns/set_day/index.js":
/*!************************************************!*\
  !*** ./node_modules/date-fns/set_day/index.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../add_days/index.js */"./node_modules/date-fns/add_days/index.js");e.exports=function(e,t,n){var s=n&&Number(n.weekStartsOn)||0,a=r(e),o=Number(t),A=a.getDay();return i(a,((o%7+7)%7<s?7:0)+o-A)}},"./node_modules/date-fns/set_day_of_year/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/set_day_of_year/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setMonth(0),n.setDate(i),n}},"./node_modules/date-fns/set_hours/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/set_hours/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setHours(i),n}},"./node_modules/date-fns/set_iso_day/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/set_iso_day/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../add_days/index.js */"./node_modules/date-fns/add_days/index.js"),s=n(/*! ../get_iso_day/index.js */"./node_modules/date-fns/get_iso_day/index.js");e.exports=function(e,t){var n=r(e),a=Number(t),o=s(n);return i(n,a-o)}},"./node_modules/date-fns/set_iso_week/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/set_iso_week/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../get_iso_week/index.js */"./node_modules/date-fns/get_iso_week/index.js");e.exports=function(e,t){var n=r(e),s=Number(t),a=i(n)-s;return n.setDate(n.getDate()-7*a),n}},"./node_modules/date-fns/set_iso_year/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/set_iso_year/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../start_of_iso_year/index.js */"./node_modules/date-fns/start_of_iso_year/index.js"),s=n(/*! ../difference_in_calendar_days/index.js */"./node_modules/date-fns/difference_in_calendar_days/index.js");e.exports=function(e,t){var n=r(e),a=Number(t),o=s(n,i(n)),A=new Date(0);return A.setFullYear(a,0,4),A.setHours(0,0,0,0),(n=i(A)).setDate(n.getDate()+o),n}},"./node_modules/date-fns/set_milliseconds/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/set_milliseconds/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setMilliseconds(i),n}},"./node_modules/date-fns/set_minutes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/set_minutes/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setMinutes(i),n}},"./node_modules/date-fns/set_month/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/set_month/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../get_days_in_month/index.js */"./node_modules/date-fns/get_days_in_month/index.js");e.exports=function(e,t){var n=r(e),s=Number(t),a=n.getFullYear(),o=n.getDate(),A=new Date(0);A.setFullYear(a,s,15),A.setHours(0,0,0,0);var u=i(A);return n.setMonth(s,Math.min(o,u)),n}},"./node_modules/date-fns/set_quarter/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/set_quarter/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js"),i=n(/*! ../set_month/index.js */"./node_modules/date-fns/set_month/index.js");e.exports=function(e,t){var n=r(e),s=Number(t)-(Math.floor(n.getMonth()/3)+1);return i(n,n.getMonth()+3*s)}},"./node_modules/date-fns/set_seconds/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/set_seconds/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setSeconds(i),n}},"./node_modules/date-fns/set_year/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/set_year/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=r(e),i=Number(t);return n.setFullYear(i),n}},"./node_modules/date-fns/start_of_day/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/start_of_day/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},"./node_modules/date-fns/start_of_hour/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/start_of_hour/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setMinutes(0,0,0),t}},"./node_modules/date-fns/start_of_iso_week/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/start_of_iso_week/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_week/index.js */"./node_modules/date-fns/start_of_week/index.js");e.exports=function(e){return r(e,{weekStartsOn:1})}},"./node_modules/date-fns/start_of_iso_year/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/start_of_iso_year/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../get_iso_year/index.js */"./node_modules/date-fns/get_iso_year/index.js"),i=n(/*! ../start_of_iso_week/index.js */"./node_modules/date-fns/start_of_iso_week/index.js");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}},"./node_modules/date-fns/start_of_minute/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/start_of_minute/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setSeconds(0,0),t}},"./node_modules/date-fns/start_of_month/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/start_of_month/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setDate(1),t.setHours(0,0,0,0),t}},"./node_modules/date-fns/start_of_quarter/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/start_of_quarter/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}},"./node_modules/date-fns/start_of_second/index.js":
/*!********************************************************!*\
  !*** ./node_modules/date-fns/start_of_second/index.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e);return t.setMilliseconds(0),t}},"./node_modules/date-fns/start_of_today/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/date-fns/start_of_today/index.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../start_of_day/index.js */"./node_modules/date-fns/start_of_day/index.js");e.exports=function(){return r(new Date)}},"./node_modules/date-fns/start_of_tomorrow/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/date-fns/start_of_tomorrow/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(0,0,0,0),i}},"./node_modules/date-fns/start_of_week/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/start_of_week/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,i=r(e),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}},"./node_modules/date-fns/start_of_year/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/start_of_year/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../parse/index.js */"./node_modules/date-fns/parse/index.js");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},"./node_modules/date-fns/start_of_yesterday/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/date-fns/start_of_yesterday/index.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(0,0,0,0),i}},"./node_modules/date-fns/sub_days/index.js":
/*!*************************************************!*\
  !*** ./node_modules/date-fns/sub_days/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_days/index.js */"./node_modules/date-fns/add_days/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_hours/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/sub_hours/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_hours/index.js */"./node_modules/date-fns/add_hours/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_iso_years/index.js":
/*!******************************************************!*\
  !*** ./node_modules/date-fns/sub_iso_years/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_iso_years/index.js */"./node_modules/date-fns/add_iso_years/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_milliseconds/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/date-fns/sub_milliseconds/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_milliseconds/index.js */"./node_modules/date-fns/add_milliseconds/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_minutes/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/sub_minutes/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_minutes/index.js */"./node_modules/date-fns/add_minutes/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_months/index.js":
/*!***************************************************!*\
  !*** ./node_modules/date-fns/sub_months/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_months/index.js */"./node_modules/date-fns/add_months/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_quarters/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/date-fns/sub_quarters/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_quarters/index.js */"./node_modules/date-fns/add_quarters/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_seconds/index.js":
/*!****************************************************!*\
  !*** ./node_modules/date-fns/sub_seconds/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_seconds/index.js */"./node_modules/date-fns/add_seconds/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_weeks/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/sub_weeks/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_weeks/index.js */"./node_modules/date-fns/add_weeks/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/date-fns/sub_years/index.js":
/*!**************************************************!*\
  !*** ./node_modules/date-fns/sub_years/index.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../add_years/index.js */"./node_modules/date-fns/add_years/index.js");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r,i,s={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},A=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=o.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),u=null,l=0,c=[],d=n(/*! ./urls */"./node_modules/style-loader/lib/urls.js");function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=s[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var o=[];for(a=0;a<r.parts.length;a++)o.push(y(r.parts[a],t));s[r.id]={id:r.id,refs:1,parts:o}}}}function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var s=e[i],a=t.base?s[0]+t.base:s[0],o={css:s[1],media:s[2],sourceMap:s[3]};r[a]?r[a].parts.push(o):n.push(r[a]={id:a,parts:[o]})}return n}function p(e,t){var n=A(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=A(e.insertAt.before,n);n.insertBefore(t,i)}}function E(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,s;if(t.transform&&e.css){if(!(s="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var a=l++;n=u||(u=m(t)),r=k.bind(null,n,a,!1),i=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),r=w.bind(null,n,t),i=function(){E(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=_.bind(null,n),i=function(){E(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(o=s[a.id]).refs--,r.push(o)}e&&h(f(e,t),t);for(i=0;i<r.length;i++){var o;if(0===(o=r[i]).refs){for(var A=0;A<o.parts.length;A++)o.parts[A]();delete s[o.id]}}}};var B,v=(B=[],function(e,t){return B[e]=t,B.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var s=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function w(e,t,n){var r=n.css,i=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(r=d(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},"./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},"./node_modules/uuid/index.js":
/*!************************************!*\
  !*** ./node_modules/uuid/index.js ***!
  \************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./v1 */"./node_modules/uuid/v1.js"),i=n(/*! ./v4 */"./node_modules/uuid/v4.js"),s=i;s.v1=r,s.v4=i,e.exports=s},"./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"./node_modules/uuid/v1.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v1.js ***!
  \*********************************/
/*! no static exports found */function(e,t,n){var r,i,s=n(/*! ./lib/rng */"./node_modules/uuid/lib/rng-browser.js"),a=n(/*! ./lib/bytesToUuid */"./node_modules/uuid/lib/bytesToUuid.js"),o=0,A=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],c=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==d){var h=s();null==c&&(c=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:A+1,E=f-o+(p-A)/1e4;if(E<0&&void 0===e.clockseq&&(d=d+1&16383),(E<0||f>o)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,A=p,i=d;var m=(1e4*(268435455&(f+=122192928e5))+p)%4294967296;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var g=f/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=c[y];return t||a(l)}},"./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ./lib/rng */"./node_modules/uuid/lib/rng-browser.js"),i=n(/*! ./lib/bytesToUuid */"./node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[s+o]=a[o];return t||i(a)}},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */function(e,t){(function(t){e.exports=t}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/wgs/render/CopyShader.js":
/*!**************************************!*\
  !*** ./src/wgs/render/CopyShader.js ***!
  \**************************************/
/*! exports provided: CopyShader */function(e,t,n){"use strict";n.r(t),n.d(t,"CopyShader",(function(){return o}));var r=n(/*! ./shaders/screen_quad_uv_vert.glsl */"./src/wgs/render/shaders/screen_quad_uv_vert.glsl"),i=n.n(r),s=n(/*! ./shaders/copy_frag.glsl */"./src/wgs/render/shaders/copy_frag.glsl"),a=n.n(s),o={uniforms:{tDiffuse:{type:"t",value:null}},vertexShader:i.a,fragmentShader:a.a}},"./src/wgs/render/ShaderPass.js":
/*!**************************************!*\
  !*** ./src/wgs/render/ShaderPass.js ***!
  \**************************************/
/*! exports provided: ShaderPass */function(e,t,n){"use strict";n.r(t),n.d(t,"ShaderPass",(function(){return s}));var r=n(/*! ./ShaderUtils */"./src/wgs/render/ShaderUtils.js"),i=n(/*! three */"three"),s=function(e,t){this.textureID=void 0!==t?t:"tDiffuse",this.material=Object(r.createShaderMaterial)(e),this.uniforms=this.material.uniforms,this.renderToScreen=!1,this.enabled=!0,this.clear=!1,this.camera=new i.OrthographicCamera(-1,1,1,-1,0,1);var n=new i.BufferGeometry,s=new Float32Array(9);s[0]=-1,s[1]=-1,s[2]=0,s[3]=3,s[4]=-1,s[5]=0,s[6]=-1,s[7]=3,s[8]=0;var a=new Float32Array(6);a[0]=0,a[1]=0,a[2]=2,a[3]=0,a[4]=0,a[5]=2;var o=new Float32Array(9);o[0]=0,o[1]=0,o[2]=1,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=1,n.addAttribute("position",new i.BufferAttribute(s,3)),n.addAttribute("normal",new i.BufferAttribute(o,3)),n.addAttribute("uv",new i.BufferAttribute(a,2)),this.quad=new i.Mesh(n,this.material),this.scene=new i.Scene,this.scene.add(this.quad)};s.prototype={render:function(e,t,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture||n),this.renderToScreen||!t?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}},"./src/wgs/render/ShaderUtils.js":
/*!***************************************!*\
  !*** ./src/wgs/render/ShaderUtils.js ***!
  \***************************************/
/*! exports provided: createShaderMaterial, setMacro, removeMacro */function(e,t,n){"use strict";n.r(t),n.d(t,"createShaderMaterial",(function(){return i})),n.d(t,"setMacro",(function(){return s})),n.d(t,"removeMacro",(function(){return a}));var r=n(/*! three */"three"),i=function(e){var t={vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return e.uniforms&&(t.uniforms=r.UniformsUtils.clone(e.uniforms)),e.defines&&(t.defines=Object.assign({},e.defines)),e.extensions&&(t.extensions=Object.assign({},e.extensions)),e.attributes&&(t.attributes=e.attributes),new r.ShaderMaterial(t)},s=function(e,t,n){n=n||"",e.defines||(e.defines={}),e.defines[t]!=n&&(e.defines[t]=n,e.needsUpdate=!0)},a=function(e,t){(e.defines||e.defines[t])&&(delete e.defines[t],e.needsUpdate=!0)}},"./src/wgs/render/shaders/copy_frag.glsl":
/*!***********************************************!*\
  !*** ./src/wgs/render/shaders/copy_frag.glsl ***!
  \***********************************************/
/*! no static exports found */function(e,t){e.exports="uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n    gl_FragColor = texture2D(tDiffuse, vUv);\n}\n"},"./src/wgs/render/shaders/screen_quad_uv_vert.glsl":
/*!*********************************************************!*\
  !*** ./src/wgs/render/shaders/screen_quad_uv_vert.glsl ***!
  \*********************************************************/
/*! no static exports found */function(e,t){e.exports="varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},three:
/*!************************!*\
  !*** external "THREE" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=THREE}});