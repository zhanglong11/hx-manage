/*!
 * LMV v7.9.0
 * 
 * Copyright 2019 Bimfish, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Bimfish, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Bimfish, Inc.
 * 
 * Bimfish Forge Viewer Usage Limitations:
 * 
 * The Bimfish Forge viewer can only be used to view files generated by
 * Bimfish Forge services. The Bimfish Forge Viewer JavaScript must be
 * delivered from an Bimfish hosted URL.
 */
Bimfish.Extensions.Measure=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./extensions/Measure/Measure.js")}({"./extensions/Measure/Calibration.css":
/*!********************************************!*\
  !*** ./extensions/Measure/Calibration.css ***!
  \********************************************/
/*! no static exports found */function(e,t,i){var n=i(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/dist/cjs.js!./Calibration.css */"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Calibration.css");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(/*! ../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./extensions/Measure/CalibrationPanels.js":
/*!*************************************************!*\
  !*** ./extensions/Measure/CalibrationPanels.js ***!
  \*************************************************/
/*! exports provided: CalibrationPanel, CalibrationRequiredDialog */function(e,t,i){"use strict";i.r(t),i.d(t,"CalibrationPanel",(function(){return d})),i.d(t,"CalibrationRequiredDialog",(function(){return m}));var n=Bimfish.Viewing,s=Bimfish.Viewing.Extensions,a=Bimfish.Viewing.Private,o=Bimfish.Viewing.UI,r=Bimfish.Viewing.MeasureCommon,l=o&&o.DockingPanel||function(){return function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}}(),h=s&&s.ViewerPanelMixin||function(){},c=n.getGlobal().document,d=function(e,t,i,s,o){var r=this;(o=o||{}).addFooter=!1,l.call(this,t.container,i,s,o),this.viewer=t,this.calibrationTool=e,this.parentContainer=t.container,this.container.style.left="0px",this.container.style.top="0px",this.container.style.resize="none",this.container.classList.add("calibration-panel"),this.setGlobalManager&&this.setGlobalManager(t.globalManager),this.addEventListener(this.closer,"click",(function(e){r.setVisible(!1),r.calibrationTool.clearSize(),r.calibrationTool.showAddCalibrationLabel()})),o.heightAdjustment||(o.heightAdjustment=40),o.marginTop||(o.marginTop=0),o.left=!1,this.createScrollContainer(o);var h=this.getDocument&&this.getDocument()||c;this.calibrationMenu=h.createElement("div"),this.scrollContainer.appendChild(this.calibrationMenu),this.table=h.createElement("table"),this.table.className="adsk-lmv-tftable calibration-table",this.tbody=h.createElement("tbody"),this.table.appendChild(this.tbody),this.calibrationMenu.appendChild(this.table),this.row=this.tbody.insertRow(0),this.requestedSizeTextbox=h.createElement("input"),this.requestedSizeTextbox.className="docking-panel-textbox",this.requestedSizeTextbox.type="text",this.requestedSizeTextbox.autofocus="true",this.addEventListener(this.requestedSizeTextbox,"keyup",(function(e){var t=r.requestedSizeTextbox.value;""!==t&&""===t.split(".")[0]&&(r.requestedSizeTextbox.value="0"+t),r.updateLabel()})),this.addEventListener(this.requestedSizeTextbox,"keypress",(function(e){var t=e.key||String.fromCharCode(e.keyCode);if("Backspace"!=t&&"ArrowLeft"!=t&&"ArrowRight"!=t){if(e.keyCode==n.KeyCode.ESCAPE)return r.setVisible(!1),r.calibrationTool.clearSize(),void r.calibrationTool.showAddCalibrationLabel();var i=r.requestedSizeTextbox.value,s=r.requestedSizeTextbox.selectionStart;if("."!=(i=[i.slice(0,s),t,i.slice(s)].join(""))){var a=r.units[r.unitList.selectedIndex].simpleInput;(!u(i)||a&&(!p(i)||Bimfish.Viewing.Private.calculatePrecision(i)>r.calibrationTool.getMaxPrecision()))&&e.preventDefault()}}}));var d=this.row.insertCell(0);this.caption=h.createElement("div"),this.caption.setAttribute("data-i18n","Define Size"),this.caption.textContent=n.i18n.translate("Define Size"),d.appendChild(this.caption),(d=this.row.insertCell(1)).appendChild(this.requestedSizeTextbox),this.units=[{name:"Millimeters",units:"mm",matches:["mm"],simpleInput:!0},{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in"],simpleInput:!1},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft-and-decimal-in"],simpleInput:!1},{name:"Meters",units:"m",matches:["m"],simpleInput:!0},{name:"Centimeters",units:"cm",matches:["cm"],simpleInput:!0}];for(var m=[],g=0;g<this.units.length;++g)m.push(this.units[g].name);this.unitList=new a.OptionDropDown("Unit type",this.tbody,m,0,null,{paddingLeft:0,paddingRight:15}),this.unitList.setGlobalManager(this.globalManager),this.addEventListener(this.unitList,"change",(function(e){r.updateLabel()}));var b=h.createElement("div");b.classList.add("docking-panel-primary-button"),b.classList.add("calibration-button"),b.setAttribute("data-i18n","Set Calibration"),b.textContent=n.i18n.translate("Set Calibration"),b.addEventListener("click",(function(){var e=r.unitList.selectedIndex,t=r.units[e].units;r.calibrationTool.calibrate(t,r.requestedSizeTextbox.value)}),!1),this.calibrationMenu.appendChild(b)},u=function(e){return e.match(/^(\d+)/)},p=function(e){return e+="0",!isNaN(parseFloat(e))&&!isNaN(+e)&&parseFloat(e)>=0};d.prototype=Object.create(l.prototype),h.call(d.prototype),d.prototype.uninitialize=function(){this.viewer=null,l.prototype.uninitialize.call(this)},d.prototype.findUnits=function(){var e,t,i=this.calibrationTool.getCurrentUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},d.prototype.setPanelValue=function(e){this.unitList.setSelectedIndex(this.findUnits()),this.requestedSizeTextbox.value=e},d.prototype.updateLabel=function(){var e=this.unitList.selectedIndex,t=this.units[e].units,i=this.requestedSizeTextbox.value,n=Bimfish.Viewing.Private.UnitParser.parsePositiveNumber(i,t),s=Bimfish.Viewing.Private.formatValueWithUnits(n,t,3,Bimfish.Viewing.Private.calculatePrecision(i));""===i?this.calibrationTool.updateLabelValue(null):isNaN(n)||this.calibrationTool.updateLabelValue(s)},d.prototype.updatePanelPosition=function(e,t,i,n){var s,a,o=parseInt(this.container.getBoundingClientRect().width),l=parseInt(this.container.getBoundingClientRect().height);if(e&&t&&i){t=r.project(t,this.viewer),i=r.project(i,this.viewer);var h,c=(new THREE.Vector2).copy(t).sub(i).normalize();h=t.x<i.x?new THREE.Vector2(c.y,-c.x):new THREE.Vector2(-c.y,c.x);var d=n+Math.sqrt(Math.pow(o,2)+Math.pow(l,2))/2;h=h.multiplyScalar(d);var u=e.sub(h);s=u.x-Math.floor(o/2),a=u.y-Math.floor(l/2),(s<0||s+o>this.viewer.canvas.clientWidth||a<0||a+l>this.viewer.canvas.clientHeight)&&(s=Math.floor((this.viewer.canvas.clientWidth-o)/2),a=Math.floor((this.viewer.canvas.clientHeight-l)/2))}else s=Math.floor((this.viewer.canvas.clientWidth-o)/2),a=Math.floor((this.viewer.canvas.clientHeight-l)/2);this.container.style.left=s+"px",this.container.style.top=a+"px"};var m=function(e,t,i,s,a){var o=this;(a=a||{}).addFooter=!1,l.call(this,t.container,i,s,a),this.viewer=t,this.measureExt=e,this.parentContainer=t.container,this.container.classList.add("calibration-panel"),this.container.style.width="380px",this.container.style.height="190px",this.setGlobalManager&&this.setGlobalManager(t.globalManager),a.heightAdjustment||(a.heightAdjustment=70),a.marginTop||(a.marginTop=0),a.left=!1;var r=this.getDocument&&this.getDocument()||c;this.createScrollContainer(a),this.dialogBox=r.createElement("div"),this.scrollContainer.appendChild(this.dialogBox);var h=r.createElement("div");h.className="calibration-text";var d="Calibration Message";h.setAttribute("data-i18n",d),h.textContent=n.i18n.translate(d),this.dialogBox.appendChild(h);var u=r.createElement("div");u.className="calibration-buttons-wrapper",this.dialogBox.appendChild(u);var p=r.createElement("div");p.classList.add("docking-panel-secondary-button"),p.classList.add("calibration-button-left"),p.setAttribute("data-i18n","Cancel"),p.textContent=n.i18n.translate("Cancel"),p.addEventListener("click",(function(){o.setVisible(!1)}),!1),u.appendChild(p);var m=r.createElement("div");m.classList.add("docking-panel-primary-button"),m.classList.add("calibration-button-right"),m.setAttribute("data-i18n","Calibrate Now"),m.textContent=n.i18n.translate("Calibrate Now"),m.addEventListener("click",(function(){o.measureExt.enableCalibrationTool(!0),o.setVisible(!1)}),!1),u.appendChild(m)};m.prototype=Object.create(l.prototype),h.call(m.prototype),m.prototype.uninitialize=function(){this.viewer=null,l.prototype.uninitialize.call(this)}},"./extensions/Measure/CalibrationTool.js":
/*!***********************************************!*\
  !*** ./extensions/Measure/CalibrationTool.js ***!
  \***********************************************/
/*! exports provided: CalibrationTool */function(e,t,i){"use strict";i.r(t),i.d(t,"CalibrationTool",(function(){return o}));var n=i(/*! ./CalibrationToolIndicator */"./extensions/Measure/CalibrationToolIndicator.js"),s=i(/*! ./CalibrationPanels */"./extensions/Measure/CalibrationPanels.js"),a=Bimfish.Viewing,o=function(e,t,i,a){var o=Bimfish.Viewing,r=(Bimfish.Viewing.Extensions.Measure,Bimfish.Viewing.MeasureCommon),l=["calibration"],h=e,c=new r.Measurement(r.MeasurementTypes.MEASUREMENT_DISTANCE),d=t||{};this.setGlobalManager(e.globalManager);var u=i,p=t.maxPrecision||5,m=null!=i.calibrationFactor,g=a,b=!1,v=!1,f=!1,w=null,y=!1,A=null,x=null,E=null,M=null,T=!1,C=[],L=null,k=0,B=!1,S=!1,P=!1,V=null,R=null,I=null,N=Bimfish.Viewing.GuiViewer3D&&e instanceof Bimfish.Viewing.GuiViewer3D;r=Bimfish.Viewing.MeasureCommon;function D(){switch(k){case 0:return null;case 1:case 2:return c.getPick(k);case 3:return c.getPick(c.countPicks())}}function z(){switch(k){case 0:return null;case 1:return c.getPick(c.countPicks());case 2:case 3:return c.getPick(1)}}function O(){k=0}function G(){k=3,c.indicator.changeAllEndpointsEditableStyle(!0)}function U(){return 0===k}function Y(){return 3===k}this.register=function(){N&&!I&&(I=new s.CalibrationPanel(this,h,"calibration-panel","Calibration",d),h.addPanel(I)),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.screenSizeChangedBinded=this.screenSizeChanged.bind(this)},this.deregister=function(){this.deactivate(),I&&(h.removePanel(I),I.uninitialize(),I=null)},this.isActive=function(){return b},this.getNames=function(){return l},this.getName=function(){return l[0]},this.getPriority=function(){return 50},this.getCursor=function(){return v?null:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAwZJREFUSA2tVEtLW0EUvjGJefoqSY0x0WBSiY+oNWiUINkU6ioLaaAlG1eudNVFoT+grgopiCkEIbUK1o0lusmurRSEWmmKG6MNtNhNosWqyU2CZPpN8cr15nFD7YHDzHnON2fOGYZhmHkw4XEW+wD4xkT4lMvl6CE0+Y2ohh+dz+cZn89HVS/5+n/d/wVMkXq9Xor2v5SBgsmymQwZHx+vOqlKpXKDXWI3eU6Tg+kqSjSh3W4/s9lsvzUajaNcAK3xY7Dyci3nd6WXSCS60dHRvMfjSRcKBfWV4SYbrVarB8p0PB5nY7HYmdVq/aDX67WlckpKKcvpOjs7X09OTvoPDw8z2Wy2Bu+imJqa+npycnJXGHOt3YRGoSyVSvvMZrNkYWFBs7GxkaoBAXFJcDJhcCW5rq5ur62trQ/EOhyOBhDT2Nj4qVKMqA31ve1yub7Rfufo/PycDA4OxpuamhqECaouhVqtfuD3+1tqa2uZQCCQDoVCWTwknVQDDvIKE1clI1ja09Ozg0cjx8fHpL+/P+50OhMU8f7+Punt7f2I5NdqXRXi9fV1z9jYWCuIWV5eziSTyWAqlXq1urqaw6AwOMiCG4lOYtEturu732xubhK0FQHSvfr6+lsog4HWPIPvIBqNErRiqCiwkkKpVFowZd8xZSQYDLImk+kJ52+xWJ4tLS3hU8yTkZGRBD2Ms4mu6Nun4XA4f3p6SoaGhuJ0+rgg/Bsmt9udYFmWzM3NZdDT05ztWsE5JV0R1AqUCfTt0fb2tjESiRRmZmaOUOcI3w9DY5mdnb03PDzMoDQ/MZFRzM20lO/E38vl8vt46UdAq0WNJWixlEwmu8B1bXioOxwjpgXJ0hMTE1og1qysrDghf+HnKtoD7c7u7i5ZXFzMGY3GF7iFuRR3dHTMr62tXWxtbZH29vZ3RYmECozu54ODAzpdP2hphHZOVigUVjChvgMDA+85fdm1q6vrrU6n+4WR9Zd1ujQ0Nzc/NBgMScSExXwZ2j5oL5Wo46UD/ZvxUemo+AdW1zJzUYr16wAAAABJRU5ErkJggg==), auto"},this.activate=function(){if(b=!0,v=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,O(),console.log(g.getName()),h.toolController.activateTool(g.getName()),h.toolController.activateTool("magnifyingGlass"),c.indicator||c.attachIndicator(h,this,n.CalibrationToolIndicator),c.indicator.clear(),y&&E&&M){console.log(E),console.log(M),c.setPick(1,E.clone()),c.setPick(2,M.clone()),G();var e=Bimfish.Viewing.Private.UnitParser.parsePositiveNumber(A,x);c.indicator.updateLabelValue(Bimfish.Viewing.Private.formatValueWithUnits(e,x,3,u.precision)),w=c.distanceXYZ,c.indicator.changeLabelClickableMode(!1),T=!0;var t=this.render();c.indicator.changeAllEndpointsEditableStyle(!0),t&&(I&&I.setPanelValue(A),this.showPanel())}h.addEventListener(Bimfish.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),h.addEventListener(Bimfish.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded)},this.deactivate=function(){b&&(b=!1,this.hidePanel(),this.updateViewportId(!0),T=!1,c.clearAllPicks(),g&&g.isActive()&&h.toolController.deactivateTool(g.getName()),h.toolController.deactivateTool("magnifyingGlass"),c.indicator&&(c.indicator.clear(),c.indicator.destroy(),c.indicator=null),h.removeEventListener(Bimfish.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),h.removeEventListener(Bimfish.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded))},this.getActivePointIndex=function(){return k},this.setCalibrationFactor=function(e){u.calibrationFactor=e},this.getCalibrationFactor=function(){return u.calibrationFactor},this.updateLabelValue=function(e){console.log(c),c.indicator.updateLabelValue(e)},this.isCalibrationValid=function(e,t){var i=Bimfish.Viewing.Private.UnitParser.parsePositiveNumber(t,e);return!isNaN(i)},this.calibrate=function(e,t){var i=null,n=Bimfish.Viewing.Private.UnitParser.parsePositiveNumber(t,e);if(!isNaN(n)){var s=Bimfish.Viewing.Private.convertUnits(h.model.getUnitString(),e,1,w);if(0!==s&&!isNaN(s)){i=n/s,u.calibrationFactor=i,u.units=e;var a=h.model.is2d()?3:1,o=Bimfish.Viewing.Private.calculatePrecision(t);u.precision=Math.max(u.precision?u.precision:a,o),A=t,x=e,m=!0,y=!0,E=c.getPick(1).clone(),M=c.getPick(2).clone()}}i&&(h.getExtension("Bimfish.Measure").enableCalibrationTool(!1),h.dispatchEvent({type:r.Events.FINISHED_CALIBRATION,units:e,scaleFactor:i,size:t}))},this.calibrateByScale=function(e,t){u.calibrationFactor=t,u.units!==e&&(u.units=e,x=e),m=!0},this.getCurrentUnits=function(){return u.units},this.hidePanel=function(){I?I.setVisible(!1):h.dispatchEvent({type:r.Events.CLOSE_CALIBRATION_PANEL_EVENT})},this.showPanel=function(){var e=this,t=this.getWindow();I?(t.setTimeout((function(){I.requestedSizeTextbox.focus()}),0),I.setVisible(!0),I.updatePanelPosition(c.indicator.labelPosition,c.indicator.p1,c.indicator.p2,c.indicator.calibrationLabel.clientHeight),e.addWindowEventListener("keyup",(function t(i){"Escape"==(i.key||String.fromCharCode(i.keyCode))&&e.isActive()&&(e.hidePanel(),e.clearSize(),e.showAddCalibrationLabel(),e.removeWindowEventListener("keyup",t))}))):h.dispatchEvent({type:r.Events.OPEN_CALIBRATION_PANEL_EVENT,data:{size:A,units:x}})},this.showAddCalibrationLabel=function(){c.indicator.showAddCalibrationLabel()},this.isCalibrated=function(){return m},this.clearSize=function(){c.indicator.updateLabelValue(null),I?I.requestedSizeTextbox.value="":h.dispatchEvent({type:r.Events.CLEAR_CALIBRATION_SIZE_EVENT})},this.getMaxPrecision=function(){return p},this.clearMeasurement=function(){O(),this.clearPick(1),this.clearPick(2),c.indicator.clear(),this.updateViewportId(!0),this.hidePanel(),T=!1},this.clearPick=function(e){c.hasPick(e)&&(c.clearPick(e),c.indicator.hideClick(e))},this.repickEndpoint=function(e){this.clearPick(e),this.editEndpoint(null,e)},this.getSnapper=function(){return g},this._handleMouseEvent=function(e){var t=!1;if(g.isSnapped())(Y()||U())&&(this.clearMeasurement(),k=1),g.copyResults(D()),t=!0;else{if(e&&h.model.is2d()){var i=h.container.getBoundingClientRect(),n=e.canvasX||e.clientX-i.left,s=e.canvasY||e.clientY-i.top;n&&s&&(L=r.inverseProject({x:n,y:s},h))}if(S&&c&&!this.isEditingEndpoint&&k===c.getMaxNumberOfPicks()+1)return!0;var a=D();a&&a.clear()}if(this.correctPickPosition(),S&&this._doConsumeSingleClick(t),!U()){var o=this.render();c.hasPick(2)&&(t&=o)}return S&&(c.isComplete()&&t?(w=c.distanceXYZ,this.clearSize(),this.showPanel(),T=!0):(this.hidePanel(),c.indicator.updateLabelValue(null),T=!1)),t},this.updateViewportId=function(t){if(h.model&&h.model.is2d())if(t||U())e.impl.updateViewportId(0),g.setViewportId(null);else if(!f){var i=z().viewportIndex2d||D().viewportIndex2d;e.impl.updateViewportId(i),g&&g.setViewportId(i)}},this._doConsumeSingleClick=function(e){this.updateViewportId(c.isComplete()),c.indicator.clear()},this.handleButtonDown=function(e,t){return o.isMobileDevice()||(v=!0,0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(S=!0,V=e.canvasX,R=e.canvasY)),!1},this.handleMouseMove=function(e){return o.isMobileDevice()||(e.canvasX===V&&e.canvasY===R||(S=!1),B=this.isEditingEndpoint,U()||Y()||(this.clearPick(k),this._handleMouseEvent(e)),g.indicator.render()),!1},this.restoreMouseListeners=function(){h.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(S=!1,o.isTouchDevice())switch(e.type){case"press":return f=!0,Y()?this.clearMeasurement():this.clearPick(k),this._handleMouseEvent(e),g.indicator.render(),!0;case"pressup":return S=!0,this.restoreMouseListeners(),P=!P,this.handleSingleClick(e),f=!1,!0}return!1},this.correctPickPosition=function(){var t=D();if(t&&!t.getGeometry()&&L&&(t.geomType=r.SnapType.SNAP_VERTEX,t.geomVertex=L,t.intersectPoint=L),function(){switch(k){case 0:return!1;case 1:return c.hasPick(c.countPicks());case 2:case 3:return c.hasPick(1)}}()){var i=z();r.correctPerpendicularPicks(i,t,e,g)}},this.render=function(){var e=c.computeResult(c.picks,h,g);return c.indicator.render(c.picks,S||T),e},this.editEndpoint=function(e,t){if(k===t)return c.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var i in k=t,this.isEditingEndpoint=!0,c.indicator.changeEndpointOnEditStyle(t,!0),c.indicator.changeAllEndpointsEditableStyle(!1),c.picks)c.picks.hasOwnProperty(i)&&(C[i]=c.getPick(i).clone());this.updateViewportId(),this.hidePanel(),c.indicator.updateLabelValue(null),T=!1,o.isMobileDevice()||this._handleMouseEvent(e)},this.undoEditEndpoint=function(){for(var e in c.indicator.clear(),c.picks)c.picks.hasOwnProperty(e)&&c.setPick(e,C[e].clone());this.updateViewportId(!0),this.isEditingEndpoint=!1,T=!0,G(),this.render()&&this.showPanel()},this.handleGesture=function(e){if(o.isTouchDevice()&&(S=!1,f))switch(this.clearPick(k),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),g.indicator.render(),!0;case"dragend":return f=!1,S=!0,this.editByDrag||(P=!P,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchend":return S=!0,P=!P,this.handleSingleClick(e),this.restoreMouseListeners(),!0}return!1},this.handleButtonUp=function(e){return v=!1,V=null,R=null,B&&(S=!0,P=!P,this.handleSingleClick(e),B=!1),!1},this.handleSingleClick=function(e){return S&&(g.indicator.clearOverlays(),c.indicator.changeEndpointOnEditStyle(k,!1),this._handleMouseEvent(e)?(c.indicator.showEndpoints(),c.indicator.updateLabelsPosition(),k++):this.isEditingEndpoint?this.undoEditEndpoint():this.clearMeasurement(),c.isComplete()&&(console.log(c),G()),S=!1,P=!P,this.isEditingEndpoint=!1,g.clearSnapped()),!0},this.handleDoubleClick=function(){return!0},this.handleSingleTap=function(e){return P||(S=!0,g.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),P=!P,!0},this.handleDoubleTap=function(){return!0},this.handleResize=function(){c.indicator&&c.indicator.handleResize()},this.onCameraChange=function(){g.indicator&&g.indicator.onCameraChange()},this.screenSizeChanged=function(e){this.onCameraChange()}};a.GlobalManagerMixin.call(o.prototype)},"./extensions/Measure/CalibrationToolIndicator.js":
/*!********************************************************!*\
  !*** ./extensions/Measure/CalibrationToolIndicator.js ***!
  \********************************************************/
/*! exports provided: CalibrationToolIndicator */function(e,t,i){"use strict";i.r(t),i.d(t,"CalibrationToolIndicator",(function(){return o}));var n=i(/*! ./Indicator */"./extensions/Measure/Indicator.js"),s=Bimfish.Viewing,a=Bimfish.Viewing.MeasureCommon;function o(e,t,i){n.Indicator.call(this,e,t,i),this.calibrationTool=i,this.calibrationLabel=null,this.endpoints=null,this.tmpVector=new THREE.Vector3,this.p1=null,this.p2=null,this.rubberbandDefaultMaterial=new THREE.MeshBasicMaterial({color:15249964,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandSnappedMaterial=new THREE.MeshBasicMaterial({color:23502,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandTipMaterial=new THREE.MeshBasicMaterial({color:0,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})}o.prototype=Object.create(n.Indicator.prototype),o.prototype.constructor=o;var r=o.prototype;function l(e,t){return e.right>=t.left&&e.right<=t.right}function h(e,t){return e.left>=t.left&&e.left<=t.right}function c(e,t){return e.left<=t.left&&e.right>=t.right}function d(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function u(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}r.createEndpoint=function(e){this.endpoints[e]={},this.endpoints[e].position=null;var t=this.getDocument(),i=this.endpoints[e].label=t.createElement("div");i.className="calibration-endpoint",this.viewer.container.appendChild(i);var n=t.createElement("div");n.className="calibration-endpoint-text",n.textContent=e.toString(),i.appendChild(n),s.isTouchDevice()&&this.initLabelMobileGestures(i,e,this.calibrationTool),s.isMobileDevice()||(a.safeToggle(i,"enable-hover",!0),this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel))},r.init=function(){if(a.createCommonOverlay(this.viewer,this.overlayName),!this.calibrationLabel){var e=this.getDocument();this.calibrationLabel=e.createElement("div"),this.calibrationLabel.className="calibration-label",this.hideLabel(this.calibrationLabel),this.viewer.container.appendChild(this.calibrationLabel),this.calibrationLabel.addEventListener("mousewheel",this.viewer.toolController.mousewheel);var t=e.createElement("div");t.className="calibration-label-text",this.calibrationLabel.appendChild(t)}this.endpoints=[],this.handleButtonUpBinded=this.calibrationTool.handleButtonUp.bind(this.calibrationTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(s.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},r.destroy=function(){this.clear(),n.Indicator.prototype.destroy.call(this),this.calibrationLabel&&(this.calibrationLabel.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.viewer.container.removeChild(this.calibrationLabel),this.calibrationLabel=null),this.viewer.impl.clearOverlay(this.overlayName),this.viewer.impl.removeOverlayScene(this.overlayName),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded),this.viewer.removeEventListener(s.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},r.clearRubberband=function(){this.viewer.impl.clearOverlay(this.overlayName)},r.clear=function(){for(var e in this.clearRubberband(),this.hideLabel(this.calibrationLabel),this.endpoints)this.endpoints.hasOwnProperty(e)&&(this.hideClick(e),this.endpoints[e].position=null)},r.updateLabelValue=function(e){e&&""!==e?(this.calibrationLabel.childNodes[0].setAttribute("data-i18n",e),this.calibrationLabel.childNodes[0].textContent=s.i18n.translate(e),this.showLabel(this.calibrationLabel),this.calibrationTool.render()):(this.calibrationLabel.childNodes[0].textContent=null,this.hideLabel(this.calibrationLabel))},r.changeLabelClickableMode=function(e){this.calibrationLabel.childNodes[0].style.pointerEvents=e?"all":"none"},r.showAddCalibrationLabel=function(){var e=this;this.updateLabelValue("Add Calibration"),this.changeLabelClickableMode(!0),this.calibrationTool.render(),this.calibrationLabel.addEventListener("click",(function t(){e.calibrationLabel.childNodes[0].style.pointerEvents="none",e.calibrationTool.render(),e.updateLabelValue(null),e.calibrationTool.showPanel(),e.calibrationLabel.removeEventListener("click",t)}))},r.updateLabelsPosition=function(){for(var e=1;e<=Object.keys(this.endpoints).length;e++)if(this.endpoints[e].position){var t=this.endpoints[e].label,i=a.project(this.endpoints[e].position,this.viewer,15);t.style.left=i.x-parseInt(t.clientWidth)/2+"px",t.style.top=i.y-parseInt(t.clientHeight)/2+"px",t.point=this.endpoints[e].position,this.labelsOverlapDetection(this.endpoints[e].label,this.endpoints)}this.hideLabelsOutsideOfView()},r.labelsOverlapDetection=function(e,t){for(var i=1;i<=Object.keys(t).length;i++){var n=t[i].label;if(e!==n){var s=e.getBoundingClientRect(),a=n.getBoundingClientRect();g=s,(m=a).top<g.bottom&&m.bottom>g.top&&(l(a,s)?(r=a,p=s,(o=n).style.left=parseInt(o.style.left,10)-(r.right-p.left)+"px"):h(a,s)?d(n,a,s):c(a,s)&&u(n,a,s))}}var o,r,p,m,g},r.renderCalibrationLabel=function(){if(this.showMeasureResult&&this.calibrationLabel&&this.p1&&this.p2){var e={x:(this.p1.x+this.p2.x)/2,y:(this.p1.y+this.p2.y)/2,z:(this.p1.z+this.p2.z)/2},t=a.project(e,this.viewer);this.labelPosition=new THREE.Vector2(t.x,t.y),this.calibrationLabel.childNodes[0].textContent&&this.showLabel(this.calibrationLabel),this.calibrationLabel.style.top=this.labelPosition.y-Math.floor(this.calibrationLabel.clientHeight/2)+"px",this.calibrationLabel.style.left=this.labelPosition.x-Math.floor(this.calibrationLabel.clientWidth/2)+"px",this.calibrationLabel.point=e,this.viewer.model.is2d()&&this.alignLabelWithLine(this.calibrationLabel,this.p1,this.p2,this.calibrationLabel.clientHeight,this.viewer)}},r.drawMeasurementLineTip=function(e,t,i,n){var s=new THREE.Vector3,a=new THREE.Geometry,o=this.setScale(e);n=n?-1:1;var r=this.snapper.isSnapped()&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandTipMaterial;s.addVectors(e,i.clone().multiplyScalar(5*o)),a.vertices[0]=s.clone(),s.subVectors(e,i.clone().multiplyScalar(5*o)),a.vertices[1]=s.clone(),this.drawLineAsCylinder(a,r,1.5,this.overlayName),a.vertices[0]=e,s.subVectors(e,t.clone().multiplyScalar(5*o*n)),a.vertices[1]=s.clone(),this.drawLineAsCylinder(a,r,1.5,this.overlayName),s.addVectors(e,i.clone().multiplyScalar(3*o)),a.vertices[0]=s.clone(),s.subVectors(e,i.clone().multiplyScalar(3*o)),a.vertices[1]=s.clone(),this.drawLineAsCylinder(a,this.rubberbandDefaultMaterial,2,this.overlayName),s.addVectors(e,i.clone().multiplyScalar(3*o)),s.addVectors(s,t.clone().multiplyScalar(3*o)),a.vertices[0]=s.clone(),s.subVectors(e,i.clone().multiplyScalar(3*o)),s.subVectors(s,t.clone().multiplyScalar(3*o)),a.vertices[1]=s.clone(),this.drawLineAsCylinder(a,this.rubberbandDefaultMaterial,2,this.overlayName)},r.renderDistanceMeasurement=function(e,t){if(this.viewer.impl.clearOverlay(this.overlayName),e&&t){var i=new THREE.Geometry,n=(new THREE.Vector3).subVectors(t,e).normalize(),s=n.clone().cross(this.viewer.navigation.getEyeVector()).normalize(),a=this.setScale(e),o=2*a,r=1*a,l=(Math.abs(e.x-t.x)<=.1||Math.abs(e.y-t.y)<=.1||this.snapper.getSnapResult().isPerpendicular)&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandDefaultMaterial;this.showMeasureResult?(i.vertices[0]=e,i.vertices[1]=t,this.drawLineAsCylinder(i,l,3,this.overlayName)):this.drawDashedLine(e,t,o,r,l,3,this.overlayName),this.drawMeasurementLineTip(e,n,s,!1),this.showMeasureResult&&this.drawMeasurementLineTip(t,n,s,!0),this.p1=e,this.p2=t,this.renderCalibrationLabel()}},r.onCameraChange=function(){this.measurement.isComplete()&&this.renderDistanceMeasurement(this.p1,this.p2),this.updateLabelsPosition()}},"./extensions/Measure/Indicator.js":
/*!*****************************************!*\
  !*** ./extensions/Measure/Indicator.js ***!
  \*****************************************/
/*! exports provided: Indicator */function(e,t,i){"use strict";i.r(t),i.d(t,"Indicator",(function(){return a}));var n=Bimfish.Viewing,s=n.MeasureCommon,a=function(e,t,i){this.viewer=e,this.setGlobalManager(e.globalManager),this.measurement=t,this.tool=i,this.snapper=i.getSnapper(),this.materialExtensionLine=null,this.materialExtensionFace=null,this.extensionLines=[],this.extensionFaces=[],this.grayOutPlane=[],this.materialPoint=null,this.materialLine=null,this.materialAngle=null,this.materialAngleOutline=null,this.materialGreyOutPlane=null,this.materialFace=null,this.angleArc=null,this.angleOutline=[],this.showMeasureResult=!1,this.visibleLabels=[],this.overlayName="measure-indicator-overlay-"+(t.id||""),this.xAxis=this.viewer.autocam.getWorldRightVector(),this.yAxis=this.viewer.autocam.getWorldUpVector(),this.zAxis=this.viewer.autocam.getWorldFrontVector()},o=a.prototype;n.GlobalManagerMixin.call(o),o.init=function(){return!1},o.updateDistance=function(){return!1},o.updateAngle=function(){return!1},o.clear=function(){return!1},o.updateLabelsPosition=function(){return!1},o.render=function(e,t){this.showMeasureResult=t,this.clear();for(var i=1;i<=Object.keys(e).length;i++)this.measurement.hasPick(i)&&this.renderPick(i);this.renderRubberband(e),this.updateLabelsPosition()},o.changeEndpointOnEditStyle=function(e,t){return!1},o.handleResize=function(){return!1},o.setNoTopology=function(){return!1},o.setFetchingTopology=function(){return!1},o.setTopologyAvailable=function(){return!1},o.clientToCanvasCoords=function(e){var t=this.viewer.impl.getCanvasBoundingClientRect(),i={};return e.hasOwnProperty("center")?(e.canvasX=i.x=e.center.x-t.left,e.canvasY=i.y=e.center.y-t.top):(e.canvasX=i.x=e.pointers[0].clientX-t.left,e.canvasY=i.y=e.pointers[0].clientY-t.top),i},o.initLabelMobileGestures=function(e,t){var i=this.viewer.toolController.getTool("magnifyingGlass");this.hammer=new n.Hammer.Manager(e,{recognizers:[n.GestureRecognizers.drag,n.GestureRecognizers.singletap],handlePointerEventMouse:!1,inputClass:n.isIE11?n.Hammer.PointerEventInput:n.Hammer.TouchInput}),this.onSingleTapBinded=function(e){var i=this.clientToCanvasCoords(e);this.snapper.onMouseDown(i),this.tool.editEndpoint(e,t,this.measurement.id)}.bind(this),this.onDragStartBinded=function(e){var n=this.clientToCanvasCoords(e);this.snapper.onMouseDown(n),this.tool.editEndpoint(e,t,this.measurement.id),this.tool.editByDrag=!0,e.type="press",i.handlePressHold(e),this.tool.handlePressHold(e),e.type="dragstart",i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragMoveBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragEndBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e),e.type="pressup",i.handlePressHold(e),this.tool.handlePressHold(e),this.tool.handleButtonUp(e)}.bind(this),this.hammer.on("singletap",this.onSingleTapBinded),this.hammer.on("dragstart",this.onDragStartBinded),this.hammer.on("dragmove",this.onDragMoveBinded),this.hammer.on("dragend",this.onDragEndBinded)},o.clearLabelMobileGestures=function(){this.hammer&&(this.hammer.off("singletap",this.onSingleTapBinded),this.hammer.off("dragstart",this.onDragStartBinded),this.hammer.off("dragmove",this.onDragMoveBinded),this.hammer.off("dragend",this.onDragEndBinded),this.hammer=null)},o.updateVisibleLabelsArray=function(e,t){if(t)this.visibleLabels.indexOf(e)>-1||this.visibleLabels.push(e);else{var i=this.visibleLabels.indexOf(e);i>-1&&this.visibleLabels.splice(i,1)}},o.hideEndpoints=function(){for(var e in this.endpoints)if(this.endpoints.hasOwnProperty(e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}},o.showEndpoints=function(){for(var e in this.endpoints)if(this.endpoints.hasOwnProperty(e)){var t=this.endpoints[e];this.measurement.hasPick(e)&&t.label&&this.showLabel(t.label)}},o.hideLabel=function(e){e&&(s.safeToggle(e,"visible",!1),this.updateVisibleLabelsArray(e,!1))},o.showLabel=function(e){e&&(s.safeToggle(e,"visible",!0),this.updateVisibleLabelsArray(e,!0))},o.changeEndpointOnEditStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&s.safeToggle(this.endpoints[e].label,"on-edit",t)},o.changeEndpointEditableStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&s.safeToggle(this.endpoints[e].label,"editable",t)},o.changeAllEndpointsEditableStyle=function(e){for(var t in this.endpoints)this.endpoints.hasOwnProperty(t)&&this.changeEndpointEditableStyle(t,e)},o.changeAllEndpointsOnEditStyle=function(e){for(var t in this.endpoints)this.endpoints.hasOwnProperty(t)&&this.changeEndpointOnEditStyle(t,e)},o.hideLabelsOutsideOfView=function(){this.viewer.model&&!this.viewer.model.is2d()&&this.visibleLabels.forEach(function(e){if(e.point){var t=this.viewer.navigation.isPointVisible(e.point);(e.classList.contains("visible")&&!t||!e.classList.contains("visible")&&t)&&e.classList.toggle("visible",t)}}.bind(this))},o.showClick=function(e){this.tool.getActivePointIndex()!==e&&this.showLabel(this.endpoints[e].label)},o.hideClick=function(e){this.endpoints[e]&&this.hideLabel(this.endpoints[e].label)},o.renderPick=function(e){this.endpoints[e]||this.createEndpoint(e),this.renderEndpointGeometry(e),this.showClick(e)},o.renderEndpointGeometry=function(e){var t=s.getSnapResultPosition(this.measurement.getPick(e),this.viewer);this.endpoints[e].position=t.clone()},o.drawEdgeAsCylinder=function(e,t,i,n,s){var a,o=[];if(1==n)for(var r=0;r<e.vertices.length;r+=2)a=this.cylinderMesh(e.vertices[r],e.vertices[r+1],t,i,s),this.setCylinderScale(a,e.vertices[r],e.vertices[r+1]),o.push(a);else for(r=0;r<e.vertices.length-1;r++)a=this.cylinderMesh(e.vertices[r],e.vertices[r+1],t,i,s),this.setCylinderScale(a,e.vertices[r],e.vertices[r+1]),o.push(a);return o},o.drawDashedLine=function(e,t,i,n,s,a,o){for(var r=new THREE.Geometry,l=(new THREE.Vector3).subVectors(t,e),h=l.length()-n,c=l.normalize(),d=0,u=e.clone(),p=0;p<h;){var m=this.viewer.navigation.isPointVisible(u);m&&(r.vertices[d]=u.clone(),d++),u.addVectors(u,c.clone().multiplyScalar(i)),m&&(r.vertices[d]=u.clone(),d++),u.addVectors(u,c.clone().multiplyScalar(n)),p+=i+n}return l=this.drawEdgeAsCylinder(r,s,a,1,this.getNewCylinderGeometry()),this.viewer.impl.addMultipleOverlays(o,l),l},o.drawLineAsCylinder=function(e,t,i,n){var s;return 2==e.vertices.length&&(s=this.cylinderMesh(e.vertices[0],e.vertices[1],t,i,this.getNewCylinderGeometry()),this.setCylinderScale(s,e.vertices[0],e.vertices[1]),this.viewer.impl.addOverlay(n,s)),s},o.getNewCylinderGeometry=function(){return new THREE.CylinderGeometry(.1,.1,1,8,1,!0)},o.cylinderMesh=function(e,t,i,n,s){var a=(new THREE.Vector3).subVectors(t,e),o=new THREE.Matrix4;o.lookAt(e,t,(new THREE.Object3D).up),o.multiply((new THREE.Matrix4).set(n,0,0,0,0,0,n,0,0,-a.length(),0,0,0,0,0,1));var r=new THREE.Mesh(s,i);return r.applyMatrix(o),r.lmv_line_width=n,r.position.x=(t.x+e.x)/2,r.position.y=(t.y+e.y)/2,r.position.z=(t.z+e.z)/2,r},o.setCylinderScale=function(e,t,i){var n;if(t&&i){var a=s.nearestPointInPointToSegment(this.viewer.navigation.getPosition(),t,i);n=this.setScale(a)}else n=this.setScale(e.position);e.hasOwnProperty("lmv_line_width")&&(n*=e.lmv_line_width),e.scale.x=n,e.scale.z=n},o.setScale=function(e){var t=this.viewer.navigation,i=t.getCamera(),n=t.getPosition(),s=e.clone(),a=i.isPerspective?s.sub(n).length():t.getEyeVector().length(),o=t.getVerticalFov();return 5*(2*a*Math.tan(THREE.Math.degToRad(.5*o)))/t.getScreenViewport().height},o.alignLabelWithLine=function(e,t,i,n,s){var a=s.navigation.getCameraUpVector(),o=180*new THREE.Vector3(0,1,0).angleTo(a)/Math.PI;o=a.x>=0?o:-o;var r=null,l=t.x-i.x,h=t.y-i.y;r=-((r=t.x<i.x?180*Math.atan2(-h,-l)/Math.PI:180*Math.atan2(h,l)/Math.PI)+o),Math.abs(r)>90&&(r+=180),e.style.transform="rotate("+r+"deg) translate(0px, "+n+"px)"},o.destroy=function(){for(var e in this.materialPoint=null,this.materialFace=null,this.materialLine=null,this.materialAngle=null,n.isTouchDevice()&&this.clearLabelMobileGestures(),this.endpoints)if(this.endpoints.hasOwnProperty(e)){var t=this.endpoints[e];t.label&&(t.label.removeEventListener(n.isSafari()?"mousedown":"pointerdown",this.onMouseClickBinded),t.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),t.label.parentNode.removeChild(t.label),t.label=null)}this.visibleLabels=[]},o.renderRubberband=function(e){switch(this.measurement.measurementType){case s.MeasurementTypes.MEASUREMENT_DISTANCE:var t=e[1],i=e[2],n=s.getSnapResultPosition(t,this.viewer),a=s.getSnapResultPosition(i,this.viewer);n&&a&&this.renderDistanceMeasurement(n,a);break;case s.MeasurementTypes.MEASUREMENT_ANGLE:this.renderAngleMeasurement(e);break;case s.MeasurementTypes.MEASUREMENT_AREA:this.renderAreaMeasurement(e)}},o.initMouseEvent=function(e,t){var i=n.isSafari();this.onMouseClickBinded=function(e){(i||"mouse"===e.pointerType)&&(e.canvasX=e.clientX,e.canvasY=e.clientY,this.tool.editEndpoint(e,t,this.measurement.id))}.bind(this),e.addEventListener(i?"mousedown":"pointerdown",this.onMouseClickBinded)}},"./extensions/Measure/MagnifyingGlass.js":
/*!***********************************************!*\
  !*** ./extensions/Measure/MagnifyingGlass.js ***!
  \***********************************************/
/*! exports provided: MagnifyingGlass */function(e,t,i){"use strict";i.r(t),i.d(t,"MagnifyingGlass",(function(){return s}));var n=Bimfish.Viewing,s=function(e){var t=e,i=!1,n=["magnifyingGlass"],s=!1,a=null,o=null,r=null,l=null,h=null,c=!1,d=Bimfish.Viewing;this.setGlobalManager(e.globalManager),this.isActive=function(){return i},this.activate=function(){i=!0,this.updateMagnifyingGlassBinded=this.updateMagnifyingGlass.bind(this)},this.updateMagnifyingGlass=function(){var e=this.getWindow(),i=this.getDocument();if(c)a&&a.classList.remove("visible"),c=!1;else{var n=e.devicePixelRatio,s=120*n,d=n*(l-30),u=n*(h-30);a||((a=i.createElement("canvas")).className="magnifying-glass",a.width=s,a.height=s,a.style.width="120px",a.style.height="120px",a.getContext("2d").translate(0,s),a.getContext("2d").scale(1,-1),t.container.appendChild(a),o=a.getContext("2d").createImageData(Math.ceil(s/2),Math.ceil(s/2)),r=new Uint8Array(o.data.buffer));var p=a.getContext("2d"),m=t.canvas.getContext("webgl")||t.canvas.getContext("experimental-webgl");m.readPixels(d,t.canvas.height-u-o.height,o.width,o.height,m.RGBA,m.UNSIGNED_BYTE,r),p.putImageData(o,0,0),p.drawImage(a,0,0,o.width,o.height,0,0,s,s),this.setGlassPosition(a,l,h,120,15),a.classList.toggle("visible",!0)}},this.deactivate=function(){this.clearMagnifyingGlass(),i=!1},this.getNames=function(){return n},this.getName=function(){return n[0]},this.getPriority=function(){return 70},this.setGlassPosition=function(e,t,i,n,s){e.style.left=t-n/2+"px",e.style.top=i-n-s>0?i-n-s+"px":i+s+"px"},this.requestUpdate=function(){t.hasEventListener(Bimfish.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded)||t.addEventListener(Bimfish.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded,{once:!0})},this.drawMagnifyingGlass=function(e,i){l=e,h=i,t.impl.invalidate(!1,!1,!0),this.requestUpdate()},this.clearMagnifyingGlass=function(){c=!0,this.requestUpdate()},this.handlePressHold=function(e){if(d.isTouchDevice())switch(e.type){case"press":s=!0,this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"pressup":this.clearMagnifyingGlass(),s=!1}return!1},this.handleGesture=function(e){if(s&&d.isTouchDevice())switch(e.type){case"dragstart":case"dragmove":this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"dragend":this.clearMagnifyingGlass(),s=!1;break;case"pinchstart":case"pinchmove":this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"pinchend":this.clearMagnifyingGlass()}return!1},this.handleMouseMove=function(e){return!1},this.handleWheelInput=function(e){return!1},this.handleButtonUp=function(e,t){return!1}};n.GlobalManagerMixin.call(s.prototype)},"./extensions/Measure/Measure.css":
/*!****************************************!*\
  !*** ./extensions/Measure/Measure.css ***!
  \****************************************/
/*! no static exports found */function(e,t,i){var n=i(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/dist/cjs.js!./Measure.css */"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Measure.css");"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(/*! ../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(n,s);n.locals&&(e.exports=n.locals)},"./extensions/Measure/Measure.js":
/*!***************************************!*\
  !*** ./extensions/Measure/Measure.js ***!
  \***************************************/
/*! exports provided: MeasureExtension */function(e,t,i){"use strict";i.r(t),i.d(t,"MeasureExtension",(function(){return b}));var n=i(/*! ./MeasureTool */"./extensions/Measure/MeasureTool.js"),s=i(/*! ./CalibrationTool */"./extensions/Measure/CalibrationTool.js"),a=i(/*! ./MagnifyingGlass */"./extensions/Measure/MagnifyingGlass.js"),o=i(/*! ./CalibrationPanels */"./extensions/Measure/CalibrationPanels.js"),r=i(/*! ./MeasureToolbar */"./extensions/Measure/MeasureToolbar.js");i(/*! ./Measure.css */"./extensions/Measure/Measure.css"),i(/*! ./Calibration.css */"./extensions/Measure/Calibration.css");function l(e,t,i,n,s,a,o){try{var r=e[a](o),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,s)}function h(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function o(e){l(a,n,s,o,r,"next",e)}function r(e){l(a,n,s,o,r,"throw",e)}o(void 0)}))}}var c=AutodeskNamespace("Bimfish.Viewing.Extensions.Measure"),d=Bimfish.Viewing,u=Bimfish.Viewing.Private,p=d.UI,m=Bimfish.Viewing.MeasureCommon,g=m.MeasurementTypes.MEASUREMENT_DISTANCE,b=function(e,t){Bimfish.Viewing.Extension.call(this,e,t),this.modes=["distance","angle","area","calibrate"],this.name="measure",this._onModelLoaded=this._onModelLoaded.bind(this)};b.prototype=Object.create(Bimfish.Viewing.Extension.prototype),b.prototype.constructor=b,b.prototype.load=h(regeneratorRuntime.mark((function e(){var t,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.viewer.loadExtension("Bimfish.Snapping");case 2:if(t=this,i=this.viewer,this.hasUI=Bimfish.Viewing.GuiViewer3D&&i instanceof Bimfish.Viewing.GuiViewer3D,this.escapeHotkeyId="Bimfish.Measure.Hotkeys.Escape",i.toolController){e.next=8;break}return e.abrupt("return",!1);case 8:this.options=this.options||{},(o={}).onCloseCallback=function(){t.enableMeasureTool(!1)},this.sharedMeasureConfig={units:null,precision:null,calibrationFactor:null},o.snapperOptions=this.options.snapperOptions,this.forceCalibrate=this.options.forceCalibrate,this.snapper=new Bimfish.Viewing.Extensions.Snapping.Snapper(i,{renderSnappedTopology:!0}),i.toolController.registerTool(this.snapper),this.measureTool=new n.MeasureTool(i,o,this.sharedMeasureConfig,this.snapper),i.toolController.registerTool(this.measureTool),this.calibrationTool=new s.CalibrationTool(i,this.options,this.sharedMeasureConfig,this.snapper),i.toolController.registerTool(this.calibrationTool),this.magnifyingGlass=new a.MagnifyingGlass(i),i.toolController.registerTool(this.magnifyingGlass),this.calibration={},this.onFinishedCalibration=function(e){t.measureToolbar&&t.measureToolbar.updateSettingsPanel(),t.activateInitiator&&t.activateInitiator(),t.calibration.units=e.units,t.calibration.scaleFactor=e.scaleFactor,t.calibration.size=e.size,t.calibration.precision=t.sharedMeasureConfig.precision},i.addEventListener("finished-calibration",this.onFinishedCalibration),this.onMeasurementChanged=function(e){var i=e.data.type;console.log(e),t.changeMeasurementType(i)},i.addEventListener(m.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),i.model?this._onModelLoaded({model:i.model}):i.addEventListener(d.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded,{once:!0}),this.onModelRemoved=function(){t.measurementToolbarButton&&(t.viewer.model||(t.measurementToolbarButton.setState(Bimfish.Viewing.UI.Button.State.DISABLED),t.exitMeasurementMode()))},this.onModelAdded=function(){t.measurementToolbarButton&&(1===t.viewer.getVisibleModels().length&&t.measurementToolbarButton&&t.measurementToolbarButton.setState(Bimfish.Viewing.UI.Button.State.INACTIVE))},i.addEventListener(d.MODEL_ADDED_EVENT,this.onModelAdded),i.addEventListener(d.MODEL_REMOVED_EVENT,this.onModelRemoved);case 32:case"end":return e.stop()}}),e,this)}))),b.prototype._onModelLoaded=function(e){var t=e.model;this.sharedMeasureConfig.units=this.options.calibrationUnits||t.getDisplayUnit(),this.sharedMeasureConfig.precision=t.is2d()?3:1,this.options.calibrationUnits&&!isNaN(this.options.calibrationFactor)&&this.calibrationTool.calibrateByScale(this.options.calibrationUnits,this.options.calibrationFactor)},b.prototype.unload=function(){var e=this.viewer;return this.destroyUI(),e.removeEventListener("finished-calibration",this.onFinishedCalibration),e.removeEventListener(m.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),e.removeEventListener(d.MODEL_ADDED_EVENT,this.onModelAdded),e.removeEventListener(d.MODEL_REMOVED_EVENT,this.onModelRemoved),e.removeEventListener(d.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded),e.toolController.deregisterTool(this.snapper),this.snapper=null,e.toolController.deregisterTool(this.measureTool),this.measureTool=null,e.toolController.deregisterTool(this.calibrationTool),this.calibrationTool=null,e.toolController.deregisterTool(this.magnifyingGlass),this.magnifyingGlass=null,this.unloaded=!0,!0},b.prototype.setActive=function(e){return this.enableMeasureTool(e)},b.prototype.toggle=function(){return this.isActive()?this.enableMeasureTool(!1):this.enableMeasureTool(!0),this.isActive()},b.prototype.getMeasurement=function(e,t){var i=null;return this.measureTool.isActive()&&(i=this.measureTool.getMeasurement(e,t)),i},b.prototype.getMeasurementList=function(e,t){var i=[];return this.measureTool.isActive()&&(i=this.measureTool.getMeasurementList(e,t)),i},b.prototype.getUnitOptions=function(){return[{name:"Unknown",type:""},{name:"Millimeters",type:"mm"},{name:"Centimeters",type:"cm"},{name:"Meters",type:"m"},{name:"Meters and centimeters",type:"m-and-cm"},{name:"Points",type:"pt"},{name:"Decimal feet",type:"decimal-ft"},{name:"Feet and fractional inches",type:"ft"},{name:"Feet and decimal inches",type:"ft-and-decimal-in"},{name:"Decimal inches",type:"decimal-in"},{name:"Fractional inches",type:"fractional-in"}]},b.prototype.getPrecisionOptions=function(e){return e?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"]},b.prototype.getDefaultUnit=function(){var e=this.viewer.model.getDisplayUnit();return console.log(e),e},b.prototype.openCalibrationRequiredDialog=function(e){this.hasUI?(this.CalibrationRequiredDialog||(this.CalibrationRequiredDialog=new o.CalibrationRequiredDialog(this,this.viewer,"calibration-required","Calibration Required",this.options)),this.CalibrationRequiredDialog.setVisible(!0)):this.viewer.dispatchEvent({type:m.Events.CALIBRATION_REQUIRED_EVENT}),"measure"===e?this.activateInitiator=function(){this.enableMeasureTool(!0,g),this.activateInitiator=null}:"dimension"===e&&(this.activateInitiator=function(){this.viewer.dispatchEvent({type:m.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT}),this.activateInitiator=null})},b.prototype.getCalibration=function(){return this.calibration},b.prototype.activate=function(e){if(this.activeStatus&&this.mode===e)return!0;var t;switch(this.enterMeasurementMode(),console.log(e),e){default:e="distance";case"distance":t=this.enableMeasureTool(!0,m.MeasurementTypes.MEASUREMENT_DISTANCE);break;case"angle":t=this.enableMeasureTool(!0,m.MeasurementTypes.MEASUREMENT_ANGLE);break;case"area":this.viewer.model.is2d()?t=this.enableMeasureTool(!0,m.MeasurementTypes.MEASUREMENT_AREA):console.warn("Area mode is applicable on 2D models only");break;case"calibrate":t=this.enableCalibrationTool(!0)}return this.mode=t?e:"",this.activeStatus=!0,!0},b.prototype.deactivate=function(){return this.activeStatus&&(this.exitMeasurementMode(),this.enableMeasureTool(!1),this.activeStatus=!1),!0},b.prototype.enableMeasureTool=function(e,t){if(t===m.MeasurementTypes.MEASUREMENT_AREA&&this.viewer.model&&!this.viewer.model.is2d())return!1;console.log("measure tool: ",e);var i=this.viewer.toolController,n=1===this.selectedTool;return console.log(this.measureTool),!this.viewer.model||!e&&n?(this.measureTool.isActive()&&(i.deactivateTool("measure"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons(),this.selectedTool=0),!0):(this.forceCalibrate|=this.viewer.model.getData().isLeaflet||this.viewer.model.getData().isPdf,t||(t=g),e&&!n?(this.checkAndFetchTopology(i.getTool("measure")),!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===m.MeasurementTypes.MEASUREMENT_ANGLE?(this.calibrationTool.isActive()&&i.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.updateSettingsPanel(),i.activateTool("measure"),this.selectedTool=1,this.changeMeasurementType(t),!0):(this.viewer.addEventListener(c.OPEN_TOOL_AFTER_CALIBRAION,function(){this.enableMeasureTool(!0)}.bind(this),{once:!0}),this.openCalibrationRequiredDialog("measure"),!1)):!(!e||!n)&&(!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===m.MeasurementTypes.MEASUREMENT_ANGLE?(this.changeMeasurementType(t),!0):(this.openCalibrationRequiredDialog("measure"),!1)))},b.prototype.changeMeasurementType=function(e){switch(this.measureTool.changeMeasurementType(e),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(e)),e){case m.MeasurementTypes.MEASUREMENT_DISTANCE:this.mode="distance";break;case m.MeasurementTypes.MEASUREMENT_ANGLE:this.mode="angle";break;case m.MeasurementTypes.MEASUREMENT_AREA:this.mode="area";break;default:this.mode=""}},b.prototype.setIsolateMeasure=function(e){this.measureTool.setIsolateMeasure(e),e?this.measureTool.isolateMeasurement():this.measureTool.clearIsolate()},b.prototype.enableCalibrationTool=function(e){var t=this.viewer.toolController,i=2==this.selectedTool;return e&&!i?(this.measureTool.isActive()&&t.deactivateTool("measure"),t.activateTool("calibration"),this.viewer.dispatchEvent({type:m.Events.UNITS_CALIBRATION_STARTS_EVENT}),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(m.MeasurementTypes.CALIBRATION)),this.selectedTool=2,!0):!(e||!i)&&(this.calibrationTool.isActive()&&(this.mode="",t.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons()),this.selectedTool=0,!0)},b.prototype.enterMeasurementMode=function(){if(!this._measurementMode&&(this._measurementMode=!0,this.viewer.dispatchEvent({type:m.Events.MEASUREMENT_MODE_ENTER}),this.viewer.getToolbar)){for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,n=0;n<i;++n)t.children[n].style.display="none";this.navigationControls=e.getControl(Bimfish.Viewing.TOOLBAR.NAVTOOLSID),this.navigationControls.setVisible(!0),this.navigationControls.container.style.display="",this.measureControls=e.getControl(Bimfish.Viewing.TOOLBAR.MEASURETOOLSID),this.measureControls.setVisible(!0),this.measureControls.container.style.display="";var s=this.measurementToolbarButton.getId();this.measurementToolbarButton.index=this.measurementToolbarButton.parent.indexOf(s),this.measurementToolbarButton.parent.removeControl(s),this.measureToolbar.toggleVisible(),this.viewer.centerToolBar&&this.viewer.centerToolBar(),this.enableMeasureTool(!0,g)}},b.prototype.exitMeasurementMode=function(){this._measurementMode&&(this.viewer.dispatchEvent({type:m.Events.MEASUREMENT_MODE_LEAVE}),this.measureToolbar&&this.measureToolbar.closeToolbar(),this.CalibrationRequiredDialog&&this.CalibrationRequiredDialog.isVisible()&&this.CalibrationRequiredDialog.setVisible(!1),this._measurementMode=!1)},b.prototype.onToolbarCreated=function(e){if(!this.measureToolbar){var t=this,i=this.viewer,n=e.getControl(d.TOOLBAR.MODELTOOLSID);this.measurementToolbarButton=new p.Button("toolbar-measurementSubmenuTool"),this.measurementToolbarButton.setToolTip("Measure"),this.measurementToolbarButton.setIcon("adsk-icon-measure"),n.measurementToolbarButton=this.measurementToolbarButton,n.addControl(this.measurementToolbarButton,{index:0});var s=this.viewer.model?Bimfish.Viewing.UI.Button.State.INACTIVE:Bimfish.Viewing.UI.Button.State.DISABLED;this.measurementToolbarButton.setState(s),this.measureToolbar=new r.MeasureToolbar(this),this.measureToolbar.init(),this.measurementToolbarButton.onClick=this.activate.bind(this);var a=[{keycodes:[Bimfish.Viewing.KeyCode.ESCAPE],onRelease:function(){if(t._measurementMode)return t.exitMeasurementMode(),!0}}];i.getHotkeyManager().pushHotkeys(this.escapeHotkeyId,a)}},b.prototype.checkAndFetchTopology=function(e){this._checkedTopology||(this._checkedTopology=!0,this.viewer.model.is3d()?this.viewer.modelHasTopology()?e&&e.setTopologyAvailable():(e&&e.setFetchingTopology(),this.viewer.model.fetchTopology().then((function(t){e&&e.setTopologyAvailable()})).catch((function(t){u.logger.log(t),e&&e.setNoTopology()}))):e&&e.setNoTopology())},b.prototype.destroyUI=function(){var e=this.viewer;this.measureToolbar&&(this.measureToolbar.destroy(),this.measureToolbar=null),this.measurementToolbarButton&&(this.measurementToolbarButton.removeFromParent(),this.measurementToolbarButton=null),e.getHotkeyManager().popHotkeys(this.escapeHotkeyId)},b.prototype.setUnits=function(e){this.measureTool.setUnits(e)},b.prototype.getUnits=function(){return this.measureTool.getUnits()},b.prototype.setPrecision=function(e){this.measureTool.setPrecision(e)},b.prototype.getPrecision=function(){return this.measureTool.getPrecision()},b.prototype.calibrate=function(e,t){this.calibrationTool.calibrate(e,t)},b.prototype.calibrateByScale=function(e,t){this.calibrationTool.calibrateByScale(e,t)},b.prototype.isCalibrationValid=function(e,t){return this.calibrationTool.isCalibrationValid(e,t)},b.prototype.getCalibrationFactor=function(){return this.calibrationTool.getCalibrationFactor()},b.prototype.showAddCalibrationLabel=function(){this.calibrationTool.showAddCalibrationLabel()},b.prototype.deleteCurrentMeasurement=function(){this.measureTool.deleteCurrentMeasurement()},b.prototype.selectMeasurementById=function(e){this.measureTool.selectMeasurementById(e)},b.prototype.setFreeMeasureMode=function(e){this.snapper.setSnapToPixel(e)},d.theExtensionManager.registerExtension("Bimfish.Measure",b)},"./extensions/Measure/MeasureTool.js":
/*!*******************************************!*\
  !*** ./extensions/Measure/MeasureTool.js ***!
  \*******************************************/
/*! exports provided: MeasureTool */function(e,t,i){"use strict";i.r(t),i.d(t,"MeasureTool",(function(){return a}));var n=i(/*! ./MeasurementsManager */"./extensions/Measure/MeasurementsManager.js"),s=i(/*! ./MeasureToolIndicator */"./extensions/Measure/MeasureToolIndicator.js");function a(e,t,i,a){var o=e,r=["measure"];this.setGlobalManager(e.globalManager);var l=i,h=Bimfish.Viewing,c=(Bimfish.Viewing.Extensions.Measure,Bimfish.Viewing.MeasureCommon),d=!1,u=!1,p=!1,m=0,g=!1,b=!1,v=null,f=null,w=!1,y=new n.MeasurementsManager(o),A=null,x=null,E=a,M=!1,T=[],C=null,L=null,k=c.MeasurementTypes.MEASUREMENT_DISTANCE;function B(){return A?0===m?null:(e=m===A.getMaxNumberOfPicks()+1?A.countPicks():m,A.getPick(e)):null;var e}function S(){return A?0===m?null:(e=1===m?A.countPicks():m===A.getMaxNumberOfPicks()+1?A.countPicks()-1:m-1,A.getPick(e)):null;var e}function P(){m=0}function V(){m=A.countPicks()+1,D(!0),A.indicator.enableSelectionAreas(!0)}function R(){return 0===m||!A}function I(t,i){if(A.hasPick(1)&&m>3&&!A.closedArea){var n=A.getPick(1),s=c.getSnapResultPosition(n,o),a=c.project(s,e),r=c.getSnapResultPosition(t,o),l=c.project(r,e);console.log(r),(i||l.distanceTo(a)<25)&&(E.onMouseMove(a),n.copyTo(t))}}function N(e){var t=A.computeResult(A.picks,o,E);return A.indicator.render(A.picks,g||!!e),t}function D(e){for(var t in y.measurementsList)if(y.measurementsList.hasOwnProperty(t)){var i=y.measurementsList[t];i.indicator.changeAllEndpointsEditableStyle(e),i.indicator.enableSelectionAreas(e),i.indicator.enableLabelsTouchEvents(e)}}this.areAllPicksSet=function(){return A&&m===A.getMaxNumberOfPicks()+1},this.register=function(){},this.deregister=function(){this.deactivate()},this.isActive=function(){return d},this.getNames=function(){return r},this.getName=function(){return r[0]},this.getPriority=function(){return 50},this.getCursor=function(){return u?null:"url(data:image/png;base64,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), auto"},this.getCurrentMeasurementRaw=function(){return A},this.getActivePointIndex=function(){return m},this.startNewMeasurement=function(){(A=y.createMeasurement(k)).attachIndicator(o,this,s.MeasureToolIndicator),x instanceof Function&&(x(),x=null),D(!1)},this.changeMeasurementType=function(e){k=e},this.activate=function(){d=!0,y.init(),P(),u=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,o.impl.pauseHighlight(!0),o.clearSelection(),L=o.getState({objectSet:!0}),console.log("active snapper"),o.toolController.activateTool("snapper"),this.onMeasurementChangedBinded=this.onMeasurementChanged.bind(this),o.addEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),o.addEventListener(h.CAMERA_CHANGE_EVENT,this.onCameraChange),o.addEventListener(h.SHOW_ALL_EVENT,this.onShowAllEvent)},this.deactivate=function(){if(d){for(d=!1,this.clearIsolate(),L=null;Object.keys(y.measurementsList).length>0;)A=y.measurementsList[Object.keys(y.measurementsList)[0]],y.changeCurrentMeasurement(A),this.clearCurrentMeasurement(),A=null;E&&E.isActive()&&o.toolController.deactivateTool("snapper"),o.toolController.deactivateTool("magnifyingGlass"),o.impl.pauseHighlight(!1),y.destroy(),o.removeEventListener(h.CAMERA_CHANGE_EVENT,this.onCameraChange),o.removeEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),o.removeEventListener(h.SHOW_ALL_EVENT,this.onShowAllEvent)}},this.update=function(){return!1},this.getUnits=function(){return l.units},this.setUnits=function(e){if(l.units!==e)for(var t in l.units=e,o.dispatchEvent({type:c.Events.DISPLAY_UNITS_CHANGED,units:e}),y.measurementsList)if(y.measurementsList.hasOwnProperty(t)){var i=y.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getPrecision=function(){return l.precision},this.setPrecision=function(e){if(l.precision!==e)for(var t in l.precision=e,y.measurementsList)if(y.measurementsList.hasOwnProperty(t)){var i=y.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getDistanceXYZ=function(e){return e||(e=A),this.getDistanceAux(e.distanceXYZ)},this.getDistanceX=function(e){return e||(e=A),this.getDistanceAux(e.distanceX)},this.getDistanceY=function(e){return e||(e=A),this.getDistanceAux(e.distanceY)},this.getDistanceZ=function(e){return e||(e=A),this.getDistanceAux(e.distanceZ)},this.getDistanceAux=function(e){if(o.model){var t=Bimfish.Viewing.Private.convertUnits(o.model.getUnitString(),l.units,l.calibrationFactor,e||0);return Bimfish.Viewing.Private.formatValueWithUnits(t,l.units,3,l.precision)}},this.getAngle=function(e){e||(e=A);var t=e.angle;return Bimfish.Viewing.Private.formatValueWithUnits(t,String.fromCharCode(176),3,l.precision)},this.getArea=function(t){if(o.model){t||(t=A);var i=Bimfish.Viewing.Private.convertUnits(e.model.getUnitString(),l.units,l.calibrationFactor,t.area,"square");return l.units?Bimfish.Viewing.Private.formatValueWithUnits(i,l.units+"^2",3,l.precision):Bimfish.Viewing.Private.formatValueWithUnits(i,null,3,l.precision)}},this.getMeasurement=function(e,t){l.units=e||l.units,l.precision=t||l.precision;var i=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"];return{from:i[A.getGeometry(1).type],to:i[A.getGeometry(2).type],distance:this.getDistanceXYZ(),deltaX:this.getDistanceX(),deltaY:this.getDistanceY(),deltaZ:this.getDistanceZ(),angle:this.getAngle(),area:this.getArea(),unitType:l.units,precision:l.precision}},this.getMeasurementPoints=function(){return A.clonePicks()},this.getMeasurementList=function(e,t){for(var i=[],n=null,s=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"],a=Object.keys(y.measurementsList),o=0;o<a.length;o++){var r={from:s[(n=y.measurementsList[a[o]]).getGeometry(1).type],to:s[n.getGeometry(2).type],distance:this.getDistanceXYZ(n),deltaX:this.getDistanceX(n),deltaY:this.getDistanceY(n),deltaZ:this.getDistanceZ(n),angle:this.getAngle(n),area:this.getArea(n),unitType:e||l.units,precision:t||l.precision};i.push(r)}return i},this.clearCurrentMeasurement=function(){if(A){for(var e in P(),A.picks)A.picks.hasOwnProperty(e)&&this.clearPick(e);this.updateViewportId(!0),w&&this.clearIsolate(),A.indicator.clear(),A.indicator.destroy(),A=y.removeCurrentMeasurement(),A=null}D(!0)},this.clearPick=function(e){A&&A.hasPick(e)&&(A.clearPick(e),A.indicator.hideClick(e))},this.setIsolateMeasure=function(e){w=e},this.isolateMeasurement=function(){if(d&&w){var e=o.model.id,t={};for(var i in y.measurementsList)if(y.measurementsList.hasOwnProperty(i)){var n=y.measurementsList[i];for(var i in n.picks)if(n.picks.hasOwnProperty(i)){var s=n.getPick(i),a=s.modelId||e;Array.isArray(t[a])||(t[a]=[]),-1==t[a].indexOf(s.snapNode)&&t[a].push(s.snapNode)}}var r=[];for(var a in t)if(t.hasOwnProperty(a)){var l=o.impl.findModel(parseInt(a));r.push({model:l,ids:t[a]})}r.length&&o.impl.visibilityManager.aggregateIsolate(r)}},this.clearIsolate=function(){L&&o.restoreState(L,void 0,!0)},this.onShowAllEvent=function(e){L=null},this.deselectAllMeasurements=function(){for(var e in A&&!this.areAllPicksSet()&&(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement()),y.measurementsList)if(y.measurementsList.hasOwnProperty(e)){var t=y.measurementsList[e];t.indicator&&(t.indicator.setSimple(!0),t.indicator.hideEndpoints(),t.indicator.unfocusLabels())}A=null},this.onMeasurementChanged=function(){this.deselectAllMeasurements(),(A=y.getCurrentMeasurement()).isComplete()&&(A.indicator.setSimple(!1),V(),N(!0),this.updateResults())},this.selectMeasurementById=function(e){A||(A=y.selectMeasurementById(e)),A.id!==e&&(this.areAllPicksSet()||(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement()),A=y.selectMeasurementById(e))},this.editEndpoint=function(e,t,i){if(A.id===i&&m===t)return A.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var n in this.selectMeasurementById(i),m=t,this.isEditingEndpoint=!0,A.indicator.changeEndpointOnEditStyle(t,!0),D(!1),A.picks)A.picks.hasOwnProperty(n)&&(T[n]=A.getPick(n).clone());this.updateViewportId(),w&&this.clearIsolate(),h.isMobileDevice()||this._handleMouseEvent(e)},this.undoEditEndpoint=function(){for(var e in A.indicator.clear(),A.picks)A.picks.hasOwnProperty(e)&&A.setPick(e,T[e].clone());A.indicator.changeEndpointOnEditStyle(m,!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),V(),N(!0)},this.updateResults=function(){A.indicator.updateResults(),A.indicator.showEndpoints(),A.indicator.focusLabels(),A.isComplete()&&this.isolateMeasurement()},this.deleteCurrentMeasurement=function(){this.clearCurrentMeasurement(),this.isEditingEndpoint=!1,this.editByDrag=!1,u=!1,this.isolateMeasurement()},this.deleteCurrentPick=function(){for(var e=B().id;A.hasPick(e+1);)A.setPick(e,A.getPick(e+1)),e++;delete A.picks[e];var t=A.countPicks();if(--m<=0&&(m=t),this.isEditingEndpoint){if(2==t)return void this.deleteCurrentMeasurement();A.indicator.changeAllEndpointsOnEditStyle(!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),V(),N()}else this._handleMouseEvent()},this.updateViewportId=function(e){if(o.model&&o.model.is2d())if(e||R())o.impl.updateViewportId(0),E.setViewportId(null);else if(!M){var t=S().viewportIndex2d||B().viewportIndex2d;o.impl.updateViewportId(t),E&&E.setViewportId(t)}},this.setNoTopology=function(){A&&A.indicator?A.indicator.setNoTopology():x=function(){A.indicator.setNoTopology()}},this.setFetchingTopology=function(){A&&A.indicator?A.indicator.setFetchingTopology():x=function(){A.indicator.setFetchingTopology()}},this.setTopologyAvailable=function(){A&&A.indicator?A.indicator.setTopologyAvailable():x=function(){A.indicator.setTopologyAvailable()}},this.getSnapper=function(){return E},this.correctPickPosition=function(){var t,i=B();if(i&&!i.getGeometry()&&C&&(i.geomType=c.SnapType.SNAP_VERTEX,i.geomVertex=C,i.intersectPoint=C),console.log(i),!!A&&0!==m&&(t=1===m?A.countPicks():m===A.getMaxNumberOfPicks()+1?A.countPicks()-1:m-1,A.hasPick(t))){var n=S();if(!c.correctPerpendicularPicks(n,i,e,E)){var s=(i.id+1)%(A.countPicks()+1);if(0===s&&(s=1),s!==i.id&&A.hasPick(s)){var a=A.getPick(s);c.correctPerpendicularPicks(a,i,e,E)}}A.measurementType==c.MeasurementTypes.MEASUREMENT_AREA&&I(i)}},this._handleMouseEvent=function(e){var t=!1;if(E.isSnapped())(this.areAllPicksSet()||R())&&(this.startNewMeasurement(),m=1),E.copyResults(B()),t=!0,console.log(B());else{if(e&&o.model&&o.model.is2d()){var i=o.container.getBoundingClientRect(),n=e.canvasX||e.clientX-i.left,s=e.canvasY||e.clientY-i.top;n&&s&&(C=c.inverseProject({x:n,y:s},o))}if(g&&A&&!this.isEditingEndpoint&&m===A.getMaxNumberOfPicks()+1)return!0;var a=B();a&&a.clear()}if(A&&(this.correctPickPosition(),g&&this._doConsumeSingleClick(),!R())){var r=N();A.hasPick(2)&&(t&=r)}return t},this._doConsumeSingleClick=function(){if(A.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!A.closedArea){var e=A.countPicks(),t=A.getPick(1),i=A.getPick(e);e>=3&&A.hasEqualPicks(t,i)&&(i.clear(),delete A.picks[e],A.closedArea=!0)}this.updateResults();var n=A.isComplete();this.updateViewportId(n)},this.handleButtonDown=function(e,t){return h.isMobileDevice()||(u=!0,0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(g=!0,v=e.canvasX,f=e.canvasY)),!1},this.handleMouseMove=function(e){return h.isMobileDevice()||(e.canvasX===v&&e.canvasY===f||(g=!1),p=this.isEditingEndpoint,R()||this.areAllPicksSet()||(this.clearPick(m),this._handleMouseEvent(e)),E.indicator.render()),!1},this.restoreMouseListeners=function(){o.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(g=!1,h.isTouchDevice())switch(e.type){case"press":return M=!0,(this.areAllPicksSet()||R())&&(this.startNewMeasurement(),w&&this.clearIsolate(),m=1),this._handleMouseEvent(e),E.indicator.render(),!0;case"pressup":return g=!0,this.restoreMouseListeners(),b=!b,this.handleSingleClick(e),M=!1,!0}return!1},this.handleGesture=function(e){if(h.isTouchDevice()){if(g=!1,M)switch(this.clearPick(m),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),E.indicator.render(),!0;case"dragend":return M=!1,g=!0,this.editByDrag||(b=!b,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchstart":case"pinchmove":this._handleMouseEvent(e),E.indicator.render();break;case"pinchend":return g=!0,b=!b,this.handleSingleClick(e),this.restoreMouseListeners(),!0}if(-1!==e.type.indexOf("pinch"))for(var t in y.measurementsList){if(y.measurementsList.hasOwnProperty(t))y.measurementsList[t].indicator.updateScale()}}return!1},this.handleButtonUp=function(e,t){return u=!1,v=null,f=null,p&&(g=!0,b=!b,this.handleSingleClick(e),p=!1),!1},this.handleSingleClick=function(e,t){return g&&(E.indicator.clearOverlays(),A&&A.indicator.changeEndpointOnEditStyle(m,!1),this._handleMouseEvent(e)?(this.updateResults(),m++):this.isEditingEndpoint?this.undoEditEndpoint():A&&A.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&A.countPicks()>3?(I(B(),!0),this._handleMouseEvent()):this.clearCurrentMeasurement(),A&&A.isComplete()&&V(),g=!1,b=!b,this.isEditingEndpoint=!1,E.clearSnapped()),!0},this.handleDoubleClick=function(e){return!0},this.onCameraChange=function(){for(var e in y.measurementsList){if(y.measurementsList.hasOwnProperty(e))y.measurementsList[e].indicator.updateScale()}E.indicator.onCameraChange()},this.handleSingleTap=function(e){return b||(g=!0,E.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),b=!b,!0},this.handleDoubleTap=function(t){if(A&&A.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&A.countPicks()>2){var i=A.getPick(1),n=c.getSnapResultPosition(i,o),s=c.project(n,e);t.canvasX=s.x,t.canvasY=s.y,g=!0,E.onMouseDown(s),this.handleSingleClick(t),b=!b}return!0},this.handleResize=function(){for(var e in y.measurementsList)if(y.measurementsList.hasOwnProperty(e)){var t=y.measurementsList[e];t.indicator&&t.indicator.handleResize()}},this.handleKeyDown=function(e,t){switch(t){case Bimfish.Viewing.KeyCode.BACKSPACE:case Bimfish.Viewing.KeyCode.DELETE:return A&&A.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!this.areAllPicksSet()&&A.countPicks()>2?this.deleteCurrentPick():this.deleteCurrentMeasurement(),!0}return!1}}Bimfish.Viewing.GlobalManagerMixin.call(a.prototype)},"./extensions/Measure/MeasureToolIndicator.js":
/*!****************************************************!*\
  !*** ./extensions/Measure/MeasureToolIndicator.js ***!
  \****************************************************/
/*! exports provided: MeasureToolIndicator */function(e,t,i){"use strict";i.r(t),i.d(t,"MeasureToolIndicator",(function(){return r}));var n=i(/*! ./Indicator */"./extensions/Measure/Indicator.js"),s=i(/*! ./PolygonCentroid */"./extensions/Measure/PolygonCentroid.js"),a=Bimfish.Viewing,o=Bimfish.Viewing.MeasureCommon;function r(e,t,i){n.Indicator.call(this,e,t,i),this.measureTool=i,this.endpoints=[],this.lines={xyz:{axis:!1,material:h("005BCE"),className:"adsk-icon-axis-delta-xyz measure-label-axis-delta measure-label-axis-xyz"},x:{axis:!0,material:h("F12C2C"),className:"adsk-icon-axis-delta-x measure-label-axis-delta measure-label-axis-x",iconText:"X"},y:{axis:!0,material:h("0BB80B"),className:"adsk-icon-axis-delta-y measure-label-axis-delta measure-label-axis-y",iconText:"Y"},z:{axis:!0,material:h("2C2CF1"),className:"adsk-icon-axis-delta-z measure-label-axis-delta measure-label-axis-z",iconText:"Z"}},this.segments=[],this.dashedLine={},this.simple=!1,this.angleLabel={},this.areaLabel={},this.labels=[],this.isLeaflet=!1,this.topologyStatus=c,this.tmpVector=new THREE.Vector3,this.surfaceColor=new THREE.MeshBasicMaterial({color:parseInt("005BCE",16),opacity:.15,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})}r.prototype=Object.create(n.Indicator.prototype),r.prototype.constructor=r;var l=r.prototype;function h(e){return new THREE.MeshBasicMaterial({color:parseInt(e,16),depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})}var c=0;function d(e){return e.classList.contains("visible")}function u(e,t){return e.right>=t.left&&e.right<=t.right}function p(e,t){return e.left>=t.left&&e.left<=t.right}function m(e,t){return e.left<=t.left&&e.right>=t.right}function g(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function b(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}function v(e,t){if(e){var i=e.querySelector(".measure-length-text");i&&(i.textContent=t)}}function f(e,t){if(e){var i=e.querySelector(".measure-delta-text");i&&(i.textContent=t)}}function w(e,t,i){if(e){var n=e.querySelector(".measure-fetching-topology");n&&(n.style.display=t&&1===i?"inline-block":"none")}}l.init=function(){var e;switch(this.isLeaflet=this.viewer.model.getData().isLeaflet,this.onSelectionAreaClickedBinded=this.onSelectionAreaClicked.bind(this),this.lines.xyz.label||((e=this.lines.xyz.label=this.createMeasurementLabel()).addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),this.viewer.container.appendChild(e)),this.topologyStatus){case 1:this.setFetchingTopology();break;case 2:this.setTopologyAvailable();break;case c:this.setNoTopology()}this.showMeasureResult=!1,this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(a.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.handleButtonUpBinded=this.measureTool.handleButtonUp.bind(this.measureTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded)},l.createEndpoint=function(e){this.endpoints[e]={};var t=this.endpoints[e].label=this.createSnapResultLabel(e);this.viewer.container.appendChild(t)},l.updateLabelsPosition=function(){var e,t,i,n;for(n in this.endpoints)this.endpoints.hasOwnProperty(n)&&(i=this.endpoints[n].label,e=this.endpoints[n].position,i&&e&&d(i)&&((t=o.project(e,this.viewer)).x=t.x-i.getBoundingClientRect().width/2,t.y=t.y-i.getBoundingClientRect().height/2,i.style.top=t.y+"px",i.style.left=t.x+"px",i.point=e,this.labels.push(i)));for(var s in this.lines)if(this.lines.hasOwnProperty(s)){var a=this.lines[s];if((i=a.label)&&a.p1&&a.p2&&d(i)){if(a.line.visible=a.visible,e={x:(a.p1.x+a.p2.x)/2,y:(a.p1.y+a.p2.y)/2,z:(a.p1.z+a.p2.z)/2},t=o.project(e,this.viewer),i.style.top=t.y-Math.floor(i.clientHeight/2)+"px",i.style.left=t.x-Math.floor(i.clientWidth/2)+"px",this.viewer.model&&this.viewer.model.is2d()){var r=a===this.lines.xyz?0:i.clientHeight,l=o.project(a.p1,this.viewer),h=o.project(a.p2,this.viewer);if(i.clientWidth>=l.distanceTo(h)-this.endpoints[1].label.clientWidth){if(a!==this.lines.xyz){for(s in this.lines.x.line.visible=!1,this.lines.y.line.visible=!1,this.viewer.impl.invalidate(!1,!1,!0),this.lines)if(this.lines.hasOwnProperty(s)&&this.lines[s]!==this.lines.xyz){var c=this.lines[s].label;c&&(c.style.opacity=0)}break}r=i.clientHeight}if(a!==this.lines.xyz){var u=new THREE.Vector3,p=new THREE.Vector3;u.subVectors(this.lines.xyz.p1,this.lines.xyz.p2).normalize(),p.subVectors(a.p1,a.p2).normalize(),u.cross(this.viewer.navigation.getEyeVector()).normalize().dot(p)<0&&(r=-r)}this.alignLabelWithLine(i,a.p1,a.p2,r,this.viewer)}i.style.opacity=1,i.point=e,this.labels.push(i)}}if(this.angleLabel&&(i=this.angleLabel.label)&&this.angleLabel.p1&&this.angleLabel.p2&&d(i)&&(e={x:(this.angleLabel.p1.x+this.angleLabel.p2.x)/2,y:(this.angleLabel.p1.y+this.angleLabel.p2.y)/2,z:(this.angleLabel.p1.z+this.angleLabel.p2.z)/2},t=o.project(e,this.viewer,5),i.style.top=t.y-Math.floor(i.clientHeight/2)+"px",i.style.left=t.x-Math.floor(i.clientWidth/2)+"px",i.point=e,this.labels.push(i)),this.areaLabel&&(i=this.areaLabel.label)&&this.areaLabel.p1&&this.areaLabel.p2&&d(i)&&(e={x:(this.areaLabel.p1.x+this.areaLabel.p2.x)/2,y:(this.areaLabel.p1.y+this.areaLabel.p2.y)/2,z:(this.areaLabel.p1.z+this.areaLabel.p2.z)/2},t=o.project(e,this.viewer),i.style.top=t.y-Math.floor(i.clientHeight/2)+"px",i.style.left=t.x-Math.floor(i.clientWidth/2)+"px",i.point=e,this.labels.push(i)),this.viewer.model&&!this.viewer.model.is2d()){var m,g,b=!1;this.labelsStacked=!1;var v=[];for(g=0;g<this.labels.length;g++)v.push({left:this.labels[g].style.left,top:this.labels[g].style.top});for(g=0;g<this.labels.length&&!b;g++)m=this.labels[g],b=this.labelsOverlapDetection(m,this.labels);if(b){for(g=0;g<this.labels.length;g++)this.labels[g].style.left=v[g].left,this.labels[g].style.top=v[g].top;for(this.stackLabels(this.labels),g=0;g<this.labels.length;g++)m=this.labels[g],this.labelsOverlapDetection(m,this.labels)}}this.labels=[]},l.labelsOverlapDetection=function(e,t){for(var i,n,s,a,o,r=!1,l=0;l<t.length;l++){var h=t[l],c=!1;if(e!==h){var d=e.getBoundingClientRect(),v=h.getBoundingClientRect();if(o=d,(a=v).top<o.bottom&&a.bottom>o.top&&(u(v,d)?(n=v,s=d,(i=h).style.left=parseInt(i.style.left,10)-(n.right-s.left)+"px",c=!0):p(v,d)?(g(h,v,d),c=!0):m(v,d)&&(b(h,v,d),c=!0),c)){var f=t.slice(0);f.splice(f.indexOf(e),1),this.labelsOverlapDetection(h,f),h.causeStacking&&e.causeStacking&&(r=!0),h.causeStacking&&this.labelsStacked&&this.stackLabels(this.labels)}}}return r},l.stackLabels=function(e){for(var t=this.lines.xyz.label,i=1;i<e.length;i++){if(e[i].causeStacking){e[i].style.left=t.style.left;var n=e[i-1].getBoundingClientRect(),s=e[i-1]==t?4:0,a=e[i]===t?t.style.top:e[i-1].style.top;e[i].style.top=parseInt(a,10)+n.height+s+"px"}e[i].style.transform=""}this.labelsStacked=!0},l.drawXYZLine=function(e){var t=this,i=e.p1,n=e.p2;if(i&&n){var s=new THREE.Vector3,a=e.geometry=new THREE.Geometry,r=(new THREE.Vector3).subVectors(n,i).normalize().clone().cross(t.viewer.navigation.getEyeVector()).normalize(),l=o.nearestPointInPointToSegment(t.viewer.navigation.getPosition(),i,n),h=t.setScale(l);e.line=this.drawLineSegment(i,n,4,e.material),e.visible=!0,this.segments.push(e),t.showMeasureResult&&(e.tips=[],c(i),c(n))}function c(o){a.vertices=[],s.addVectors(o,r.clone().multiplyScalar(2*h)),a.vertices[0]=s.clone(),s.subVectors(o,r.clone().multiplyScalar(2*h)),a.vertices[1]=s.clone();var l=t.drawLineAsCylinder(a,e.material,3,t.overlayName);t.setCylinderScale(l,i,n),l.visible=!0,e.tips.push(l)}},l.redrawDashedLine=function(){if(this.dashedLine.p1&&this.dashedLine.p2){this.viewer.impl.removeMultipleOverlays(this.overlayName,this.dashedLine.line);var e=this.setScale(this.dashedLine.p2),t=2*e,i=1*e;return this.dashedLine.line=this.drawDashedLine(this.dashedLine.p2,this.dashedLine.p1,t,i,this.lines.xyz.material,3,this.overlayName),this.dashedLine.line}},l.drawLineSegment=function(e,t,i,n,s){var a;if(s)this.dashedLine.p1=e,this.dashedLine.p2=t,a=this.redrawDashedLine();else{var o=new THREE.Geometry;o.vertices.push(e),o.vertices.push(t),a=this.drawLineAsCylinder(o,n,i,this.overlayName),this.setCylinderScale(a,e,t)}return a.visible=!0,a},l.drawSurface=function(e){var t=new Bimfish.Viewing.Extensions.CompGeom.ContourSet;if(t.addContour(e),t.triangulate(),t.triangulationFailed)return!1;var i=t.toPolygonMesh(),n=new THREE.Mesh(i,this.surfaceColor);return this.viewer.impl.addOverlay(this.overlayName,n),!0},l.drawSegmentAndPush=function(e,t,i){if(e&&t){var n=this.drawLineSegment(e,t,4,this.lines.xyz.material,i);if(!i){var s={line:n,p1:e,p2:t};this.segments.push(s)}}},l.renderAreaMeasurement=function(e){for(var t,i,n=this.measurement.countPicks(),a=[],r=1;r<n;r++)t=o.getSnapResultPosition(e[r],this.viewer),i=o.getSnapResultPosition(e[r+1],this.viewer),this.drawSegmentAndPush(t,i),a.push(t);n>2&&(t=o.getSnapResultPosition(e[1],this.viewer),this.drawSegmentAndPush(t,i,!this.measurement.closedArea),o.isEqualVectors(t,i,o.EPSILON)||a.push(i),0!==this.measurement.area&&this.drawSurface(a)&&(this.showAreaLabel(Object(s.getPolygonVisualCenter)(a)),this.updateArea()))},l.clearAngleMeshes=function(){this.angleArc&&(this.viewer.impl.removeOverlay(this.overlayName,this.angleArc),this.angleArc=null),this.angleOutline.length>0&&(this.viewer.impl.removeMultipleOverlays(this.overlayName,this.angleOutline),this.angleOutline.length=0)},l.drawAngle=function(e,t,i,n,s,a){this.materialAngle||(this.materialAngle=new THREE.MeshPhongMaterial({color:10066329,ambient:10066329,opacity:.5,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.materialAngleOutline=new THREE.MeshBasicMaterial({color:16750848,depthTest:!1,depthWrite:!1})),o.createCommonOverlay(this.viewer,this.overlayName),this.clearAngleMeshes();var r=Math.min(e.distanceTo(t),e.distanceTo(i))/4,l=new THREE.CircleGeometry(r,100,0,s*Math.PI/180),h=new THREE.Mesh(l,this.surfaceColor),c=h.geometry.vertices[0].clone();h.geometry.vertices.push(c),h.position.set(e.x,e.y,e.z);var d=h.position.clone();d.add(n),h.lookAt(d),h.updateMatrixWorld();var u=h.geometry.vertices[1].clone(),p=h.geometry.vertices[h.geometry.vertices.length-2].clone();u.applyMatrix4(h.matrixWorld),p.applyMatrix4(h.matrixWorld);var m=new THREE.Vector3,g=new THREE.Vector3,b=new THREE.Vector3,v=new THREE.Vector3;m.subVectors(u,e),g.subVectors(p,e),b.subVectors(t,e),v.subVectors(i,e);var f,w=m.angleTo(b),y=m.angleTo(v),A=g.angleTo(b),x=g.angleTo(v);f=(w<=.001&&w>=-.001||y<=.001&&y>=-.001)&&(A<=.001&&A>=-.001||x<=.001&&x>=-.001)?0:(w<=Math.PI+.001&&w>=Math.PI-.001||y<=Math.PI+.001&&y>=Math.PI-.001)&&(A<=Math.PI+.001&&A>=Math.PI-.001||x<=Math.PI+.001&&x>=Math.PI-.001)?Math.PI:w<=A+.001&&w>=A-.001||w<=x+.001&&w>=x-.001?w:y;var E=new THREE.Matrix4;E.makeRotationAxis(n,f),E.multiply(h.matrix),h.matrix=E,h.rotation.setFromRotationMatrix(h.matrix),h.updateMatrixWorld(),u=h.geometry.vertices[1].clone(),p=h.geometry.vertices[h.geometry.vertices.length-2].clone(),u.applyMatrix4(h.matrixWorld),p.applyMatrix4(h.matrixWorld),m.subVectors(u,e),g.subVectors(p,e),w=m.angleTo(b),y=m.angleTo(v),A=g.angleTo(b),x=g.angleTo(v),w>=.001&&y>=.001&&((E=new THREE.Matrix4).makeRotationAxis(n,2*-f),E.multiply(h.matrix),h.matrix=E,h.rotation.setFromRotationMatrix(h.matrix));var M=new THREE.CircleGeometry(r,100,0,s*Math.PI/180);M.vertices.splice(0,1),h.updateMatrixWorld(),M.applyMatrix(h.matrixWorld),this.angleOutline=this.drawEdgeAsCylinder(M,this.lines.xyz.material,2,0,this.getNewCylinderGeometry()),this.angleArc=h,this.viewer.impl.addOverlay(this.overlayName,this.angleArc),this.viewer.impl.addMultipleOverlays(this.overlayName,this.angleOutline),a.copy(h.geometry.vertices[Math.round(h.geometry.vertices.length/2)-1]),a.applyMatrix4(h.matrixWorld);var T=new THREE.Vector3;T.subVectors(a,e).normalize(),T.multiplyScalar(r/2),a.add(T)},l.renderAngleMeasurement=function(e){for(var t,i,n=this.measurement.countPicks(),s=[],a=1;a<n;a++)t=o.getSnapResultPosition(e[a],this.viewer),i=o.getSnapResultPosition(e[a+1],this.viewer),this.drawSegmentAndPush(t,i),t&&s.push(t);if(i&&s.push(i),3===s.length&&this.measurement.angle){var r=new THREE.Vector3,l=new THREE.Vector3,h=new THREE.Vector3;l.subVectors(s[0],s[1]),h.subVectors(s[1],s[2]),r.crossVectors(l,h),r.normalize();var c=new THREE.Vector3;this.drawAngle(s[1],s[0],s[2],r,this.measurement.angle,c),this.showAngleLabel(c),this.updateAngle()}},l.createDistanceLabel=function(e){var t=e.label=this.createMeasurementLabel();!function(e,t){var i=e.querySelector(".measure-length-text");i&&(i.style.display=t?"":"none")}(t,e===this.lines.xyz);var i=this.getDocument();if(e.axis){t.className=e.className;var n=i.createElement("div");n.className="measure-label-axis-icon "+e.iconText,n.innerText=e.iconText,t.insertBefore(n,t.firstChild),a.isMobileDevice()||o.safeToggle(t,"enableTransition",!0)}return this.viewer.container.appendChild(t),t},l.renderDistanceMeasurement=function(e,t){var i=this;function n(e,t,n,s,a,r,l,h){var c,d=e.line,u=e.label,p=new THREE.Vector3(t,n,s),m=new THREE.Vector3(a,r,l);if((e===i.lines.x&&m.x>p.x||e===i.lines.y&&m.y>p.y||e===i.lines.z&&m.z>p.z)&&(c=p.clone(),p=m.clone(),m=c.clone()),e.line=null,u?i.hideLabel(u):u=i.createDistanceLabel(e),(i.isLeaflet&&e!==i.lines.z||p.distanceTo(m)>=o.EPSILON)&&h)if(e.p1=p,e.p2=m,e===i.lines.xyz)i.drawXYZLine(e),i.showLabel(u),i.updateDistance();else{d=e.line=i.drawLineSegment(p,m,2,e.material);var g=!i.simple&&i.showMeasureResult;d.visible=g,e.visible=g,g?i.showLabel(u):i.hideLabel(u)}}n(this.lines.xyz,e.x,e.y,e.z,t.x,t.y,t.z,!0);var s=this.viewer.navigation.getAlignedUpVector(),a=Math.abs(s.x),r=Math.abs(s.y),l=Math.abs(s.z),h=function(e,t){return i.tmpVector.subVectors(e,t),i.tmpVector.normalize(),!o.isParallel(i.tmpVector,i.xAxis)&&!o.isParallel(i.tmpVector,i.yAxis)&&!o.isParallel(i.tmpVector,i.zAxis)}(e,t);l>a&&l>r?(n(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,h),n(this.lines.y,t.x,e.y,e.z,t.x,t.y,e.z,h),n(this.lines.z,t.x,t.y,e.z,t.x,t.y,t.z,h)):r>a&&r>l?(n(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,h),n(this.lines.z,t.x,e.y,e.z,t.x,e.y,t.z,h),n(this.lines.y,t.x,e.y,t.z,t.x,t.y,t.z,h)):(n(this.lines.y,e.x,e.y,e.z,e.x,t.y,e.z,h),n(this.lines.z,e.x,t.y,e.z,e.x,t.y,t.z,h),n(this.lines.x,e.x,t.y,t.z,t.x,t.y,t.z,h))},l.updateResults=function(){this.updateDistance(),this.updateAngle(),this.updateArea(),setTimeout(function(){this.viewer.impl&&this.updateLabelsPosition()}.bind(this),0)},l.updateDistance=function(){function e(e,t){e&&(e.style.width=t)}function t(e){return e?e.clientWidth:0}Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,"")}.bind(this)),f(this.lines.x.label,"~ "+this.measureTool.getDistanceX(this.measurement)),f(this.lines.y.label,"~ "+this.measureTool.getDistanceY(this.measurement)),f(this.lines.z.label,"~ "+this.measureTool.getDistanceZ(this.measurement)),v(this.lines.xyz.label,"~ "+this.measureTool.getDistanceXYZ(this.measurement)),this.viewer.model&&this.viewer.model.is3d()&&setTimeout(function(){var i=Math.max(t(this.lines.x.label),t(this.lines.y.label),t(this.lines.z.label),t(this.lines.xyz.label));Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,i+"px")}.bind(this))}.bind(this),0)},l.updateAngle=function(){v(this.angleLabel.label,"~ "+this.measureTool.getAngle(this.measurement))},l.updateArea=function(){v(this.areaLabel.label,"~ "+this.measureTool.getArea(this.measurement))},l.setSimple=function(e){if(this.simple!=e){this.simple=e;var t=!e;this.setLineVisible(this.lines.x,t),this.setLineVisible(this.lines.y,t),this.setLineVisible(this.lines.z,t),this.updateLabelsPosition(),this.viewer.impl.invalidate(!1,!1,!0)}},l.setLineVisible=function(e,t){e.line&&(e.line.visible=t,e.visible=t,e.label&&(t?this.showLabel(e.label):(this.hideLabel(e.label),e.label.style.opacity=0)))},l.enableLabelsTouchEvents=function(e){var t=e?"all":"none";this.lines.xyz.label&&(this.lines.xyz.label.style.pointerEvents=t),this.angleLabel.label&&(this.angleLabel.label.style.pointerEvents=t),this.areaLabel.label&&(this.areaLabel.label.style.pointerEvents=t)},l.setLabelsZIndex=function(e){for(var t in this.lines)if(this.lines.hasOwnProperty(t)){var i=this.lines[t];i.label&&(i.label.style.zIndex=e)}for(t in this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.style.zIndex=e),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.style.zIndex=e),this.endpoints)if(this.endpoints.hasOwnProperty(t)){var n=this.endpoints[t];n.label&&(n.label.style.zIndex=e-1)}},l.focusLabels=function(){this.setLabelsZIndex(3)},l.unfocusLabels=function(){this.setLabelsZIndex(2)},l.clear=function(){var e;for(e in this.endpoints)if(this.endpoints.hasOwnProperty(e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}for(e in this.lines)if(this.lines.hasOwnProperty(e)){var i=this.lines[e];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0,i.label.style.zIndex=2)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.clearSelectionAreas(),this.segments=[],this.dashedLine={},this.viewer.impl.clearOverlay(this.overlayName),o.createCommonOverlay(this.viewer,this.overlayName)},l.hideClick=function(e){for(var t in n.Indicator.prototype.hideClick.call(this,e),this.lines)if(this.lines.hasOwnProperty(t)){var i=this.lines[t];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.enableSelectionAreas(i.selectionArea,!1)},l.destroy=function(){var e;for(e in n.Indicator.prototype.destroy.call(this),this.lines)if(this.lines.hasOwnProperty(e)){var t=this.lines[e];t.line&&(this.viewer.impl.clearOverlay(self.overlayName),t.material=t.line=t.geometry=null),t.label&&("xyz"===e&&(t.label.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.label.removeEventListener("click",this.onSelectionAreaClickedBinded)),t.label.parentNode.removeChild(t.label),t.label=null),t.material=t.line=t.geometry=t.label=t.p1=t.p2=null}this.clearAngleMeshes(),this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.parentNode.removeChild(this.angleLabel.label),this.angleLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.angleLabel.label.removeEventListener("click",this.onSelectionAreaClickedBinded),this.angleLabel.label=this.angleLabel.p1=this.angleLabel.p2=null),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.parentNode.removeChild(this.areaLabel.label),this.areaLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.areaLabel.label.removeEventListener("click",this.onSelectionAreaClickedBinded),this.areaLabel.label=this.areaLabel.p1=this.areaLabel.p2=null),this.viewer.impl.overlayScenes[this.overlayName]&&this.viewer.impl.removeOverlayScene(this.overlayName),this.viewer.removeEventListener(a.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded)},l.clearXYZLine=function(){this.viewer.impl.removeOverlay(this.overlayName,this.lines.xyz.line),this.lines.xyz.tips&&this.lines.xyz.tips.forEach(function(e){this.viewer.impl.removeOverlay(this.overlayName,e)}.bind(this))},l.updateScale=function(){var e,t=this;for(e in this.angleOutline.forEach((function(e){return t.setCylinderScale(e)})),this.lines)if(this.lines.hasOwnProperty(e)){var i=this.lines[e];i.line&&i!==this.lines.xyz&&this.setCylinderScale(i.line,i.p1,i.p2)}for(e in this.segments)if(this.segments.hasOwnProperty(e)){var n=this.segments[e];n.line&&this.setCylinderScale(n.line,n.p1,n.p2)}this.measurement.measurementType===o.MeasurementTypes.MEASUREMENT_DISTANCE&&this.measurement.isComplete()&&(this.clearXYZLine(),this.drawXYZLine(this.lines.xyz))},l.setNoTopology=function(){this.topologyStatus=c,this.lines.xyz.label&&(w(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},l.setFetchingTopology=function(){this.topologyStatus=1,this.lines.xyz.label&&(w(this.lines.xyz.label,!0,this.topologyStatus),this.lines.xyz.label.classList.add("fetching-topology"))},l.setTopologyAvailable=function(){this.topologyStatus=2,this.lines.xyz.label&&(w(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},l.createMeasurementLabel=function(){var e=this.getDocument(),t=e.createElement("div");t.className="measure-length";var i=e.createElement("div");i.className="measure-fetching-topology",i.style.display="none",t.appendChild(i);var n=e.createElement("div");n.className="measure-length-text",t.appendChild(n);var s=e.createElement("div");return s.className="measure-delta-text",t.appendChild(s),t.causeStacking=!0,a.isMobileDevice()||o.safeToggle(t,"enable-hover",!0),t},l.createSnapResultLabel=function(e){var t=this.getDocument(),i=t.createElement("div");i.className="measure-label";var n=t.createElement("div");if(n.className="measure-label-icon",i.appendChild(n),a.isTouchDevice()){this.initLabelMobileGestures(i,e,this.measureTool);var s=t.createElement("div");s.className="measure-label-hit-area",i.appendChild(s)}return a.isMobileDevice()||(this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel),o.safeToggle(i,"enable-hover",!0)),i.causeStacking=!1,i},l.showAngleLabel=function(e){var t=this.angleLabel.label;t||(t=this.angleLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.addEventListener("click",this.onSelectionAreaClickedBinded)),this.updateAngle(),this.showLabel(t),this.angleLabel.p1=e.clone(),this.angleLabel.p2=e.clone()},l.showAreaLabel=function(e){var t=this.areaLabel.label;t||(t=this.areaLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.addEventListener("click",this.onSelectionAreaClickedBinded)),this.updateArea(),this.showLabel(t),this.areaLabel.p1=e,this.areaLabel.p2=e},l.onSelectionAreaClicked=function(){this.measureTool.selectMeasurementById(this.measurement.id)},l.createSelectionArea=function(){var e=this.getDocument().createElement("div");return e.id="measurement-selection-area-"+this.measurement.id,this.viewer.container.appendChild(e),e.className="measure-selection-area",e.style.display="none",e.addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),e},l.updateSelectionArea=function(){this.segments.forEach(function(e){if(e.p1&&e.p2){var t=o.project(e.p1,this.viewer),i=o.project(e.p2,this.viewer);e.selectionArea||(e.selectionArea=this.createSelectionArea());var n=e.selectionArea,s=new THREE.Vector2;n.style.top=t.y-7.5+"px",n.style.left=t.x+"px",n.style.width=s.subVectors(t,i).length()+"px",n.style.height="15px";var a,r=t.x-i.x,l=t.y-i.y;a=180*Math.atan2(-l,-r)/Math.PI,n.style.transform="rotate("+a+"deg)",n.style.transformOrigin="0px 7.5px"}}.bind(this)),this.measureTool.areAllPicksSet()&&this.enableSelectionAreas(!0)},l.clearSelectionAreas=function(){var e=this.getDocument();this.segments.forEach(function(t){if(t.selectionArea){t.selectionArea.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),t.selectionArea.removeEventListener("click",this.onSelectionAreaClickedBinded);var i=e.getElementById("measurement-selection-area-"+this.measurement.id);i&&i.parentNode.removeChild(i),t.selectionArea=null}}.bind(this))},l.enableSelectionAreas=function(e){this.segments.forEach(function(t){t.selectionArea&&(t.selectionArea.style.display=e?"block":"none")}.bind(this))},l.render=function(e,t){n.Indicator.prototype.render.call(this,e,t),this.updateSelectionArea()},l.onCameraChange=function(){this.redrawDashedLine(),this.updateSelectionArea(),this.hideLabelsOutsideOfView(),this.updateLabelsPosition()},l.handleResize=function(){this.redrawDashedLine(),this.updateSelectionArea(),this.updateLabelsPosition()}},"./extensions/Measure/MeasureToolbar.js":
/*!**********************************************!*\
  !*** ./extensions/Measure/MeasureToolbar.js ***!
  \**********************************************/
/*! exports provided: MeasureToolbar */function(e,t,i){"use strict";i.r(t),i.d(t,"MeasureToolbar",(function(){return r}));var n=Bimfish.Viewing,s=Bimfish.Viewing.UI,a=Bimfish.Viewing.Private,o=Bimfish.Viewing.MeasureCommon;function r(e){this.measureExtension=e,this.measureTool=this.measureExtension.measureTool,this.viewer=this.measureExtension.viewer,this.setGlobalManager(this.viewer.globalManager),this.visible=!1,this.buttonsList=[]}var l=r.prototype;n.GlobalManagerMixin.call(r.prototype),l.init=function(){var e=this,t=this.getDocument(),i=this.viewer.getToolbar(),r=i.getControl(Bimfish.Viewing.TOOLBAR.NAVTOOLSID),l={};l.index=i.indexOf(r)+1,this.measureToolbar=new s.ControlGroup(Bimfish.Viewing.TOOLBAR.MEASURETOOLSID),this.measureToolbar.setGlobalManager(this.globalManager),i.addControl(this.measureToolbar,l),this.measureSimpleDistanceBtn=new s.Button("toolbar-measureTool-simple-distance"),this.measureSimpleDistanceBtn.setGlobalManager(this.globalManager),this.measureSimpleDistanceBtn.setToolTip("Distance"),this.measureSimpleDistanceBtn.setIcon("adsk-icon-measure-distance-new"),this.measureSimpleDistanceBtn.onClick=function(){e.measureSimpleDistanceBtn.getState()!==s.Button.State.ACTIVE?e.measureExtension.activate("distance"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureSimpleDistanceBtn),this.buttonsList[o.MeasurementTypes.MEASUREMENT_DISTANCE]=this.measureSimpleDistanceBtn,this.measureAngleBtn=new s.Button("toolbar-measureTool-angle"),this.measureAngleBtn.setGlobalManager(this.globalManager),this.measureAngleBtn.setToolTip("Angle"),this.measureAngleBtn.setIcon("adsk-icon-measure-angle-new"),this.measureAngleBtn.onClick=function(){e.measureAngleBtn.getState()!==s.Button.State.ACTIVE?e.measureExtension.activate("angle"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAngleBtn),this.buttonsList[o.MeasurementTypes.MEASUREMENT_ANGLE]=this.measureAngleBtn,this.viewer.model&&this.viewer.model.is2d()&&(this.measureAreaBtn=new s.Button("toolbar-measureTool-area"),this.measureAreaBtn.setGlobalManager(this.globalManager),this.measureAreaBtn.setToolTip("Area"),this.measureAreaBtn.setIcon("adsk-icon-measure-area-new"),this.measureAreaBtn.onClick=function(){e.measureAreaBtn.getState()!==s.Button.State.ACTIVE?e.measureExtension.activate("area"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAreaBtn),this.buttonsList[o.MeasurementTypes.MEASUREMENT_AREA]=this.measureAreaBtn),this.calibrationToolBtn=new s.Button("toolbar-calibrationTool"),this.calibrationToolBtn.setGlobalManager(this.globalManager),this.calibrationToolBtn.setToolTip("Calibrate"),this.calibrationToolBtn.setIcon("adsk-icon-measure-calibration"),this.calibrationToolBtn.onClick=function(t){e.calibrationToolBtn.getState()!==s.Button.State.ACTIVE?e.measureExtension.activate("calibrate"):e.measureExtension.enableCalibrationTool(!1)},this.measureToolbar.addControl(this.calibrationToolBtn),this.buttonsList[o.MeasurementTypes.CALIBRATION]=this.calibrationToolBtn;var h=t.createElement("div");h.className="measure-toolbar-seperator",this.measureToolbar.container.appendChild(h),this.deleteBtn=new s.Button("toolbar-delete"),this.deleteBtn.setGlobalManager(this.globalManager),this.deleteBtn.setToolTip("Delete measurement"),this.deleteBtn.setIcon("adsk-icon-measure-trash"),this.deleteBtn.onClick=function(){e.measureExtension.deleteCurrentMeasurement()},this.measureToolbar.addControl(this.deleteBtn),this.settingsBtn=new s.Button("toolbar-settings"),this.settingsBtn.setGlobalManager(this.globalManager),this.settingsBtn.setToolTip("Measure settings"),this.settingsBtn.setIcon("adsk-icon-measure-settings"),this.settingsControlPanel=t.createElement("div"),this.settingsControlPanel.classList.add("docking-panel"),this.settingsControlPanel.classList.add("docking-panel-container-solid-color-b"),this.settingsControlPanel.classList.add("measure-settings-popup"),this.settingsControlPanel.classList.add("hide"),this.settingsBtn.onClick=function(e){this.settingsControlPanel.classList.contains("hide")?(this.settingsControlPanel.classList.remove("hide"),this.setButtonActive(this.settingsBtn)):(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))}.bind(this),this.measureToolbar.container.appendChild(this.settingsControlPanel),this.settingsControlPanel.root=this.settingsBtn,this.measureToolbar.addControl(this.settingsBtn),this.table=t.createElement("table"),this.table.classList.add("adsk-lmv-tftable"),this.table.classList.add("calibration-table"),this.tbody=t.createElement("tbody"),this.table.appendChild(this.tbody),this.settingsControlPanel.appendChild(this.table),this.units=[{name:"Unknown",units:"",matches:[""]},{name:"Millimeters",units:"mm",matches:["mm"]},{name:"Centimeters",units:"cm",matches:["cm"]},{name:"Meters",units:"m",matches:["m"]},{name:"Meters and centimeters",units:"m-and-cm",matches:["m-and-cm"]},{name:"Decimal feet",units:"decimal-ft",matches:["ft","decimal-ft"]},{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in"]},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft-and-decimal-in"]},{name:"Decimal inches",units:"decimal-in",matches:["in","decimal-in"]},{name:"Fractional inches",units:"fractional-in",matches:["fractional-in"]},{name:"Points",units:"pt",matches:["pt"]}];var c=this.findUnits(),d=[];n.isSafari()&&this.viewer.model.getDisplayUnit()&&this.units.shift();for(var u=0;u<this.units.length;++u)d.push(this.units[u].name);this.unitList=new a.OptionDropDown("Unit type",this.tbody,d,c,null,{paddingLeft:0,paddingRight:15}),this.unitList.setGlobalManager(this.globalManager),this.unitList.addEventListener("change",(function(t){var i=e.unitList.selectedIndex,n=e.units[i].units;e.measureTool.setUnits(n),e.setupPrecision(),a.logger.track({category:"pref_changed",name:"measure/units",value:n})})),this.precisionList=new a.OptionDropDown("Precision",this.tbody,[],-1,null,{paddingLeft:0,paddingRight:15}),this.precisionList.setGlobalManager(this.globalManager),this.precisionList.addEventListener("change",(function(t){var i=e.precisionList.selectedIndex;e.measureTool.setPrecision(i),a.logger.track({category:"pref_changed",name:"measure/precision",value:i})})),this.isolate=new a.OptionCheckbox("Isolate measurement",this.tbody,!1),this.isolate.setGlobalManager(this.globalManager),this.isolate.addEventListener("change",(function(t){var i=e.isolate.checked;e.measureTool.setIsolateMeasure(i),i?e.measureTool.isolateMeasurement():e.measureTool.clearIsolate(),a.logger.track({category:"pref_changed",name:"measure/isolate",value:i})})),this.setupPrecision(),this.updateSettingsPanel(),this.viewer.model&&this.viewer.model.is2d()&&this.isolate.setVisibility(!1),this.measureExtension.sharedMeasureConfig.units?Bimfish.Viewing.isSafari()||this.disableUnitOption(0):this.disableUnitOption(),this.measureDoneBtn=new s.Button("toolbar-measureTool-done"),this.measureDoneBtn.setGlobalManager(this.globalManager);var p=Bimfish.Viewing.i18n.translate("Done");this.measureDoneBtn.setToolTip(p);var m=t.createElement("label");m.textContent=p;var g=this.measureDoneBtn.container;g.appendChild(m),g.classList.add("adsk-label-button");var b=g.getElementsByClassName("adsk-button-icon");b&&b[0]&&(b[0].style.display="none"),this.measureDoneBtn.onClick=function(){this.measureExtension.exitMeasurementMode()}.bind(this),this.measureToolbar.addControl(this.measureDoneBtn),this.measureToolbar.setVisible(!1)},l.destroy=function(){this.visible&&this.closeToolbar(),this.measureToolbar&&(this.measureToolbar.removeFromParent(),this.measureToolbar=null)},l.closeToolbar=function(){this.measureExtension.enableMeasureTool(!1),this.measureExtension.enableCalibrationTool(!1),this.toggleVisible();for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,s=0;s<i;++s)t.children[s].style.display="";e.getControl(n.TOOLBAR.MODELTOOLSID).addControl(this.measureExtension.measurementToolbarButton,{index:this.measureExtension.measurementToolbarButton.index})},l.toggleVisible=function(){this.visible=!this.visible,this.measureToolbar.setVisible(this.visible),this.visible||(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))},l.setButtonActive=function(e){e.setState(s.Button.State.ACTIVE)},l.setButtonInactive=function(e){e.setState(s.Button.State.INACTIVE)},l.deactivateAllButtons=function(){for(var e in this.buttonsList)if(this.buttonsList.hasOwnProperty(e)){var t=this.buttonsList[e];this.setButtonInactive(t)}},l.activateButtonByType=function(e){this.setButtonActive(this.buttonsList[e])},l.setupPrecision=function(){for(var e=this.getDocument();this.precisionList.dropdownElement.lastChild;)this.precisionList.dropdownElement.removeChild(this.precisionList.dropdownElement.lastChild);var t,i=this.measureTool.getUnits();t="ft-and-fractional-in"===i||"fractional-in"===i?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"];for(var n=0;n<t.length;++n){var s=e.createElement("option");s.value=n,s.textContent=t[n],this.precisionList.dropdownElement.appendChild(s)}var a=this.measureTool.getPrecision();t.length<=a&&(a=t.length-1,this.measureTool.setPrecision(a)),this.precisionList.dropdownElement.selectedIndex=a},l.findUnits=function(){var e,t,i=this.measureTool.getUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},l.disableUnitOption=function(e){null!=e?(this.unitList.dropdownElement.children[e].style.display="none",n.isIE11&&(this.unitList.dropdownElement.children[e].disabled=!0,this.unitList.dropdownElement.children[e].style.visibility="hidden")):this.unitList.dropdownElement.disabled=!0},l.updateSettingsPanel=function(){this.unitList.dropdownElement.selectedIndex=this.findUnits(),this.precisionList.dropdownElement.selectedIndex=this.measureTool.getPrecision(),this.setupPrecision()}},"./extensions/Measure/MeasurementsManager.js":
/*!***************************************************!*\
  !*** ./extensions/Measure/MeasurementsManager.js ***!
  \***************************************************/
/*! exports provided: MeasurementsManager */function(e,t,i){"use strict";i.r(t),i.d(t,"MeasurementsManager",(function(){return s}));var n=Bimfish.Viewing.MeasureCommon;function s(e){this.viewer=e,this.init()}var a=s.prototype;a.getCurrentMeasurement=function(){return this.currentMeasurement},a.selectMeasurementById=function(e){var t=this.measurementsList[e];return!!t&&(this.changeCurrentMeasurement(t),this.currentMeasurement)},a.createMeasurement=function(e){var t=this.measurementsCounter,i=new n.Measurement(e,t);return this.measurementsList[t]=i,this.measurementsCounter++,this.changeCurrentMeasurement(i),this.currentMeasurement},a.changeCurrentMeasurement=function(e){this.currentMeasurement=e,this.viewer.dispatchEvent({type:n.Events.MEASUREMENT_CHANGED_EVENT,data:{type:e.measurementType,id:e.id}})},a.removeCurrentMeasurement=function(){Object.keys(this.measurementsList).length>0&&delete this.measurementsList[this.currentMeasurement.id]},a.init=function(){this.reset()},a.destroy=function(){this.reset()},a.reset=function(){this.currentMeasurement=null,this.measurementsList={},this.measurementsCounter=0}},"./extensions/Measure/PolygonCentroid.js":
/*!***********************************************!*\
  !*** ./extensions/Measure/PolygonCentroid.js ***!
  \***********************************************/
/*! exports provided: getCentroidOfPolygon, getPolygonVisualCenter */function(e,t,i){"use strict";function n(e){for(var t=new THREE.Vector3,i=e.length,n=0;n<i;n++)t.add(e[n]);return t.multiplyScalar(1/i),t}function s(e){function t(e,t,n,s){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var s=!1,a=1/0,o=0;o<n.length;o++)for(var r=n[o],l=0,h=r.length,c=h-1;l<h;c=l++){var d=r[l],u=r[c];d.y>t!=u.y>t&&e<(u.x-d.x)*(t-d.y)/(u.y-d.y)+d.x&&(s=!s),a=Math.min(a,i(e,t,d,u))}return(s?1:-1)*Math.sqrt(a)}(e,t,s),this.max=this.d+this.h*Math.SQRT2}function i(e,t,i,n){var s=i.x,a=i.y,o=n.x-s,r=n.y-a;if(0!==o||0!==r){var l=((e-s)*o+(t-a)*r)/(o*o+r*r);l>1?(s=n.x,a=n.y):l>0&&(s+=o*l,a+=r*l)}return(o=e-s)*o+(r=t-a)*r}function s(e,t){if(!(this instanceof s))return new s(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||function(e,t){return e<t?-1:e>t?1:0},this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}if(s.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,i=this.compare,n=t[e];e>0;){var s=e-1>>1,a=t[s];if(i(n,a)>=0)break;t[e]=a,e=s}t[e]=n},_down:function(e){for(var t=this.data,i=this.compare,n=this.length>>1,s=t[e];e<n;){var a=1+(e<<1),o=a+1,r=t[a];if(o<this.length&&i(t[o],r)<0&&(a=o,r=t[o]),i(r,s)>=0)break;t[e]=r,e=a}t[e]=s}},3===e.length)return n(e);var a,o,r,l;e=[e];for(var h=0;h<e[0].length;h++){var c=e[0][h];(!h||c.x<a)&&(a=c.x),(!h||c.y<o)&&(o=c.y),(!h||c.x>r)&&(r=c.x),(!h||c.y>l)&&(l=c.y)}var d=r-a,u=l-o,p=Math.min(d,u),m=p/2,g=new s(null,(function(e,t){return t.max-e.max}));if(0===p)return[a,o];for(var b=a;b<r;b+=p)for(var v=o;v<l;v+=p)g.push(new t(b+m,v+m,m,e));var f=function(e){for(var i=0,n=0,s=0,a=e[0],o=0,r=a.length,l=r-1;o<r;l=o++){var h=a[o],c=a[l],d=h.x*c.y-c.x*h.y;n+=(h.x+c.x)*d,s+=(h.y+c.y)*d,i+=3*d}return 0===i?new t(a[0].x,a[0].y,0,e):new t(n/i,s/i,0,e)}(e),w=new t(a+d/2,o+u/2,0,e);for(w.d>f.d&&(f=w);g.length;){var y=g.pop();y.d>f.d&&(f=y),y.max-f.d<=.01||(m=y.h/2,g.push(new t(y.x-m,y.y-m,m,e)),g.push(new t(y.x+m,y.y-m,m,e)),g.push(new t(y.x-m,y.y+m,m,e)),g.push(new t(y.x+m,y.y+m,m,e)))}return{x:f.x,y:f.y}}i.r(t),i.d(t,"getCentroidOfPolygon",(function(){return n})),i.d(t,"getPolygonVisualCenter",(function(){return s}))},"./extensions/Measure/res/icon-spinner-sm.svg":
/*!****************************************************!*\
  !*** ./extensions/Measure/res/icon-spinner-sm.svg ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='10' height='10' viewBox='0 0 10 10'%3E %3Cdefs%3E %3ClinearGradient id='linear-gradient' y1='5' x2='10' y2='5' gradientUnits='userSpaceOnUse'%3E %3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E %3Cstop offset='1' stop-color='%23fff'/%3E %3C/linearGradient%3E %3C/defs%3E %3Ctitle%3EAsset 6%3C/title%3E %3Cg id='Layer_2' data-name='Layer 2'%3E %3Cg id='finals_24px'%3E %3Cpath d='M5,10A5,5,0,0,1,0,5,1.2,1.2,0,0,1,2.3,5,2.7,2.7,0,1,0,5,2.3,1.2,1.2,0,0,1,5,0,5,5,0,0,1,5,10Z' fill='url(%23linear-gradient)'/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Calibration.css":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Calibration.css ***!
  \*************************************************************************************************************/
/*! no static exports found */function(e,t,i){(e.exports=i(/*! ../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"@font-face {\n  font-family: 'calibration-icon';\n  src: url(\"data:application/octet-stream;base64,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\") format(\"woff\");\n  font-weight: normal;\n  font-style: normal; }\n\n[class^=\"calibration-icon\"], [class*=\" calibration-icon\"] {\n  font-family: 'calibration-icon';\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  line-height: 1;\n  padding-top: 2px;\n  speak: none;\n  text-transform: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\n.adsk-viewing-viewer .calibration-icon:before {\n  content: 'a'; }\n\n.adsk-viewing-viewer .calibration-panel {\n  left: calc(50% - 190px);\n  top: calc(50% - 145px);\n  width: 300px;\n  height: auto;\n  z-index: 4; }\n\n.adsk-viewing-viewer .measure-settings-popup .option-drop-down,\n.adsk-viewing-viewer .calibration-panel .option-drop-down {\n  width: 100%;\n  padding-right: 0px;\n  box-sizing: border-box; }\n\n.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td {\n  width: auto;\n  padding: 2px 15px 2px 0px; }\n\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input {\n  margin: 0px;\n  box-sizing: border-box;\n  width: 100%; }\n\n.adsk-viewing-viewer .measure-settings-popup .switch {\n  margin-left: 25px; }\n\n.adsk-viewing-viewer .measure-settings-popup .switch .slider {\n  width: 26px; }\n\n.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button,\n.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0; }\n\n.adsk-viewing-viewer .calibration-text {\n  text-align: left;\n  padding: 6px 10px 6px 10px;\n  margin: 20px 20px 14px 20px;\n  font-size: 14px;\n  -webkit-font-smoothing: antialiased; }\n\n.adsk-viewing-viewer .calibration-button {\n  margin-top: 15px; }\n\n.adsk-viewing-viewer .calibration-button-left {\n  width: calc(50% - 15px);\n  margin-right: 5px !important;\n  display: inline-block; }\n\n.adsk-viewing-viewer .calibration-button-right {\n  width: calc(50% - 15px);\n  margin-left: 5px !important;\n  display: inline-block; }\n\n.adsk-viewing-viewer .calibration-line {\n  position: absolute;\n  display: block;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 0; }\n\n.adsk-viewing-viewer .calibration-label {\n  display: none;\n  position: absolute;\n  pointer-events: none;\n  text-align: 'center';\n  vertical-align: middle;\n  cursor: default;\n  padding: 2px;\n  color: #000000;\n  background: #FFFFFF;\n  border-radius: 10px;\n  -webkit-transform-origin: 50%  53%; }\n\n.adsk-viewing-viewer .calibration-label-text {\n  display: inline-block;\n  pointer-events: none;\n  text-align: 'center';\n  vertical-align: middle;\n  font-size: 12px;\n  cursor: default;\n  padding: 2px;\n  color: #000000;\n  background: #FFFFFF;\n  border-bottom: 1px dashed #000000;\n  text-decoration: none;\n  text-transform: uppercase;\n  -webkit-font-smoothing: antialiased; }\n\n.adsk-viewing-viewer .calibration-label-text:hover {\n  color: #039be5;\n  border-bottom: 1px dashed #039be5; }\n\n.adsk-viewing-viewer .calibration-label.visible {\n  display: block; }\n\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,\n.adsk-viewing-viewer .calibration-endpoint.edit {\n  background-color: #039be5; }\n\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover > *,\n.adsk-viewing-viewer .calibration-endpoint.edit > * {\n  color: #ffffff; }\n\n.adsk-viewing-viewer .calibration-endpoint.editable {\n  pointer-events: all; }\n\n.adsk-viewing-viewer .calibration-endpoint {\n  display: none;\n  position: absolute;\n  cursor: move;\n  pointer-events: none;\n  width: 30px;\n  height: 30px;\n  background-color: #ffffff;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.24), 0 0 8px 0 rgba(0, 0, 0, 0.12);\n  -moz-border-radius: 50px;\n  -webkit-border-radius: 50px;\n  border-radius: 50px;\n  justify-content: center;\n  align-items: center;\n  text-align: center; }\n\n.adsk-viewing-viewer .calibration-endpoint.visible {\n  display: block; }\n\n.adsk-viewing-viewer .calibration-endpoint-text {\n  display: inline-block;\n  font-size: 14px;\n  vertical-align: middle;\n  cursor: default;\n  margin: 5px 5px 5px 5px;\n  vertical-align: middle;\n  text-align: center;\n  color: #039be5;\n  text-decoration: none;\n  text-transform: uppercase;\n  pointer-events: none; }\n\n.adsk-viewing-viewer .calibration-buttons-wrapper {\n  text-align: center; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Measure.css":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/dist/cjs.js!./extensions/Measure/Measure.css ***!
  \*********************************************************************************************************/
/*! no static exports found */function(e,t,i){var n=i(/*! ../../node_modules/css-loader/lib/url/escape.js */"./node_modules/css-loader/lib/url/escape.js");(e.exports=i(/*! ../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover {\n  box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\n  -webkit-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\n  -moz-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7); }\n\n.adsk-viewing-viewer .measure-length {\n  display: none;\n  position: absolute;\n  height: 19px;\n  left: 0px;\n  top: 0px;\n  padding: 2px 0 2px 0;\n  background-color: #009bff;\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\n  color: #f4f4f4;\n  font-size: 12px;\n  text-align: center;\n  line-height: 1.2;\n  white-space: nowrap;\n  border-radius: 8px;\n  pointer-events: none;\n  cursor: pointer;\n  z-index: 2;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n\n.adsk-viewing-viewer .measure-length.visible {\n  display: block; }\n\n.adsk-viewing-viewer .measure-length.fetching-topology {\n  background-color: rgba(34, 34, 34, 0.8);\n  box-shadow: 0 0.5px 1.5px 0 rgba(0, 0, 0, 0.3); }\n\n.adsk-viewing-viewer .measure-length-text {\n  display: inline-block;\n  margin: 0 5px 0 5px;\n  vertical-align: middle;\n  font-size: 16px;\n  pointer-events: none; }\n\n.adsk-viewing-viewer .measure-delta-text {\n  margin: 0 5px 0 5px;\n  align-self: center;\n  font-size: 14px;\n  overflow: hidden;\n  white-space: nowrap;\n  height: 16px;\n  line-height: 16px;\n  vertical-align: middle;\n  pointer-events: none; }\n\n.adsk-viewing-viewer .measure-length-button {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  float: right;\n  color: #FFFFFF;\n  opacity: 0.7; }\n\n.adsk-viewing-viewer .measure-length-button:hover {\n  background-color: rgba(166, 194, 255, 0.7);\n  -webkit-transition: all 0.2s ease;\n  -moz-transition: all 0.2s ease;\n  -ms-transition: all 0.2s ease;\n  -o-transition: all 0.2s ease;\n  transition: all 0.2s ease; }\n\n/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,\n.adsk-viewing-viewer .measure-label.on-edit {\n  box-shadow: 0 0 4px 4px #0d69ca;\n  -webkit-box-shadow: 0 0 4px 4px #0d69ca;\n  -moz-box-shadow: 0 0 4px 4px #0d69ca; }\n\n.adsk-viewing-viewer .measure-label.editable {\n  pointer-events: all; }\n\n.adsk-viewing-viewer .measure-label {\n  display: none;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  cursor: move;\n  pointer-events: none;\n  border-radius: 100px; }\n\n.adsk-viewing-viewer .measure-label-hit-area {\n  display: inline-block;\n  position: absolute;\n  width: 44px;\n  height: 44px;\n  left: -22px;\n  top: -22px;\n  border-radius: 100px;\n  z-index: 2; }\n\n.adsk-viewing-viewer .measure-label-icon {\n  display: inline-block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  left: -2px;\n  top: -2px;\n  background-color: #009bff;\n  border-style: solid;\n  border-width: 2px;\n  border-color: #FFFFFF;\n  border-radius: 100px;\n  box-shadow: 0 2px 5px 0 #182A3D;\n  z-index: 2; }\n\n.adsk-viewing-viewer .measure-label.visible {\n  display: block; }\n\n.adsk-viewing-viewer .measure-label-text {\n  display: inline-block;\n  margin: 0px 5px 0px 5px;\n  vertical-align: middle; }\n\n.adsk-viewing-viewer .measure-horizontal-divider {\n  height: 1px;\n  border-top: 1px solid rgba(200, 200, 200, 0.8); }\n\n.adsk-viewing-viewer .measure-submenu-select {\n  display: block;\n  position: relative;\n  width: calc(100% - 40px);\n  padding: 10px 20px 0px 20px;\n  opacity: 0.3; }\n\n.adsk-viewing-viewer .option-drop-down:disabled {\n  opacity: 0.3; }\n\n.adsk-viewing-viewer .measure-submenu-selectlabel {\n  position: relative;\n  display: inline-block;\n  padding-right: 20px;\n  padding-bottom: 4px; }\n\n/*.measure-result {*/\n/*display: inline-block;*/\n/*padding: 10px 0px  10px 20px;*/\n/*}*/\n.adsk-viewing-viewer .measure-results {\n  position: relative;\n  display: block;\n  padding: 5px 0px  10px 30px; }\n\n.adsk-viewing-viewer .measure-result-label {\n  display: inline-block;\n  padding-right: 10px; }\n\n.adsk-viewing-viewer .measure-result-number {\n  display: inline-block; }\n\n.adsk-viewing-viewer .measure-delta-collapse {\n  position: absolute;\n  right: 20px;\n  display: inline-block;\n  background-color: rgba(255, 255, 255, 0.12);\n  margin: 0px 4px 0px 4px;\n  padding: 0px 4px 0px 4px;\n  cursor: pointer;\n  text-align: center; }\n\n.adsk-viewing-viewer .measure-delta-collapse:hover {\n  background-color: rgba(166, 194, 255, 0.7);\n  -webkit-transition: all 0.2s ease;\n  -moz-transition: all 0.2s ease;\n  -ms-transition: all 0.2s ease;\n  -o-transition: all 0.2s ease;\n  transition: all 0.2s ease; }\n\n.adsk-viewing-viewer .measure-selection-repick {\n  position: absolute;\n  right: 20px;\n  display: inline-block;\n  background-color: rgba(255, 255, 255, 0.12);\n  margin: 4px 4px 4px 4px;\n  padding: 4px 4px 4px 4px;\n  cursor: pointer;\n  text-align: center; }\n\n.adsk-viewing-viewer .measure-selection-repick:hover {\n  background-color: rgba(166, 194, 255, 0.7);\n  -webkit-transition: all 0.2s ease;\n  -moz-transition: all 0.2s ease;\n  -ms-transition: all 0.2s ease;\n  -o-transition: all 0.2s ease;\n  transition: all 0.2s ease; }\n\n.adsk-viewing-viewer .measure-restart {\n  margin: 10px 20px 15px 20px;\n  padding: 6px 10px 6px 10px;\n  width: calc(100% - 55px);\n  cursor: pointer;\n  text-align: center;\n  border-style: solid;\n  border-width: 1px;\n  border-color: rgba(255, 255, 255, 0.2);\n  border-radius: 3px; }\n\n.adsk-viewing-viewer .docking-panel:hover .measure-restart {\n  background-color: rgba(255, 255, 255, 0.12); }\n\n.adsk-viewing-viewer .docking-panel .measure-restart:hover {\n  background-color: rgba(166, 194, 255, 0.7);\n  -webkit-transition: all 0.2s ease;\n  -moz-transition: all 0.2s ease;\n  -ms-transition: all 0.2s ease;\n  -o-transition: all 0.2s ease;\n  transition: all 0.2s ease; }\n\n.adsk-viewing-viewer .measure-panel-title {\n  padding-top: 0px;\n  padding-left: 20px;\n  margin-top: 10px; }\n\n.adsk-viewing-viewer .measure-panel-title:hover {\n  cursor: pointer; }\n\n.adsk-viewing-viewer .measure-panel-title.collapsed {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);\n  background-repeat: no-repeat; }\n\n.adsk-viewing-viewer .measure-panel-title.expanded {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);\n  background-repeat: no-repeat; }\n\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td {\n  padding: 10px 0px  10px 20px; }\n\n.adsk-viewing-viewer .measure-selection-one-label {\n  display: inline-block;\n  margin: 18px 18px 18px 18px;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  float: left;\n  padding: 2px;\n  background-color: #0033FF;\n  border-radius: 10px;\n  opacity: 0.6; }\n\n.adsk-viewing-viewer .measure-selection-two-label {\n  display: inline-block;\n  margin: 18px 18px 18px 18px;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  float: left;\n  padding: 2px;\n  background-color: #0033FF;\n  border-radius: 10px;\n  opacity: 0.6; }\n\n.adsk-viewing-viewer .measure-repick {\n  display: inline-block;\n  cursor: default;\n  margin: 20px 20px 20px 20px;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  float: right;\n  opacity: 0.5; }\n\n.adsk-viewing-viewer .measure-repick:hover {\n  opacity: 1; }\n\n.adsk-viewing-viewer .measure-selection-result {\n  display: inline-block;\n  margin: 21px 0px 21px 0px; }\n\n.adsk-viewing-viewer .measure-distance-icon {\n  display: inline-block;\n  margin: 20px 2px 20px 2px;\n  font-size: 52px;\n  color: #FF9900;\n  float: left; }\n\n.adsk-viewing-viewer .measure-angle-icon {\n  display: inline-block;\n  margin: 20px 2px 20px 2px;\n  font-size: 52px;\n  color: #FF9900;\n  float: left; }\n\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-result {\n  font-size: 20px;\n  color: #FF9900;\n  display: inline-block;\n  margin: 38px 0px 38px 0px; }\n\n.adsk-viewing-viewer .measure-initial {\n  font-size: 20px;\n  display: inline-block;\n  margin: 38px 0px 38px 56px; }\n\n.adsk-viewing-viewer .measure-settings-button {\n  cursor: default;\n  position: relative;\n  top: 20px;\n  right: 20px;\n  width: 16px;\n  height: 16px;\n  font-size: 18px;\n  float: right;\n  opacity: 0.5; }\n\n.adsk-viewing-viewer .measure-settings-button:hover {\n  opacity: 1; }\n\n.adsk-viewing-viewer .measure-delta-button {\n  position: relative;\n  top: 56px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  font-size: 16px;\n  float: right;\n  opacity: 0.5;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  transform: rotate(-90deg); }\n\n.adsk-viewing-viewer .measure-delta-button.rotated {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  transform: rotate(90deg); }\n\n.adsk-viewing-viewer .measure-delta-button:hover {\n  opacity: 1; }\n\n.adsk-viewing-viewer .measure-delta-result {\n  display: inline-block;\n  margin: 0px 0px 20px 0px;\n  padding: 0px 0px 0px 56px; }\n\n.adsk-viewing-viewer .measure-label-axis {\n  display: none;\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  left: 0px;\n  top: 0px;\n  background-color: #f4f4f4;\n  border-radius: 8px;\n  pointer-events: none; }\n\n.adsk-viewing-viewer .measure-label-axis-icon.X {\n  background-color: #EC4545; }\n\n.adsk-viewing-viewer .measure-label-axis-icon.Y {\n  background-color: #45C345; }\n\n.adsk-viewing-viewer .measure-label-axis-icon.Z {\n  background-color: #5757DA; }\n\n.adsk-viewing-viewer .measure-label-axis-icon {\n  width: 20px;\n  height: 18px;\n  color: #f4f4f4;\n  border-radius: 8px 0 0 8px;\n  font-size: 12px;\n  padding-top: 4px;\n  line-height: 15px;\n  text-align: center; }\n\n/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-label-axis-delta.enableTransition {\n  transition: opacity 0.1s linear; }\n\n.adsk-viewing-viewer .measure-label-axis-delta {\n  display: none;\n  position: absolute;\n  font-size: 18px;\n  left: 0px;\n  top: 0px;\n  background-color: #ffffff;\n  pointer-events: none;\n  opacity: 0;\n  border-radius: 8px;\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25); }\n\n.adsk-viewing-viewer .measure-label-axis.visible {\n  display: block; }\n\n.adsk-viewing-viewer .measure-label-axis-delta.visible {\n  display: flex; }\n\n.adsk-viewing-viewer .measure-label-axis-x {\n  color: #EC4545; }\n\n.adsk-viewing-viewer .measure-label-axis-y {\n  color: #45C345; }\n\n.adsk-viewing-viewer .measure-label-axis-z {\n  color: #5757DA; }\n\n.adsk-viewing-viewer .magnifying-glass.visible {\n  display: block; }\n\n.adsk-viewing-viewer .magnifying-glass {\n  position: absolute;\n  display: none;\n  -moz-border-radius: 100%;\n  -webkit-border-radius: 100%;\n  border-radius: 100%;\n  background: transparent;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0, 0, 0, 0.5);\n  -webkit-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0, 0, 0, 0.5);\n  z-index: 4; }\n\n.adsk-viewing-viewer .measure-fetching-topology {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  background: url("+n(i(/*! ./res/icon-spinner-sm.svg */"./extensions/Measure/res/icon-spinner-sm.svg"))+");\n  margin: 3px 0px -2px 3px;\n  animation: measure-topology-fetching-anim 1.4s infinite linear;\n  -webkit-animation: measure-topology-fetching-anim 1.4s infinite linear; }\n\n@keyframes measure-topology-fetching-anim {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@-webkit-keyframes measure-topology-fetching-anim {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  bottom: 120%;\n  box-sizing: border-box;\n  text-align: left;\n  position: absolute;\n  padding-top: 15px;\n  padding-bottom: 15px; }\n\n.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup {\n  right: 120%;\n  bottom: unset;\n  height: max-content;\n  width: max-content; }\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td {\n  width: auto;\n  padding-bottom: 0px;\n  padding-top: 0px;\n  vertical-align: inherit; }\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide {\n  display: none; }\n\n.adsk-viewing-viewer .measure-settings-popup tbody {\n  top: 15px; }\n\n.adsk-toolbar .measure-toolbar-seperator {\n  height: 18px;\n  width: 1px;\n  background-color: #999;\n  float: left;\n  margin: 16px 5px; }\n\n.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator {\n  height: 1px;\n  width: 18px;\n  margin: 5px 16px; }\n\n.adsk-viewing-viewer .measure-selection-area {\n  display: block;\n  position: absolute;\n  cursor: pointer;\n  z-index: 1;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n",""])},"./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(a).concat([s]).join("\n")}var o;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(n[a]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},"./node_modules/css-loader/lib/url/escape.js":
/*!***************************************************!*\
  !*** ./node_modules/css-loader/lib/url/escape.js ***!
  \***************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},"./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,i){var n,s,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),r=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=r.call(this,e,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),h=null,c=0,d=[],u=i(/*! ./urls */"./node_modules/style-loader/lib/urls.js");function p(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=a[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(w(n.parts[o],t))}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(w(n.parts[o],t));a[n.id]={id:n.id,refs:1,parts:r}}}}function m(e,t){for(var i=[],n={},s=0;s<e.length;s++){var a=e[s],o=t.base?a[0]+t.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}function g(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertAt.before,i);i.insertBefore(t,s)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return f(t,e.attrs),g(e,t),t}function f(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function w(e,t){var i,n,s,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=c++;i=h||(h=v(t)),n=x.bind(null,i,o,!1),s=x.bind(null,i,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),g(e,t),t}(t),n=M.bind(null,i,t),s=function(){b(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=E.bind(null,i),s=function(){b(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=m(e,t);return p(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var o=i[s];(r=a[o.id]).refs--,n.push(r)}e&&p(m(e,t),t);for(s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var y,A=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=A(t,s);else{var a=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function E(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function M(e,t,i){var n=i.css,s=i.sourceMap,a=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||a)&&(n=u(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},"./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(s=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}}});