/*!
 * LMV v7.9.0
 * 
 * Copyright 2019 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.MSDF=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./extensions/MSDF/index.js")}({"./extensions/MSDF/Generator.js":
/*!**************************************!*\
  !*** ./extensions/MSDF/Generator.js ***!
  \**************************************/
/*! exports provided: Generator */function(e,t,n){"use strict";n.r(t),n.d(t,"Generator",(function(){return p}));var r=n(/*! ./utils/maxrects-packer */"./extensions/MSDF/utils/maxrects-packer.js"),a=n(/*! opentype.js */"./node_modules/opentype.js/dist/opentype.js"),i=n(/*! worker-loader?inline!./GeneratorWorker */"./node_modules/worker-loader/dist/cjs.js?inline!./extensions/MSDF/GeneratorWorker.js"),o=n.n(i);function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=Autodesk.Viewing,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=[],r=e.length,a=0;this.execute=function(){var i=this;if(0==e.length)return Promise.resolve([]);var s=[];return new Promise((function(i,c){for(var u=0;u<t;u++){var p=new o.a;n.push(p),p.onmessage=function(e){r--,s.push(e.data),0==r&&i(s)}}e.map((function(e){var r=a++%t;n[r].postMessage(e)}))})).then((function(e){return i.finish(),e})).catch(console.error)},this.finish=function(){for(var e=0;e<t;e++)n[e].terminate()}},p=function(){function e(e,t){for(var n=t.data.toFontChar,r=-1,a=0;a<n.length;a++)if(n[a]==e){r=a;break}if(t.data.toUnicode._map)return t.data.toUnicode._map[r]}var t=[],n={pages:[],chars:[],charsMap:{},info:[],common:[],distanceField:{},kernings:[]},i=0,o=0;this._prepare=function(r,a,c){var u=new Set,p=c.fontSize||32,l=c.range||4;this.textureWidth=c.textureWidth||1920,this.textureHeight=c.textureHeight||1080,this.texturePadding=c.texturePadding||4;var h=p/r.unitsPerEm,d=i++,_=o++;n.distanceField.fieldType="msdf",n.distanceField.distanceRange=l;var f=r.tables.os2,g=f.sTypoAscender*(p/r.unitsPerEm)+(l>>1),v={lineHeight:(f.sTypoAscender-f.sTypoDescender+f.sTypoLineGap)*(p/r.unitsPerEm),base:g,scaleW:this.textureWidth,scaleH:this.textureHeight,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0};n.common.push(v);var m=new Set;for(var b in r.glyphs.glyphs){var y=r.glyphs.glyphs[b],E=e(y.unicode,a),x="".concat(a.data.loadedName,"_").concat(String.fromCharCode(y.unicode));if(null!=y.unicode&&!u.has(x)){var D=y.getPath(0,0,p,{xScale:h,yScale:h}),O=D.getBoundingBox();t.push({fontName:a.data.name,index:b,path:D,bounds:O,range:l,char:E,fontSize:p,unicodes:y.unicodes.slice(0),info:d,common:_,advanceWidth:Math.round(y.advanceWidth*h),unicode:y.unicode}),u.add(x),m.add(y.unicode),m.add.apply(m,s(y.unicodes))}}var M={face:a.data.loadedName,fontname:a.data.name,size:p,bold:0,italic:0,charset:Array.from(m).map((function(e){return String.fromCharCode(e)})),unicode:1,stretchH:100,smooth:1,aa:1,padding:[0,0,0,0],spacing:[0,0],scale:h};n.info.push(M)},this._execute=function(e){var a=this;return new u(t).execute().then((function(t){var i=new r.MaxRectsPacker(a.textureWidth,a.textureHeight,a.texturePadding,{smart:!0,pot:!1,square:!1,allowRotation:!1,tag:!1,border:0});if(n.bins&&i.load(n.bins),t.length>0){i.addArray(t),t.length=0;var o=0;i.bins.forEach((function(e){if(null==(t=n.pages[o])){var t=a.getDocument().createElement("canvas");n.pages.push(t),t.width=a.textureWidth,t.height=a.textureHeight;var r=t.getContext("2d");r.save(),r.fillStyle="#000000",r.fillRect(0,0,t.width,t.height),r.restore()}t.cacheKey=(new Date).getTime();var i=t.getContext("2d");e.rects.forEach((function(e){if(null!=e.image){var t=new ImageData(e.image.binData,e.image.width,e.image.height);i.putImageData(t,e.x,e.y);var r=n.chars.length;n.chars.push({index:e.index,aschar:e.char,width:e.width,height:e.height,inverseYAxis:e.inverseYAxis,xoffset:e.charInfo.xOffset,yoffset:e.charInfo.yOffset,txoffset:e.charInfo.txOffset,tyoffset:e.charInfo.tyOffset,xadvance:e.advanceWidth,chnl:15,x:e.x,y:e.y,page:o,info:e.info,common:e.common,unicode:e.unicode}),e.unicodes.map((function(t){n.charsMap[e.fontName]||(n.charsMap[e.fontName]={}),n.charsMap[e.fontName][t]=r}))}})),o++}));var s=i.save();return n.bins=s,a.saveCache(e,n),n}return n}))},this.getCacheKey=function(e){return"".concat(e,"/pdf/fontAtlas/v0")},this.saveCache=function(e,t){var n=t.pages;t.pages=t.pages.map((function(e){return e.toDataURL("image/png")})),Autodesk.Viewing.Private.LocalStorage.setItem(this.getCacheKey(e),JSON.stringify(t)),t.pages=n},this.readCache=function(e){var t=this,n=Autodesk.Viewing.Private.LocalStorage.getItem(this.getCacheKey(e));if(n){if((n=JSON.parse(n)).pages&&n.pages.length>0){for(var r=[],a=function(){var e=n.pages[i],a=t.getDocument().createElement("canvas");a.width=n.common[i].scaleW,a.height=n.common[i].scaleH;var o=a.getContext("2d");o.save(),o.clearRect(0,0,a.width,a.height);var s=new Image;s.src=e,r.push(new Promise((function(e,t){s.onload=function(){o.drawImage(s,0,0),o.restore(),e()}}))),n.pages[i]=a},i=0;i<n.pages.length;i++)a();return Promise.all(r).then((function(){return n}))}return Promise.resolve(null)}return Promise.resolve(null)},this.createFontAtlasForPDF=function(e,t,r){var i=this,o=r?r.fontSize:48,s=r?r.range:4;return this.readCache(t).then((function(e){e&&(n=e)})).then((function(){return new Promise((function(r,c){function u(e){return 0==n.info.filter((function(t){return t.fontname===e})).length}for(var p in e.commonObjs.objs){var l=e.commonObjs.objs[p];if(l.data&&l.data.loadedName&&l.data.fallbackName&&l.data.data&&u(l.data.name)){var h=a.parse(l.data.data.buffer);i._prepare(h,l,{fontSize:o,range:s})}}i._execute(t).then((function(e){r(e)})).catch(console.error).then(r)}))}))}};c.GlobalManagerMixin.call(p.prototype)},"./extensions/MSDF/index.js":
/*!**********************************!*\
  !*** ./extensions/MSDF/index.js ***!
  \**********************************/
/*! no exports provided */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./Generator */"./extensions/MSDF/Generator.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Autodesk.Viewing.Extension;var u=Autodesk.Viewing;AutodeskNamespace("Autodesk.MSDF").Generator=r.Generator;var p=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).call(this,e,n))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(r=[{key:"load",value:function(){return!0}},{key:"unload",value:function(){return!0}},{key:"activate",value:function(){return!0}},{key:"deactivate",value:function(){return!1}}])&&i(n.prototype,r),a&&i(n,a),t}(u.Extension);Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.MSDF",p)},"./extensions/MSDF/utils/maxrects-packer.js":
/*!**************************************************!*\
  !*** ./extensions/MSDF/utils/maxrects-packer.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r,a,i,o;function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){"use strict";var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.oversized=!1,this._rot=!1,this._dirty=0,this._width=t,this._height=n,this._x=r,this._y=a,this._data={},this._rot=i}return _(e,[{key:"area",value:function(){return this.width*this.height}},{key:"collide",value:function(e){return e.x<this.x+this.width&&e.x+e.width>this.x&&e.y<this.y+this.height&&e.y+e.height>this.y}},{key:"contain",value:function(e){return e.x>=this.x&&e.y>=this.y&&e.x+e.width<=this.x+this.width&&e.y+e.height<=this.y+this.height}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._dirty=e?this._dirty+1:0}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this._dirty++)}},{key:"height",get:function(){return this._height},set:function(e){e!==this._height&&(this._height=e,this._dirty++)}},{key:"x",get:function(){return this._x},set:function(e){e!==this._x&&(this._x=e,this._dirty++)}},{key:"y",get:function(){return this._y},set:function(e){e!==this._y&&(this._y=e,this._dirty++)}},{key:"rot",get:function(){return this._rot},set:function(e){if(this._rot!==e){var t=this.width;this.width=this.height,this.height=t,this._rot=e,this._dirty++}}},{key:"data",get:function(){return this._data},set:function(e){e!==this._data&&(this._data=e,this._dirty++)}},{key:"dirty",get:function(){return this._dirty>0}}],[{key:"Collide",value:function(e,t){return e.collide(t)}},{key:"Contain",value:function(e,t){return e.contain(t)}}]),e}(),n=function(){function e(){h(this,e),this._dirty=0}return _(e,[{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._dirty=e?this._dirty+1:0,!e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.rects[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.setDirty&&o.setDirty(!1)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"dirty",get:function(){return this._dirty>0||this.rects.some((function(e){return e.dirty}))}}]),e}(),r=function(e){function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{smart:!0,pot:!0,square:!0,allowRotation:!1,tag:!1,border:0};return h(this,n),(e=c(this,u(n).call(this))).maxWidth=r,e.maxHeight=a,e.padding=o,e.options=s,e.freeRects=[],e.rects=[],e.verticalExpand=!1,e.width=e.options.smart?0:r,e.height=e.options.smart?0:a,e.border=e.options.border?e.options.border:0,e.freeRects.push(new t(e.maxWidth+e.padding-2*e.border,e.maxHeight+e.padding-2*e.border,e.border,e.border)),e.stage=new t(e.width,e.height),e}return p(n,e),_(n,[{key:"add",value:function(){var e,n;if(1===arguments.length){if("object"!==f(arguments.length<=0?void 0:arguments[0]))throw new Error("MacrectsBin.add(): Wrong parameters");var r=(n=arguments.length<=0?void 0:arguments[0]).data&&n.data.tag?n.data.tag:n.tag?n.tag:void 0;if(this.options.tag&&this.tag!==r)return}else{if(e=arguments.length>2?arguments.length<=2?void 0:arguments[2]:null,this.options.tag){if(e&&this.tag!==e.tag)return;if(!e&&this.tag)return}(n=new t(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])).data=e,n.setDirty(!1)}var a=this.place(n);return a&&this.rects.push(a),a}},{key:"repack",value:function(){var e=[];this.reset(),this.rects.sort((function(e,t){var n=Math.max(t.width,t.height)-Math.max(e.width,e.height);return 0===n&&e.hash&&t.hash?e.hash>t.hash?-1:1:n}));var t=!0,n=!1,r=void 0;try{for(var a,i=this.rects[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.place(o)||e.push(o)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}for(var s=0,c=e;s<c.length;s++){var u=c[s];this.rects.splice(this.rects.indexOf(u),1)}return e.length>0?e:void 0}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.data&&delete this.data,this.tag&&delete this.tag,this.rects=[],n&&(this.options={smart:!0,pot:!0,square:!0,allowRotation:!1,tag:!1,border:0})),this.width=this.options.smart?0:this.maxWidth,this.height=this.options.smart?0:this.maxHeight,this.border=this.options.border?this.options.border:0,this.freeRects=[new t(this.maxWidth+this.padding-2*this.border,this.maxHeight+this.padding-2*this.border,this.border,this.border)],this.stage=new t(this.width,this.height),this._dirty=0}},{key:"place",value:function(e){var n=e.data&&e.data.tag?e.data.tag:e.tag?e.tag:void 0;if(!this.options.tag||this.tag===n){var r=this.findNode(e.width+this.padding,e.height+this.padding);if(r){this.updateBinSize(r);for(var a=this.freeRects.length,i=0;i<a;)this.splitNode(this.freeRects[i],r)&&(this.freeRects.splice(i,1),a--,i--),i++;return this.pruneFreeList(),this.verticalExpand=this.width>this.height,e.x=r.x,e.y=r.y,e.rot=r.rot?!e.rot:e.rot,this._dirty++,e}if(this.verticalExpand){if(this.updateBinSize(new t(e.width+this.padding,e.height+this.padding,this.border,this.height+this.padding-this.border))||this.updateBinSize(new t(e.width+this.padding,e.height+this.padding,this.width+this.padding-this.border,this.border)))return this.place(e)}else if(this.updateBinSize(new t(e.width+this.padding,e.height+this.padding,this.width+this.padding-this.border,this.border))||this.updateBinSize(new t(e.width+this.padding,e.height+this.padding,this.border,this.height+this.padding-this.border)))return this.place(e)}}},{key:"findNode",value:function(e,n){var r,a,i,o=Number.MAX_VALUE;for(var s in this.freeRects)(a=this.freeRects[s]).width>=e&&a.height>=n&&(r=a.width*a.height-e*n)<o&&(i=new t(e,n,a.x,a.y),o=r),this.options.allowRotation&&a.width>=n&&a.height>=e&&(r=a.width*a.height-n*e)<o&&(i=new t(n,e,a.x,a.y,!0),o=r);return i}},{key:"splitNode",value:function(e,n){if(!e.collide(n))return!1;if(n.x<e.x+e.width&&n.x+n.width>e.x){if(n.y>e.y&&n.y<e.y+e.height){var r=new t(e.width,n.y-e.y,e.x,e.y);this.freeRects.push(r)}if(n.y+n.height<e.y+e.height){var a=new t(e.width,e.y+e.height-(n.y+n.height),e.x,n.y+n.height);this.freeRects.push(a)}}if(n.y<e.y+e.height&&n.y+n.height>e.y){if(n.x>e.x&&n.x<e.x+e.width){var i=new t(n.x-e.x,e.height,e.x,e.y);this.freeRects.push(i)}if(n.x+n.width<e.x+e.width){var o=new t(e.x+e.width-(n.x+n.width),e.height,n.x+n.width,e.y);this.freeRects.push(o)}}return!0}},{key:"pruneFreeList",value:function(){for(var e=0,t=0,n=this.freeRects.length;e<n;){t=e+1;for(var r=this.freeRects[e];t<n;){var a=this.freeRects[t];if(a.contain(r)){this.freeRects.splice(e,1),e--,n--;break}r.contain(a)&&(this.freeRects.splice(t,1),t--,n--),t++}e++}}},{key:"updateBinSize",value:function(e){if(!this.options.smart)return!1;if(this.stage.contain(e))return!1;var t=Math.max(this.width,e.x+e.width-this.padding+this.border),n=Math.max(this.height,e.y+e.height-this.padding+this.border);if(this.options.allowRotation){var r=Math.max(this.width,e.x+e.height-this.padding+this.border),a=Math.max(this.height,e.y+e.width-this.padding+this.border);r*a<t*n&&(t=r,n=a)}return this.options.pot&&(t=Math.pow(2,Math.ceil(Math.log(t)*Math.LOG2E)),n=Math.pow(2,Math.ceil(Math.log(n)*Math.LOG2E))),this.options.square&&(t=n=Math.max(t,n)),!(t>this.maxWidth+this.padding||n>this.maxHeight+this.padding||(this.expandFreeRects(t+this.padding,n+this.padding),this.width=this.stage.width=t,this.height=this.stage.height=n,0))}},{key:"expandFreeRects",value:function(e,n){var r=this;this.freeRects.forEach((function(t,a){t.x+t.width>=Math.min(r.width+r.padding-r.border,e)&&(t.width=e-t.x-r.border),t.y+t.height>=Math.min(r.height+r.padding-r.border,n)&&(t.height=n-t.y-r.border)}),this),this.freeRects.push(new t(e-this.width-this.padding,n-2*this.border,this.width+this.padding-this.border,this.border)),this.freeRects.push(new t(e-2*this.border,n-this.height-this.padding,this.border,this.height+this.padding-this.border)),this.freeRects=this.freeRects.filter((function(e){return!(e.width<=0||e.height<=0||e.x<r.border||e.y<r.border)})),this.pruneFreeList()}}]),n}(n),a=function(e){function n(){var e;if(h(this,n),(e=c(this,u(n).call(this))).rects=[],1===arguments.length){if("object"!==f(arguments.length<=0?void 0:arguments[0]))throw new Error("OversizedElementBin: Wrong parameters");var r=arguments.length<=0?void 0:arguments[0];e.rects=[r],e.width=r.width,e.height=r.height,e.data=r.data,r.oversized=!0}else{e.width=arguments.length<=0?void 0:arguments[0],e.height=arguments.length<=1?void 0:arguments[1],e.data=arguments.length>2?arguments.length<=2?void 0:arguments[2]:null;var a=new t(e.width,e.height);a.oversized=!0,a.data=e.data,e.rects.push(a)}return e.freeRects=[],e.maxWidth=e.width,e.maxHeight=e.height,e.options={smart:!1,pot:!1,square:!1},e}return p(n,e),_(n,[{key:"add",value:function(){}},{key:"reset",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"repack",value:function(){}}]),n}(n),i=4096,o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{smart:!0,pot:!0,square:!1,allowRotation:!1,tag:!1,border:0};h(this,e),this.width=t,this.height=n,this.padding=r,this.options=a,this._currentBinIndex=0,this.bins=[]}return _(e,[{key:"add",value:function(){if(1===arguments.length){if("object"!==f(arguments.length<=0?void 0:arguments[0]))throw new Error("MacrectsPacker.add(): Wrong parameters");var e=arguments.length<=0?void 0:arguments[0];if(e.width>this.width||e.height>this.height)this.bins.push(new a(e));else{var n=this.bins.slice(this._currentBinIndex).find((function(t){return void 0!==t.add(e)}));if(!n){var i=new r(this.width,this.height,this.padding,this.options),o=e.data&&e.data.tag?e.data.tag:e.tag?e.tag:void 0;this.options.tag&&o&&(i.tag=o),i.add(e),this.bins.push(i)}}return e}var s=new t(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);if(arguments.length>2&&(s.data=arguments.length<=2?void 0:arguments[2]),s.width>this.width||s.height>this.height)this.bins.push(new a(s));else{var c=this.bins.slice(this._currentBinIndex).find((function(e){return void 0!==e.add(s)}));if(!c){var u=new r(this.width,this.height,this.padding,this.options);this.options.tag&&s.data.tag&&(u.tag=s.data.tag),u.add(s),this.bins.push(u)}}return s}},{key:"addArray",value:function(e){var t=this;this.sort(e).forEach((function(e){return t.add(e)}))}},{key:"reset",value:function(){this.bins=[],this._currentBinIndex=0}},{key:"repack",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=this.bins[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(c.dirty){var u=c.repack();u&&t.push.apply(t,s(u))}}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}this.addArray(t)}else if(this.dirty){var p=this.rects;this.reset(),this.addArray(p)}}},{key:"next",value:function(){return this._currentBinIndex=this.bins.length,this._currentBinIndex}},{key:"load",value:function(e){var n=this;e.forEach((function(e,i){if(e.maxWidth>n.width||e.maxHeight>n.height)n.bins.push(new a(e.width,e.height,{}));else{var o=new r(n.width,n.height,n.padding,e.options);o.freeRects.splice(0),e.freeRects.forEach((function(e,n){o.freeRects.push(new t(e.width,e.height,e.x,e.y))})),o.width=e.width,o.height=e.height,e.tag&&(o.tag=e.tag),n.bins[i]=o}}),this)}},{key:"save",value:function(){var e=[];return this.bins.forEach((function(t){var n={width:t.width,height:t.height,maxWidth:t.maxWidth,maxHeight:t.maxHeight,freeRects:[],rects:[],options:t.options};t.tag&&(n=Object.assign({},n,{tag:t.tag})),t.freeRects.forEach((function(e){n.freeRects.push({x:e.x,y:e.y,width:e.width,height:e.height})})),e.push(n)})),e}},{key:"sort",value:function(e){return e.slice().sort((function(e,t){var n=Math.max(t.width,t.height)-Math.max(e.width,e.height);return 0===n&&e.hash&&t.hash?e.hash>t.hash?-1:1:n}))}},{key:"currentBinIndex",get:function(){return this._currentBinIndex}},{key:"dirty",get:function(){return this.bins.some((function(e){return e.dirty}))}},{key:"rects",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.bins[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,s(o.rects))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}}]),e}();e.Bin=n,e.MaxRectsBin=r,e.MaxRectsPacker=o,e.OversizedElementBin=a,e.Rectangle=t,Object.defineProperty(e,"__esModule",{value:!0})},"object"===f(t)&&void 0!==e?o(t):(a=[t],void 0===(i="function"==typeof(r=o)?r.apply(t,a):r)||(e.exports=i))},"./node_modules/opentype.js/dist/opentype.js":
/*!***************************************************!*\
  !*** ./node_modules/opentype.js/dist/opentype.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){!function(e){"use strict";
/*! https://mths.be/codepointat v0.2.0 by @mathias */var t,r;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new a,this.dtree=new a}String.prototype.codePointAt||(t=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),r=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=n)){var a,i=t.charCodeAt(r);return i>=55296&&i<=56319&&n>r+1&&(a=t.charCodeAt(r+1))>=56320&&a<=57343?1024*(i-55296)+a-56320+65536:i}},t?t(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);var o=new a,s=new a,c=new Uint8Array(30),u=new Uint16Array(30),p=new Uint8Array(30),l=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new a,_=new Uint8Array(320);function f(e,t,n,r){var a,i;for(a=0;a<n;++a)e[a]=0;for(a=0;a<30-n;++a)e[a+n]=a/n|0;for(i=r,a=0;a<30;++a)t[a]=i,i+=1<<e[a]}var g=new Uint16Array(16);function v(e,t,n,r){var a,i;for(a=0;a<16;++a)e.table[a]=0;for(a=0;a<r;++a)e.table[t[n+a]]++;for(e.table[0]=0,i=0,a=0;a<16;++a)g[a]=i,i+=e.table[a];for(a=0;a<r;++a)t[n+a]&&(e.trans[g[t[n+a]]++]=a)}function m(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function b(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function y(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,a=0,i=e.tag;do{r=2*r+(1&i),i>>>=1,++a,n+=t.table[a],r-=t.table[a]}while(r>=0);return e.tag=i,e.bitcount-=a,t.trans[n+r]}function E(e,t,n){var r,a,i,o,s,c;for(r=b(e,5,257),a=b(e,5,1),i=b(e,4,4),o=0;o<19;++o)_[o]=0;for(o=0;o<i;++o){var u=b(e,3,0);_[h[o]]=u}for(v(d,_,0,19),s=0;s<r+a;){var p=y(e,d);switch(p){case 16:var l=_[s-1];for(c=b(e,2,3);c;--c)_[s++]=l;break;case 17:for(c=b(e,3,3);c;--c)_[s++]=0;break;case 18:for(c=b(e,7,11);c;--c)_[s++]=0;break;default:_[s++]=p}}v(t,_,0,r),v(n,_,r,a)}function x(e,t,n){for(;;){var r,a,i,o,s=y(e,t);if(256===s)return 0;if(s<256)e.dest[e.destLen++]=s;else for(r=b(e,c[s-=257],u[s]),a=y(e,n),o=i=e.destLen-b(e,p[a],l[a]);o<i+r;++o)e.dest[e.destLen++]=e.dest[o]}}function D(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}(function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n})(o,s),f(c,u,4,3),f(p,l,2,1),c[28]=0,u[28]=258;var O=function(e,t){var n,r,a=new i(e,t);do{switch(n=m(a),b(a,2,0)){case 0:r=D(a);break;case 1:r=x(a,o,s);break;case 2:E(a,a.ltree,a.dtree),r=x(a,a.ltree,a.dtree);break;default:r=-3}if(0!==r)throw new Error("Data error")}while(!n);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest};function M(e,t,n,r,a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*n+Math.pow(a,3)*r}function S(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function P(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function w(e){throw new Error(e)}function T(e,t){e||w(t)}S.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},S.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},S.prototype.addX=function(e){this.addPoint(e,null)},S.prototype.addY=function(e){this.addPoint(null,e)},S.prototype.addBezier=function(e,t,n,r,a,i,o,s){var c=[e,t],u=[n,r],p=[a,i],l=[o,s];this.addPoint(e,t),this.addPoint(o,s);for(var h=0;h<=1;h++){var d=6*c[h]-12*u[h]+6*p[h],_=-3*c[h]+9*u[h]-9*p[h]+3*l[h],f=3*u[h]-3*c[h];if(0!==_){var g=Math.pow(d,2)-4*f*_;if(!(g<0)){var v=(-d+Math.sqrt(g))/(2*_);0<v&&v<1&&(0===h&&this.addX(M(c[h],u[h],p[h],l[h],v)),1===h&&this.addY(M(c[h],u[h],p[h],l[h],v)));var m=(-d-Math.sqrt(g))/(2*_);0<m&&m<1&&(0===h&&this.addX(M(c[h],u[h],p[h],l[h],m)),1===h&&this.addY(M(c[h],u[h],p[h],l[h],m)))}}else{if(0===d)continue;var b=-f/d;0<b&&b<1&&(0===h&&this.addX(M(c[h],u[h],p[h],l[h],b)),1===h&&this.addY(M(c[h],u[h],p[h],l[h],b)))}}},S.prototype.addQuad=function(e,t,n,r,a,i){var o=e+2/3*(n-e),s=t+2/3*(r-t),c=o+1/3*(a-e),u=s+1/3*(i-t);this.addBezier(e,t,o,s,c,u,a,i)},P.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},P.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},P.prototype.curveTo=P.prototype.bezierCurveTo=function(e,t,n,r,a,i){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:a,y:i})},P.prototype.quadTo=P.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},P.prototype.close=P.prototype.closePath=function(){this.commands.push({type:"Z"})},P.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof S){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},P.prototype.getBoundingBox=function(){for(var e=new S,t=0,n=0,r=0,a=0,i=0;i<this.commands.length;i++){var o=this.commands[i];switch(o.type){case"M":e.addPoint(o.x,o.y),t=r=o.x,n=a=o.y;break;case"L":e.addPoint(o.x,o.y),r=o.x,a=o.y;break;case"Q":e.addQuad(r,a,o.x1,o.y1,o.x,o.y),r=o.x,a=o.y;break;case"C":e.addBezier(r,a,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,a=o.y;break;case"Z":r=t,a=n;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},P.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},P.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",r=0;r<arguments.length;r+=1){var a=e[r];a>=0&&r>0&&(n+=" "),n+=t(a)}return n}e=void 0!==e?e:2;for(var r="",a=0;a<this.commands.length;a+=1){var i=this.commands[a];"M"===i.type?r+="M"+n(i.x,i.y):"L"===i.type?r+="L"+n(i.x,i.y):"C"===i.type?r+="C"+n(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?r+="Q"+n(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(r+="Z")}return r},P.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},P.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var U={fail:w,argument:T,assert:T},C={},R={},L={};function I(e){return function(){return e}}R.BYTE=function(e){return U.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},L.BYTE=I(1),R.CHAR=function(e){return[e.charCodeAt(0)]},L.CHAR=I(1),R.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},L.CHARARRAY=function(e){return e.length},R.USHORT=function(e){return[e>>8&255,255&e]},L.USHORT=I(2),R.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},L.SHORT=I(2),R.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},L.UINT24=I(3),R.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},L.ULONG=I(4),R.LONG=function(e){return e>=2147483648&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},L.LONG=I(4),R.FIXED=R.ULONG,L.FIXED=L.ULONG,R.FWORD=R.SHORT,L.FWORD=L.SHORT,R.UFWORD=R.USHORT,L.UFWORD=L.USHORT,R.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},L.LONGDATETIME=I(8),R.TAG=function(e){return U.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},L.TAG=I(4),R.Card8=R.BYTE,L.Card8=L.BYTE,R.Card16=R.USHORT,L.Card16=L.USHORT,R.OffSize=R.BYTE,L.OffSize=L.BYTE,R.SID=R.USHORT,L.SID=L.USHORT,R.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?R.NUMBER16(e):R.NUMBER32(e)},L.NUMBER=function(e){return R.NUMBER(e).length},R.NUMBER16=function(e){return[28,e>>8&255,255&e]},L.NUMBER16=I(3),R.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},L.NUMBER32=I(5),R.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var a="",i=0,o=t.length;i<o;i+=1){var s=t[i];a+="e"===s?"-"===t[++i]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var c=[30],u=0,p=(a+=1&a.length?"f":"ff").length;u<p;u+=2)c.push(parseInt(a.substr(u,2),16));return c},L.REAL=function(e){return R.REAL(e).length},R.NAME=R.CHARARRAY,L.NAME=L.CHARARRAY,R.STRING=R.CHARARRAY,L.STRING=L.CHARARRAY,C.UTF8=function(e,t,n){for(var r=[],a=n,i=0;i<a;i++,t+=1)r[i]=e.getUint8(t);return String.fromCharCode.apply(null,r)},C.UTF16=function(e,t,n){for(var r=[],a=n/2,i=0;i<a;i++,t+=2)r[i]=e.getUint16(t);return String.fromCharCode.apply(null,r)},R.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},L.UTF16=function(e){return 2*e.length};var k={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};C.MACSTRING=function(e,t,n,r){var a=k[r];if(void 0!==a){for(var i="",o=0;o<n;o++){var s=e.getUint8(t+o);i+=s<=127?String.fromCharCode(s):a[127&s]}return i}};var B,A="function"==typeof WeakMap&&new WeakMap;function W(e){return e>=-128&&e<=127}function F(e,t,n){for(var r=0,a=e.length;t<a&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}function j(e,t,n){for(var r=0,a=e.length,i=t;i<a&&r<64;){var o=e[i];if(!W(o))break;if(0===o&&i+1<a&&0===e[i+1])break;++i,++r}n.push(r-1);for(var s=t;s<i;++s)n.push(e[s]+256&255);return i}function N(e,t,n){for(var r=0,a=e.length,i=t;i<a&&r<64;){var o=e[i];if(0===o)break;if(W(o)&&i+1<a&&W(e[i+1]))break;++i,++r}n.push(64|r-1);for(var s=t;s<i;++s){var c=e[s];n.push(c+65536>>8&255,c+256&255)}return i}R.MACSTRING=function(e,t){var n=function(e){if(!B)for(var t in B={},k)B[t]=new String(t);var n=B[e];if(void 0!==n){if(A){var r=A.get(n);if(void 0!==r)return r}var a=k[e];if(void 0!==a){for(var i={},o=0;o<a.length;o++)i[a.charCodeAt(o)]=o+128;return A&&A.set(n,i),i}}}(t);if(void 0!==n){for(var r=[],a=0;a<e.length;a++){var i=e.charCodeAt(a);if(i>=128&&void 0===(i=n[i]))return;r[a]=i}return r}},L.MACSTRING=function(e,t){var n=R.MACSTRING(e,t);return void 0!==n?n.length:0},R.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=0===r?F(e,t,n):r>=-128&&r<=127?j(e,t,n):N(e,t,n)}return n},R.INDEX=function(e){for(var t=1,n=[t],r=[],a=0;a<e.length;a+=1){var i=R.OBJECT(e[a]);Array.prototype.push.apply(r,i),t+=i.length,n.push(t)}if(0===r.length)return[0,0];for(var o=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,c=[void 0,R.BYTE,R.USHORT,R.UINT24,R.ULONG][s],u=0;u<n.length;u+=1){var p=c(n[u]);Array.prototype.push.apply(o,p)}return Array.prototype.concat(R.Card16(e.length),R.OffSize(s),o,r)},L.INDEX=function(e){return R.INDEX(e).length},R.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,a=0;a<r;a+=1){var i=parseInt(n[a],0),o=e[i];t=(t=t.concat(R.OPERAND(o.value,o.type))).concat(R.OPERATOR(i))}return t},L.DICT=function(e){return R.DICT(e).length},R.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},R.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)U.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(R.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(R.NUMBER(e));else if("offset"===t)n=n.concat(R.NUMBER32(e));else if("number"===t)n=n.concat(R.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(R.REAL(e))}return n},R.OP=R.BYTE,L.OP=L.BYTE;var G="function"==typeof WeakMap&&new WeakMap;function K(e,t,n){for(var r=0;r<t.length;r+=1){var a=t[r];this[a.name]=a.value}if(this.tableName=e,this.fields=t,n)for(var i=Object.keys(n),o=0;o<i.length;o+=1){var s=i[o],c=n[s];void 0!==this[s]&&(this[s]=c)}}function q(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var a=0;a<t.length;a++)r[a+1]={name:e+a,type:"USHORT",value:t[a]};return r}function V(e,t,n){var r=t.length,a=new Array(r+1);a[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<r;i++)a[i+1]={name:e+i,type:"TABLE",value:n(t[i],i)};return a}function H(e,t,n){var r=t.length,a=[];a[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<r;i++)a=a.concat(n(t[i],i));return a}function z(e){1===e.format?K.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(q("glyph",e.glyphs))):U.assert(!1,"Can't create coverage table format 2 yet.")}function Y(e){K.call(this,"scriptListTable",H("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return U.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new K("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new K("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(q("featureIndex",r.featureIndexes)))}].concat(H("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new K("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(q("featureIndex",n.featureIndexes)))}]}))))}]})))}function X(e){K.call(this,"featureListTable",H("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new K("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(q("lookupListIndex",n.lookupListIndexes)))}]})))}function Z(e,t){K.call(this,"lookupListTable",V("lookup",e,(function(e){var n=t[e.lookupType];return U.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new K("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(V("subtable",e.subtables,n)))})))}R.CHARSTRING=function(e){if(G){var t=G.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,a=0;a<r;a+=1){var i=e[a];n=n.concat(R[i.type](i.value))}return G&&G.set(e,n),n},L.CHARSTRING=function(e){return R.CHARSTRING(e).length},R.OBJECT=function(e){var t=R[e.type];return U.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},L.OBJECT=function(e){var t=L[e.type];return U.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},R.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],a=[],i=0;i<n;i+=1){var o=e.fields[i],s=R[o.type];U.argument(void 0!==s,"No encoding function for field type "+o.type+" ("+o.name+")");var c=e[o.name];void 0===c&&(c=o.value);var u=s(c);"TABLE"===o.type?(a.push(t.length),t=t.concat([0,0]),r.push(u)):t=t.concat(u)}for(var p=0;p<r.length;p+=1){var l=a[p],h=t.length;U.argument(h<65536,"Table "+e.tableName+" too big."),t[l]=h>>8,t[l+1]=255&h,t=t.concat(r[p])}return t},L.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var a=e.fields[r],i=L[a.type];U.argument(void 0!==i,"No sizeOf function for field type "+a.type+" ("+a.name+")");var o=e[a.name];void 0===o&&(o=a.value),t+=i(o),"TABLE"===a.type&&(t+=2)}return t},R.RECORD=R.TABLE,L.RECORD=L.TABLE,R.LITERAL=function(e){return e},L.LITERAL=function(e){return e.length},K.prototype.encode=function(){return R.TABLE(this)},K.prototype.sizeOf=function(){return L.TABLE(this)},z.prototype=Object.create(K.prototype),z.prototype.constructor=z,Y.prototype=Object.create(K.prototype),Y.prototype.constructor=Y,X.prototype=Object.create(K.prototype),X.prototype.constructor=X,Z.prototype=Object.create(K.prototype),Z.prototype.constructor=Z;var Q={Table:K,Record:K,Coverage:z,ScriptList:Y,FeatureList:X,LookupList:Z,ushortList:q,tableList:V,recordList:H};function J(e,t){return e.getUint8(t)}function $(e,t){return e.getUint16(t,!1)}function ee(e,t){return e.getUint32(t,!1)}function te(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ne={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function re(e,t){this.data=e,this.offset=t,this.relativeOffset=0}re.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},re.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},re.prototype.parseCard8=re.prototype.parseByte,re.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},re.prototype.parseCard16=re.prototype.parseUShort,re.prototype.parseSID=re.prototype.parseUShort,re.prototype.parseOffset16=re.prototype.parseUShort,re.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},re.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},re.prototype.parseULong=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},re.prototype.parseOffset32=re.prototype.parseULong,re.prototype.parseFixed=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},re.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var a=0;a<e;a++)r+=String.fromCharCode(t.getUint8(n+a));return r},re.prototype.parseTag=function(){return this.parseString(4)},re.prototype.parseLongDateTime=function(){var e=ee(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},re.prototype.parseVersion=function(e){var t=$(this.data,this.offset+this.relativeOffset),n=$(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},re.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=ne[e]*t},re.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},re.prototype.parseOffset16List=re.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},re.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},re.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint8(r++);return this.relativeOffset+=e,t},re.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},re.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},re.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),a=0;a<e;a++){for(var i={},o=0;o<r.length;o++){var s=r[o],c=t[s];i[s]=c.call(this)}n[a]=i}return n},re.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),a=0;a<e;a++){for(var i={},o=0;o<r.length;o++){var s=r[o],c=t[s];i[s]=c.call(this)}n[a]=i}return n},re.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r],i=e[a];n[a]=i.call(this)}return n},re.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},re.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},re.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new re(this.data,this.offset+t).parseStruct(e)},re.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new re(this.data,this.offset+t).parseStruct(e)},re.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,a=new Array(n),i=0;i<n;i++){var o=t[i];if(0!==o)if(this.relativeOffset=o,e){for(var s=this.parseOffset16List(),c=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=o+s[u],c[u]=e.call(this);a[i]=c}else a[i]=this.parseUShortList();else a[i]=void 0}return this.relativeOffset=r,a},re.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var r=new Array(n),a=0;a<n;a++)r[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},re.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:re.uShort,end:re.uShort,classId:re.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},re.list=function(e,t){return function(){return this.parseList(e,t)}},re.list32=function(e,t){return function(){return this.parseList32(e,t)}},re.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},re.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},re.pointer=function(e){return function(){return this.parsePointer(e)}},re.pointer32=function(e){return function(){return this.parsePointer32(e)}},re.tag=re.prototype.parseTag,re.byte=re.prototype.parseByte,re.uShort=re.offset16=re.prototype.parseUShort,re.uShortList=re.prototype.parseUShortList,re.uLong=re.offset32=re.prototype.parseULong,re.uLongList=re.prototype.parseULongList,re.struct=re.prototype.parseStruct,re.coverage=re.prototype.parseCoverage,re.classDef=re.prototype.parseClassDef;var ae={reserved:re.uShort,reqFeatureIndex:re.uShort,featureIndexes:re.uShortList};re.prototype.parseScriptList=function(){return this.parsePointer(re.recordList({tag:re.tag,script:re.pointer({defaultLangSys:re.pointer(ae),langSysRecords:re.recordList({tag:re.tag,langSys:re.pointer(ae)})})}))||[]},re.prototype.parseFeatureList=function(){return this.parsePointer(re.recordList({tag:re.tag,feature:re.pointer({featureParams:re.offset16,lookupListIndexes:re.uShortList})}))||[]},re.prototype.parseLookupList=function(e){return this.parsePointer(re.list(re.pointer((function(){var t=this.parseUShort();U.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(re.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},re.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return U.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:re.offset32,featureTableSubstitutionOffset:re.offset32})}))||[]};var ie={getByte:J,getCard8:J,getUShort:$,getCard16:$,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ee,getFixed:te,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,a=0;a<n;a+=1)r<<=8,r+=e.getUint8(t+a);return r},getBytes:function(e,t,n){for(var r=[],a=t;a<n;a+=1)r.push(e.getUint8(a));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:re};function oe(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var se={parse:function(e,t){var n={};n.version=ie.getUShort(e,t),U.argument(0===n.version,"cmap table version should be 0."),n.numTables=ie.getUShort(e,t+2);for(var r=-1,a=n.numTables-1;a>=0;a-=1){var i=ie.getUShort(e,t+4+8*a),o=ie.getUShort(e,t+4+8*a+2);if(3===i&&(0===o||1===o||10===o)||0===i&&(0===o||1===o||2===o||3===o||4===o)){r=ie.getULong(e,t+4+8*a+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new ie.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var a=t.parseULong(),i=t.parseULong(),o=t.parseULong(),s=a;s<=i;s+=1)e.glyphIndexMap[s]=o,o++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,r,a){var i;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=i=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new ie.Parser(n,r+a+14),s=new ie.Parser(n,r+a+16+2*i),c=new ie.Parser(n,r+a+16+4*i),u=new ie.Parser(n,r+a+16+6*i),p=r+a+16+8*i,l=0;l<i-1;l+=1)for(var h=void 0,d=o.parseUShort(),_=s.parseUShort(),f=c.parseShort(),g=u.parseUShort(),v=_;v<=d;v+=1)0!==g?(p=u.offset+u.relativeOffset-2,p+=g,p+=2*(v-_),0!==(h=ie.getUShort(n,p))&&(h=h+f&65535)):h=v+f&65535,e.glyphIndexMap[v]=h}(n,s,e,t,r)}return n},make:function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var a=new Q.Table("cmap",r);for(a.segments=[],t=0;t<e.length;t+=1){for(var i=e.get(t),o=0;o<i.unicodes.length;o+=1)oe(a,i.unicodes[o],t);a.segments=a.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(a);var s=a.segments.length,c=0,u=[],p=[],l=[],h=[],d=[],_=[];for(t=0;t<s;t+=1){var f=a.segments[t];f.end<=65535&&f.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:f.end}),p=p.concat({name:"start_"+t,type:"USHORT",value:f.start}),l=l.concat({name:"idDelta_"+t,type:"SHORT",value:f.delta}),h=h.concat({name:"idRangeOffset_"+t,type:"USHORT",value:f.offset}),void 0!==f.glyphId&&(d=d.concat({name:"glyph_"+t,type:"USHORT",value:f.glyphId}))):c+=1,n||void 0===f.glyphIndex||(_=(_=(_=_.concat({name:"cmap12Start_"+t,type:"ULONG",value:f.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:f.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:f.glyphIndex}))}if(a.segCountX2=2*(s-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(s-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(u),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(p),a.fields=a.fields.concat(l),a.fields=a.fields.concat(h),a.fields=a.fields.concat(d),a.cmap4Length=14+2*u.length+2+2*p.length+2*l.length+2*h.length+2*d.length,!n){var g=16+4*_.length;a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:g},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:_.length/3}]),a.fields=a.fields.concat(_)}return a}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ue=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],le=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){this.font=e}function de(e){this.cmap=e}function _e(e,t){this.encoding=e,this.charset=t}function fe(e){switch(e.version){case 1:this.names=le.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<le.length?this.names[t]=le[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-le.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=le[n+e.glyphNameIndex[n]];break;case 3:default:this.names=[]}}he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var a=n.get(r),i=0;i<a.unicodes.length;i+=1)if(a.unicodes[i]===t)return r;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},_e.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},fe.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},fe.prototype.glyphIndexToName=function(e){return this.names[e]};var ge={line:function(e,t,n,r,a){e.beginPath(),e.moveTo(t,n),e.lineTo(r,a),e.stroke()}};function ve(e){this.bindConstructorValues(e)}function me(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function be(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++)this.glyphs[n]=t[n];this.length=t&&t.length||0}ve.prototype.bindConstructorValues=function(e){var t,n;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,n=t||new P,{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(e){n=e}}))},ve.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ve.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ve.prototype.getPath=function(e,t,n,r,a){var i,o;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,c=r.yScale;if(r.hinting&&a&&a.hinting&&(o=this.path&&a.hinting.exec(this,n)),o)i=a.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=c=1;else{i=this.path.commands;var u=1/this.path.unitsPerEm*n;void 0===s&&(s=u),void 0===c&&(c=u)}for(var p=new P,l=0;l<i.length;l+=1){var h=i[l];"M"===h.type?p.moveTo(e+h.x*s,t+-h.y*c):"L"===h.type?p.lineTo(e+h.x*s,t+-h.y*c):"Q"===h.type?p.quadraticCurveTo(e+h.x1*s,t+-h.y1*c,e+h.x*s,t+-h.y*c):"C"===h.type?p.curveTo(e+h.x1*s,t+-h.y1*c,e+h.x2*s,t+-h.y2*c,e+h.x*s,t+-h.y*c):"Z"===h.type&&p.closePath()}return p},ve.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return U.argument(0===t.length,"There are still points left in the current contour."),e},ve.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var a=e[r];"Z"!==a.type&&(t.push(a.x),n.push(a.y)),"Q"!==a.type&&"C"!==a.type||(t.push(a.x1),n.push(a.y1)),"C"===a.type&&(t.push(a.x2),n.push(a.y2))}var i={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i},ve.prototype.draw=function(e,t,n,r,a){this.getPath(t,n,r,a).draw(e)},ve.prototype.drawPoints=function(e,t,n,r){function a(t,n,r,a){var i=2*Math.PI;e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(n+t[o].x*a,r+t[o].y*a),e.arc(n+t[o].x*a,r+t[o].y*a,2,0,i,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var i=1/this.path.unitsPerEm*r,o=[],s=[],c=this.path,u=0;u<c.commands.length;u+=1){var p=c.commands[u];void 0!==p.x&&o.push({x:p.x,y:-p.y}),void 0!==p.x1&&s.push({x:p.x1,y:-p.y1}),void 0!==p.x2&&s.push({x:p.x2,y:-p.y2})}e.fillStyle="blue",a(o,t,n,i),e.fillStyle="red",a(s,t,n,i)},ve.prototype.drawMetrics=function(e,t,n,r){var a;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,a=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",ge.line(e,t,-1e4,t,1e4),ge.line(e,-1e4,n,1e4,n);var i=this.xMin||0,o=this.yMin||0,s=this.xMax||0,c=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",ge.line(e,t+i*a,-1e4,t+i*a,1e4),ge.line(e,t+s*a,-1e4,t+s*a,1e4),ge.line(e,-1e4,n+-o*a,1e4,n+-o*a),ge.line(e,-1e4,n+-c*a,1e4,n+-c*a),e.strokeStyle="green",ge.line(e,t+u*a,-1e4,t+u*a,1e4)},be.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},be.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var ye={GlyphSet:be,glyphLoader:function(e,t){return new ve({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,a,i){return function(){var o=new ve({index:t,font:e});return o.path=function(){n(o,r,a);var t=i(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},me(o,"xMin","_xMin"),me(o,"xMax","_xMax"),me(o,"yMin","_yMin"),me(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,n,r){return function(){var a=new ve({index:t,font:e});return a.path=function(){var t=n(e,a,r);return t.unitsPerEm=e.unitsPerEm,t},a}}};function Ee(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!Ee(e[n],t[n]))return!1;return!0}return!1}function xe(e){return e.length<1240?107:e.length<33900?1131:32768}function De(e,t,n){var r,a,i=[],o=[],s=ie.getCard16(e,t);if(0!==s){var c=ie.getByte(e,t+2);r=t+(s+1)*c+2;for(var u=t+3,p=0;p<s+1;p+=1)i.push(ie.getOffset(e,u,c)),u+=c;a=r+i[s]}else a=t+2;for(var l=0;l<i.length-1;l+=1){var h=ie.getBytes(e,r+i[l],r+i[l+1]);n&&(h=n(h)),o.push(h)}return{objects:o,startOffset:t,endOffset:a}}function Oe(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),a=r>>4,i=15&r;if(15===a)break;if(t+=n[a],15===i)break;t+=n[i]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Me(e,t,n){t=void 0!==t?t:0;var r=new ie.Parser(e,t),a=[],i=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(12===o&&(o=1200+r.parseByte()),a.push([o,i]),i=[]):i.push(Oe(r,o))}return function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],a=e[n][1],i=void 0;if(i=1===a.length?a[0]:a,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=i}return t}(a)}function Se(e,t){return t=t<=390?ce[t]:e[t-391]}function Pe(e,t,n){for(var r,a={},i=0;i<t.length;i+=1){var o=t[i];if(Array.isArray(o.type)){var s=[];s.length=o.type.length;for(var c=0;c<o.type.length;c++)void 0===(r=void 0!==e[o.op]?e[o.op][c]:void 0)&&(r=void 0!==o.value&&void 0!==o.value[c]?o.value[c]:null),"SID"===o.type[c]&&(r=Se(n,r)),s[c]=r;a[o.name]=s}else void 0===(r=e[o.op])&&(r=void 0!==o.value?o.value:null),"SID"===o.type&&(r=Se(n,r)),a[o.name]=r}return a}var we=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Te=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ue(e,t){return Pe(Me(e,0,e.byteLength),we,t)}function Ce(e,t,n,r){return Pe(Me(e,t,n),Te,r)}function Re(e,t,n,r){for(var a=[],i=0;i<n.length;i+=1){var o=Ue(new DataView(new Uint8Array(n[i]).buffer),r);o._subrs=[],o._subrsBias=0;var s=o.private[0],c=o.private[1];if(0!==s&&0!==c){var u=Ce(e,c+t,s,r);if(o._defaultWidthX=u.defaultWidthX,o._nominalWidthX=u.nominalWidthX,0!==u.subrs){var p=De(e,c+u.subrs+t);o._subrs=p.objects,o._subrsBias=xe(o._subrs)}o._privateDict=u}a.push(o)}return a}function Le(e,t,n){var r,a,i,o,s,c,u,p,l=new P,h=[],d=0,_=!1,f=!1,g=0,v=0;if(e.isCIDFont){var m=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[m];s=b._subrs,c=b._subrsBias,u=b._defaultWidthX,p=b._nominalWidthX}else s=e.tables.cff.topDict._subrs,c=e.tables.cff.topDict._subrsBias,u=e.tables.cff.topDict._defaultWidthX,p=e.tables.cff.topDict._nominalWidthX;var y=u;function E(e,t){f&&l.closePath(),l.moveTo(e,t),f=!0}function x(){h.length%2!=0&&!_&&(y=h.shift()+p),d+=h.length>>1,h.length=0,_=!0}return function n(u){for(var m,b,D,O,M,S,P,w,T,U,C,R,L=0;L<u.length;){var I=u[L];switch(L+=1,I){case 1:case 3:x();break;case 4:h.length>1&&!_&&(y=h.shift()+p,_=!0),v+=h.pop(),E(g,v);break;case 5:for(;h.length>0;)g+=h.shift(),v+=h.shift(),l.lineTo(g,v);break;case 6:for(;h.length>0&&(g+=h.shift(),l.lineTo(g,v),0!==h.length);)v+=h.shift(),l.lineTo(g,v);break;case 7:for(;h.length>0&&(v+=h.shift(),l.lineTo(g,v),0!==h.length);)g+=h.shift(),l.lineTo(g,v);break;case 8:for(;h.length>0;)r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o+h.shift(),l.curveTo(r,a,i,o,g,v);break;case 10:M=h.pop()+c,(S=s[M])&&n(S);break;case 11:return;case 12:switch(I=u[L],L+=1,I){case 35:r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),P=i+h.shift(),w=o+h.shift(),T=P+h.shift(),U=w+h.shift(),C=T+h.shift(),R=U+h.shift(),g=C+h.shift(),v=R+h.shift(),h.shift(),l.curveTo(r,a,i,o,P,w),l.curveTo(T,U,C,R,g,v);break;case 34:r=g+h.shift(),a=v,i=r+h.shift(),o=a+h.shift(),P=i+h.shift(),w=o,T=P+h.shift(),U=o,C=T+h.shift(),R=v,g=C+h.shift(),l.curveTo(r,a,i,o,P,w),l.curveTo(T,U,C,R,g,v);break;case 36:r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),P=i+h.shift(),w=o,T=P+h.shift(),U=o,C=T+h.shift(),R=U+h.shift(),g=C+h.shift(),l.curveTo(r,a,i,o,P,w),l.curveTo(T,U,C,R,g,v);break;case 37:r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),P=i+h.shift(),w=o+h.shift(),T=P+h.shift(),U=w+h.shift(),C=T+h.shift(),R=U+h.shift(),Math.abs(C-g)>Math.abs(R-v)?g=C+h.shift():v=R+h.shift(),l.curveTo(r,a,i,o,P,w),l.curveTo(T,U,C,R,g,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+I),h.length=0}break;case 14:h.length>0&&!_&&(y=h.shift()+p,_=!0),f&&(l.closePath(),f=!1);break;case 18:x();break;case 19:case 20:x(),L+=d+7>>3;break;case 21:h.length>2&&!_&&(y=h.shift()+p,_=!0),v+=h.pop(),E(g+=h.pop(),v);break;case 22:h.length>1&&!_&&(y=h.shift()+p,_=!0),E(g+=h.pop(),v);break;case 23:x();break;case 24:for(;h.length>2;)r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o+h.shift(),l.curveTo(r,a,i,o,g,v);g+=h.shift(),v+=h.shift(),l.lineTo(g,v);break;case 25:for(;h.length>6;)g+=h.shift(),v+=h.shift(),l.lineTo(g,v);r=g+h.shift(),a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o+h.shift(),l.curveTo(r,a,i,o,g,v);break;case 26:for(h.length%2&&(g+=h.shift());h.length>0;)r=g,a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i,v=o+h.shift(),l.curveTo(r,a,i,o,g,v);break;case 27:for(h.length%2&&(v+=h.shift());h.length>0;)r=g+h.shift(),a=v,i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o,l.curveTo(r,a,i,o,g,v);break;case 28:m=u[L],b=u[L+1],h.push((m<<24|b<<16)>>16),L+=2;break;case 29:M=h.pop()+e.gsubrsBias,(S=e.gsubrs[M])&&n(S);break;case 30:for(;h.length>0&&(r=g,a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o+(1===h.length?h.shift():0),l.curveTo(r,a,i,o,g,v),0!==h.length);)r=g+h.shift(),a=v,i=r+h.shift(),o=a+h.shift(),v=o+h.shift(),g=i+(1===h.length?h.shift():0),l.curveTo(r,a,i,o,g,v);break;case 31:for(;h.length>0&&(r=g+h.shift(),a=v,i=r+h.shift(),o=a+h.shift(),v=o+h.shift(),g=i+(1===h.length?h.shift():0),l.curveTo(r,a,i,o,g,v),0!==h.length);)r=g,a=v+h.shift(),i=r+h.shift(),o=a+h.shift(),g=i+h.shift(),v=o+(1===h.length?h.shift():0),l.curveTo(r,a,i,o,g,v);break;default:I<32?console.log("Glyph "+t.index+": unknown operator "+I):I<247?h.push(I-139):I<251?(m=u[L],L+=1,h.push(256*(I-247)+m+108)):I<255?(m=u[L],L+=1,h.push(256*-(I-251)-m-108)):(m=u[L],b=u[L+1],D=u[L+2],O=u[L+3],L+=4,h.push((m<<24|b<<16|D<<8|O)/65536))}}}(n),t.advanceWidth=y,l}function Ie(e,t){var n,r=ce.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+ce.length:(n=ce.length+t.length,t.push(e)),n}function ke(e,t,n){for(var r={},a=0;a<e.length;a+=1){var i=e[a],o=t[i.name];void 0===o||Ee(o,i.value)||("SID"===i.type&&(o=Ie(o,n)),r[i.op]={name:i.name,type:i.type,value:o})}return r}function Be(e,t){var n=new Q.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=ke(we,e,t),n}function Ae(e){var t=new Q.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function We(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,a=0,i=0;i<n.commands.length;i+=1){var o=void 0,s=void 0,c=n.commands[i];if("Q"===c.type&&(c={type:"C",x:c.x,y:c.y,x1:1/3*r+2/3*c.x1,y1:1/3*a+2/3*c.y1,x2:1/3*c.x+2/3*c.x1,y2:1/3*c.y+2/3*c.y1}),"M"===c.type)o=Math.round(c.x-r),s=Math.round(c.y-a),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(c.x),a=Math.round(c.y);else if("L"===c.type)o=Math.round(c.x-r),s=Math.round(c.y-a),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(c.x),a=Math.round(c.y);else if("C"===c.type){var u=Math.round(c.x1-r),p=Math.round(c.y1-a),l=Math.round(c.x2-c.x1),h=Math.round(c.y2-c.y1);o=Math.round(c.x-c.x2),s=Math.round(c.y-c.y2),t.push({name:"dx1",type:"NUMBER",value:u}),t.push({name:"dy1",type:"NUMBER",value:p}),t.push({name:"dx2",type:"NUMBER",value:l}),t.push({name:"dy2",type:"NUMBER",value:h}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(c.x),a=Math.round(c.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Fe={parse:function(e,t,n){n.tables.cff={};var r=De(e,function(e,t){var n={};return n.formatMajor=ie.getCard8(e,t),n.formatMinor=ie.getCard8(e,t+1),n.size=ie.getCard8(e,t+2),n.offsetSize=ie.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t).endOffset,ie.bytesToString),a=De(e,r.endOffset),i=De(e,a.endOffset,ie.bytesToString),o=De(e,i.endOffset);n.gsubrs=o.objects,n.gsubrsBias=xe(n.gsubrs);var s=Re(e,t,a.objects,i.objects);if(1!==s.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+s.length);var c=s[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var u=c.fdArray,p=c.fdSelect;if(0===u||0===p)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var l=Re(e,t,De(e,u+=t).objects,i.objects);c._fdArray=l,p+=t,c._fdSelect=function(e,t,n,r){var a,i=[],o=new ie.Parser(e,t),s=o.parseCard8();if(0===s)for(var c=0;c<n;c++){if((a=o.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+a+" (FD count "+r+")");i.push(a)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var u,p=o.parseCard16(),l=o.parseCard16();if(0!==l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+l);for(var h=0;h<p;h++){if(a=o.parseCard8(),u=o.parseCard16(),a>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+a+" (FD count "+r+")");if(u>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;l<u;l++)i.push(a);l=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return i}(e,p,n.numGlyphs,l.length)}var h=t+c.private[1],d=Ce(e,h,c.private[0],i.objects);if(n.defaultWidthX=d.defaultWidthX,n.nominalWidthX=d.nominalWidthX,0!==d.subrs){var _=De(e,h+d.subrs);n.subrs=_.objects,n.subrsBias=xe(n.subrs)}else n.subrs=[],n.subrsBias=0;var f=De(e,t+c.charStrings);n.nGlyphs=f.objects.length;var g=function(e,t,n,r){var a,i,o=new ie.Parser(e,t);n-=1;var s=[".notdef"],c=o.parseCard8();if(0===c)for(var u=0;u<n;u+=1)a=o.parseSID(),s.push(Se(r,a));else if(1===c)for(;s.length<=n;){a=o.parseSID(),i=o.parseCard8();for(var p=0;p<=i;p+=1)s.push(Se(r,a)),a+=1}else{if(2!==c)throw new Error("Unknown charset format "+c);for(;s.length<=n;){a=o.parseSID(),i=o.parseCard16();for(var l=0;l<=i;l+=1)s.push(Se(r,a)),a+=1}}return s}(e,t+c.charset,n.nGlyphs,i.objects);0===c.encoding?n.cffEncoding=new _e(ue,g):1===c.encoding?n.cffEncoding=new _e(pe,g):n.cffEncoding=function(e,t,n){var r,a={},i=new ie.Parser(e,t),o=i.parseCard8();if(0===o)for(var s=i.parseCard8(),c=0;c<s;c+=1)a[r=i.parseCard8()]=c;else{if(1!==o)throw new Error("Unknown encoding format "+o);var u=i.parseCard8();r=1;for(var p=0;p<u;p+=1)for(var l=i.parseCard8(),h=i.parseCard8(),d=l;d<=l+h;d+=1)a[d]=r,r+=1}return new _e(a,n)}(e,t+c.encoding,g),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new ye.GlyphSet(n);for(var v=0;v<n.nGlyphs;v+=1){var m=f.objects[v];n.glyphs.push(v,ye.cffGlyphLoader(n,v,Le,m))}},make:function(e,t){for(var n,r=new Q.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),a=1/t.unitsPerEm,i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[a,0,0,a,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],s=1;s<e.length;s+=1)n=e.get(s),o.push(n.name);var c=[];r.header=new Q.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new Q.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var u=Be(i,c);r.topDictIndex=Ae(u),r.globalSubrIndex=new Q.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new Q.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var a=Ie(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:a})}return n}(o,c),r.charStringsIndex=function(e){for(var t=new Q.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),a=We(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:a})}return t}(e),r.privateDict=function(e,t){var n=new Q.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=ke(Te,e,t),n}({},c),r.stringIndex=function(e){var t=new Q.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(c);var p=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return i.charset=p,i.encoding=0,i.charStrings=i.charset+r.charsets.sizeOf(),i.private[1]=i.charStrings+r.charStringsIndex.sizeOf(),u=Be(i,c),r.topDictIndex=Ae(u),r}},je={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),U.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new Q.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}},Ne={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new Q.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}},Ge={parse:function(e,t,n,r,a){for(var i,o,s=new ie.Parser(e,t),c=0;c<r;c+=1){c<n&&(i=s.parseUShort(),o=s.parseShort());var u=a.get(c);u.advanceWidth=i,u.leftSideBearing=o}},make:function(e){for(var t=new Q.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),a=r.advanceWidth||0,i=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:a}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:i})}return t}},Ke={make:function(e){for(var t=new Q.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,a=0;a<e.length;++a){var i=n.indexOf(e[a]);i<0&&(i=n.length,n+=e[a]),t.fields.push({name:"offset "+a,type:"USHORT",value:r+i}),t.fields.push({name:"length "+a,type:"USHORT",value:e[a].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseULong();U.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var a=n.parseULong(),i=[],o=0;o<a;o++){for(var s="",c=t+n.parseUShort(),u=n.parseUShort(),p=c;p<c+u;++p)s+=String.fromCharCode(e.getInt8(p));i.push(s)}return i}},qe={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new Q.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Ve=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],He={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ze={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ye={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Xe(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return He[t];case 3:return Ye[t]}}var Ze={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Qe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Je(e,t,n){switch(e){case 0:return"utf-16";case 1:return Qe[n]||Ze[t];case 3:if(1===t||10===t)return"utf-16"}}function $e(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function et(e,t,n,r,a,i){return new Q.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:i}])}function tt(e,t){var n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var a=0;a<r;a++)for(;a<r;a++){for(var i=0;i<n;i++)if(t[a+i]!==e[i])continue e;return a}return-1}(e,t);if(n<0){n=t.length;for(var r=0,a=e.length;r<a;++r)t.push(e[r])}return n}var nt={parse:function(e,t,n){for(var r={},a=new ie.Parser(e,t),i=a.parseUShort(),o=a.parseUShort(),s=a.offset+a.parseUShort(),c=0;c<o;c++){var u=a.parseUShort(),p=a.parseUShort(),l=a.parseUShort(),h=a.parseUShort(),d=Ve[h]||h,_=a.parseUShort(),f=a.parseUShort(),g=Xe(u,l,n),v=Je(u,p,l);if(void 0!==v&&void 0!==g){var m=void 0;if(m="utf-16"===v?C.UTF16(e,s+f,_):C.MACSTRING(e,s+f,_,v)){var b=r[d];void 0===b&&(b=r[d]={}),b[g]=m}}}return 1===i&&a.parseUShort(),r},make:function(e,t){var n,r=[],a={},i=$e(Ve);for(var o in e){var s=i[o];if(void 0===s&&(s=o),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');a[n]=e[o],r.push(n)}for(var c=$e(He),u=$e(Ye),p=[],l=[],h=0;h<r.length;h++){var d=a[n=r[h]];for(var _ in d){var f=d[_],g=1,v=c[_],m=ze[v],b=Je(g,m,v),y=R.MACSTRING(f,b);void 0===y&&(g=0,(v=t.indexOf(_))<0&&(v=t.length,t.push(_)),m=4,y=R.UTF16(f));var E=tt(y,l);p.push(et(g,m,v,n,y.length,E));var x=u[_];if(void 0!==x){var D=R.UTF16(f),O=tt(D,l);p.push(et(3,1,x,n,D.length,O))}}}p.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var M=new Q.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:p.length},{name:"stringOffset",type:"USHORT",value:6+12*p.length}]),S=0;S<p.length;S++)M.fields.push({name:"record_"+S,type:"RECORD",value:p[S]});return M.fields.push({name:"strings",type:"LITERAL",value:l}),M}},rt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],at={parse:function(e,t){var n={},r=new ie.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var a=0;a<10;a++)n.panose[a]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new Q.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:rt,getUnicodeRange:function(e){for(var t=0;t<rt.length;t+=1){var n=rt[t];if(e>=n.begin&&e<n.end)return t}return-1}},it={parse:function(e,t){var n={},r=new ie.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=le.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.glyphNameIndex[a]=r.parseUShort();n.names=[];for(var i=0;i<n.numberOfGlyphs;i++)if(n.glyphNameIndex[i]>=le.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new Q.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},ot=new Array(9);ot[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(re.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(re.coverage),substitute:this.parseOffset16List()}:void U.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},ot[2]=function(){var e=this.parseUShort();return U.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(re.coverage),sequences:this.parseListOfLists()}},ot[3]=function(){var e=this.parseUShort();return U.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(re.coverage),alternateSets:this.parseListOfLists()}},ot[4]=function(){var e=this.parseUShort();return U.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(re.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var st={sequenceIndex:re.uShort,lookupListIndex:re.uShort};ot[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(re.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,st)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(re.coverage),classDef:this.parsePointer(re.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,st)}}))};if(3===t){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,re.pointer(re.coverage)),lookupRecords:this.parseRecordList(r,st)}}U.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ot[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(re.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(re.coverage),backtrackClassDef:this.parsePointer(re.classDef),inputClassDef:this.parsePointer(re.classDef),lookaheadClassDef:this.parsePointer(re.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(re.pointer(re.coverage)),inputCoverage:this.parseList(re.pointer(re.coverage)),lookaheadCoverage:this.parseList(re.pointer(re.coverage)),lookupRecords:this.parseRecordList(st)}:void U.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ot[7]=function(){var e=this.parseUShort();U.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new re(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:ot[t].call(n)}},ot[8]=function(){var e=this.parseUShort();return U.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(re.coverage),backtrackCoverage:this.parseList(re.pointer(re.coverage)),lookaheadCoverage:this.parseList(re.pointer(re.coverage)),substitutes:this.parseUShortList()}};var ct=new Array(9);ct[1]=function(e){return 1===e.substFormat?new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.ushortList("substitute",e.substitute)))},ct[3]=function(e){return U.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.tableList("altSet",e.alternateSets,(function(e){return new Q.Table("alternateSetTable",Q.ushortList("alternate",e))}))))},ct[4]=function(e){return U.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.tableList("ligSet",e.ligatureSets,(function(e){return new Q.Table("ligatureSetTable",Q.tableList("ligature",e,(function(e){return new Q.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Q.ushortList("component",e.components,e.components.length+1)))})))}))))};var ut={parse:function(e,t){var n=new re(e,t=t||0),r=n.parseVersion(1);return U.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ot)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ot),variations:n.parseFeatureVariationsList()}},make:function(e){return new Q.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Q.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Q.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Q.LookupList(e.lookups,ct)}])}},pt={parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseULong();U.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var a=n.parseULong(),i={},o=0;o<a;o++){var s=n.parseTag(),c=n.parseULong(),u=n.parseULong(),p=C.UTF8(e,t+c,u);i[s]=p}return i},make:function(e){var t=Object.keys(e).length,n="",r=16+12*t,a=new Q.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var i in e){var o=n.length;n+=e[i],a.fields.push({name:"tag "+i,type:"TAG",value:i}),a.fields.push({name:"offset "+i,type:"ULONG",value:r+o}),a.fields.push({name:"length "+i,type:"ULONG",value:e[i].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),a}};function lt(e){return Math.log(e)/Math.log(2)|0}function ht(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function dt(e,t,n,r){return new Q.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function _t(e){var t=new Q.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,lt(t.numTables));t.searchRange=16*n,t.entrySelector=lt(n),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],a=[],i=t.sizeOf()+dt().sizeOf()*t.numTables;i%4!=0;)i+=1,a.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var s=e[o];U.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var c=s.sizeOf(),u=dt(s.tableName,ht(s.encode()),i,c);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),a.push({name:s.tableName+" table",type:"RECORD",value:s}),i+=c,U.argument(!isNaN(i),"Something went wrong calculating the offset.");i%4!=0;)i+=1,a.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(a),t}function ft(e,t,n){for(var r=0;r<t.length;r+=1){var a=e.charToGlyphIndex(t[r]);if(a>0)return e.glyphs.get(a).getMetrics()}return n}function gt(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var vt={make:_t,fontToTable:function(e){for(var t,n=[],r=[],a=[],i=[],o=[],s=[],c=[],u=0,p=0,l=0,h=0,d=0,_=0;_<e.glyphs.length;_+=1){var f=e.glyphs.get(_),g=0|f.unicode;if(isNaN(f.advanceWidth))throw new Error("Glyph "+f.name+" ("+_+"): advanceWidth is not a number.");(t>g||void 0===t)&&g>0&&(t=g),u<g&&(u=g);var v=at.getUnicodeRange(g);if(v<32)p|=1<<v;else if(v<64)l|=1<<v-32;else if(v<96)h|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");d|=1<<v-96}if(".notdef"!==f.name){var m=f.getMetrics();n.push(m.xMin),r.push(m.yMin),a.push(m.xMax),i.push(m.yMax),s.push(m.leftSideBearing),c.push(m.rightSideBearing),o.push(f.advanceWidth)}}var b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:gt(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,c)};b.ascender=e.ascender,b.descender=e.descender;var y=je.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),E=Ne.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),x=qe.make(e.glyphs.length),D=at.make({xAvgCharWidth:Math.round(b.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:p,ulUnicodeRange2:l,ulUnicodeRange3:h,ulUnicodeRange4:d,fsSelection:e.tables.os2.fsSelection,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:ft(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:ft(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),O=Ge.make(e.glyphs),M=se.make(e.glyphs),S=e.getEnglishName("fontFamily"),P=e.getEnglishName("fontSubfamily"),w=S+" "+P,T=e.getEnglishName("postScriptName");T||(T=S.replace(/\s/g,"")+"-"+P);var U={};for(var C in e.names)U[C]=e.names[C];U.uniqueID||(U.uniqueID={en:e.getEnglishName("manufacturer")+":"+w}),U.postScriptName||(U.postScriptName={en:T}),U.preferredFamily||(U.preferredFamily=e.names.fontFamily),U.preferredSubfamily||(U.preferredSubfamily=e.names.fontSubfamily);var R=[],L=nt.make(U,R),I=R.length>0?Ke.make(R):void 0,k=it.make(),B=Fe.make(e.glyphs,{version:e.getEnglishName("version"),fullName:w,familyName:S,weightName:P,postScriptName:T,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),A=e.metas&&Object.keys(e.metas).length>0?pt.make(e.metas):void 0,W=[y,E,x,D,L,M,k,B,O];I&&W.push(I),e.tables.gsub&&W.push(ut.make(e.tables.gsub)),A&&W.push(A);for(var F=_t(W),j=ht(F.encode()),N=F.fields,G=!1,K=0;K<N.length;K+=1)if("head table"===N[K].name){N[K].value.checkSumAdjustment=2981146554-j,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return F},computeCheckSum:ht};function mt(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+r>>>1,i=e[a].tag;if(i===t)return a;i<t?n=a+1:r=a-1}return-n-1}function bt(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+r>>>1,i=e[a];if(i===t)return a;i<t?n=a+1:r=a-1}return-n-1}function yt(e,t){for(var n,r=0,a=e.length-1;r<=a;){var i=r+a>>>1,o=(n=e[i]).start;if(o===t)return n;o<t?r=i+1:a=i-1}if(r>0)return t>(n=e[r-1]).end?0:n}function Et(e,t){this.font=e,this.tableName=t}function xt(e){Et.call(this,e,"gpos")}function Dt(e){Et.call(this,e,"gsub")}function Ot(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Mt(e,t,n){for(var r=e.subtables,a=0;a<r.length;a++){var i=r[a];if(i.substFormat===t)return i}if(n)return r.push(n),n}function St(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function Pt(e,t){if(!e)throw t}function wt(e,t,n,r,a){var i;return(t&r)>0?(i=e.parseByte(),0==(t&a)&&(i=-i),i=n+i):i=(t&a)>0?n:n+e.parseShort(),i}function Tt(e,t,n){var r,a,i=new ie.Parser(t,n);if(e.numberOfContours=i.parseShort(),e._xMin=i.parseShort(),e._yMin=i.parseShort(),e._xMax=i.parseShort(),e._yMax=i.parseShort(),e.numberOfContours>0){for(var o=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)o.push(i.parseUShort());e.instructionLength=i.parseUShort(),e.instructions=[];for(var c=0;c<e.instructionLength;c+=1)e.instructions.push(i.parseByte());var u=o[o.length-1]+1;r=[];for(var p=0;p<u;p+=1)if(a=i.parseByte(),r.push(a),(8&a)>0)for(var l=i.parseByte(),h=0;h<l;h+=1)r.push(a),p+=1;if(U.argument(r.length===u,"Bad flags."),o.length>0){var d,_=[];if(u>0){for(var f=0;f<u;f+=1)a=r[f],(d={}).onCurve=!!(1&a),d.lastPointOfContour=o.indexOf(f)>=0,_.push(d);for(var g=0,v=0;v<u;v+=1)a=r[v],(d=_[v]).x=wt(i,a,g,2,16),g=d.x;for(var m=0,b=0;b<u;b+=1)a=r[b],(d=_[b]).y=wt(i,a,m,4,32),m=d.y}e.points=_}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var y=!0;y;){r=i.parseUShort();var E={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(E.dx=i.parseShort(),E.dy=i.parseShort()):E.matchedPoints=[i.parseUShort(),i.parseUShort()]:(2&r)>0?(E.dx=i.parseChar(),E.dy=i.parseChar()):E.matchedPoints=[i.parseByte(),i.parseByte()],(8&r)>0?E.xScale=E.yScale=i.parseF2Dot14():(64&r)>0?(E.xScale=i.parseF2Dot14(),E.yScale=i.parseF2Dot14()):(128&r)>0&&(E.xScale=i.parseF2Dot14(),E.scale01=i.parseF2Dot14(),E.scale10=i.parseF2Dot14(),E.yScale=i.parseF2Dot14()),e.components.push(E),y=!!(32&r)}if(256&r){e.instructionLength=i.parseUShort(),e.instructions=[];for(var x=0;x<e.instructionLength;x+=1)e.instructions.push(i.parseByte())}}}function Ut(e,t){for(var n=[],r=0;r<e.length;r+=1){var a=e[r],i={x:t.xScale*a.x+t.scale01*a.y+t.dx,y:t.scale10*a.x+t.yScale*a.y+t.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};n.push(i)}return n}function Ct(e){var t=new P;if(!e)return t;for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var a=e[r];n.push(a),a.lastPointOfContour&&(t.push(n),n=[])}return U.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var a=n[r],i=null,o=a[a.length-1],s=a[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var c={x:.5*(o.x+s.x),y:.5*(o.y+s.y)};t.moveTo(c.x,c.y)}for(var u=0;u<a.length;++u)if(i=o,o=s,s=a[(u+1)%a.length],o.onCurve)t.lineTo(o.x,o.y);else{var p=s;i.onCurve||(o.x,i.x,o.y,i.y),s.onCurve||(p={x:.5*(o.x+s.x),y:.5*(o.y+s.y)}),t.quadraticCurveTo(o.x,o.y,p.x,p.y)}t.closePath()}return t}function Rt(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],a=e.get(r.glyphIndex);if(a.getPath(),a.points){var i=void 0;if(void 0===r.matchedPoints)i=Ut(a.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>a.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[r.matchedPoints[0]],s=a.points[r.matchedPoints[1]],c={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=Ut([s],c)[0],c.dx=o.x-s.x,c.dy=o.y-s.y,i=Ut(a.points,c)}t.points=t.points.concat(i)}}return Ct(t.points)}Et.prototype={searchTag:mt,binSearch:bt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,a=mt(n.scripts,e);if(a>=0)return r[a].script;if(t){var i={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-a,0,i),i.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var a=mt(r.langSysRecords,t);if(a>=0)return r.langSysRecords[a].langSys;if(n){var i={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-a,0,i),i.langSys}}},getFeatureTable:function(e,t,n,r){var a=this.getLangSysTable(e,t,r);if(a){for(var i,o=a.featureIndexes,s=this.font.tables[this.tableName].features,c=0;c<o.length;c++)if((i=s[o[c]]).tag===n)return i.feature;if(r){var u=s.length;return U.assert(0===u||n>=s[u-1].tag,"Features must be added in alphabetical order."),i={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(i),o.push(u),i.feature}}},getLookupTables:function(e,t,n,r,a){var i=this.getFeatureTable(e,t,n,a),o=[];if(i){for(var s,c=i.lookupListIndexes,u=this.font.tables[this.tableName].lookups,p=0;p<c.length;p++)(s=u[c[p]]).lookupType===r&&o.push(s);if(0===o.length&&a){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var l=u.length;return u.push(s),c.push(l),[s]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=yt(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=bt(e.glyphs,t);return n>=0?n:-1;case 2:var r=yt(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var a=n[r],i=a.start,o=a.end,s=i;s<=o;s++)t.push(s);return t}},xt.prototype=Et.prototype,xt.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},xt.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var a=e[r].subtables,i=0;i<a.length;i++){var o=a[i],s=this.getCoverageIndex(o.coverage,t);if(!(s<0))switch(o.posFormat){case 1:for(var c=o.pairSets[s],u=0;u<c.length;u++){var p=c[u];if(p.secondGlyph===n)return p.value1&&p.value1.xAdvance||0}break;case 2:var l=this.getGlyphClass(o.classDef1,t),h=this.getGlyphClass(o.classDef2,n),d=o.classRecords[l][h];return d.value1&&d.value1.xAdvance||0}}return 0},xt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},Dt.prototype=Et.prototype,Dt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Dt.prototype.getSingle=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,1),i=0;i<a.length;i++)for(var o=a[i].subtables,s=0;s<o.length;s++){var c=o[s],u=this.expandCoverage(c.coverage),p=void 0;if(1===c.substFormat){var l=c.deltaGlyphId;for(p=0;p<u.length;p++){var h=u[p];r.push({sub:h,by:h+l})}}else{var d=c.substitute;for(p=0;p<u.length;p++)r.push({sub:u[p],by:d[p]})}}return r},Dt.prototype.getAlternates=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,3),i=0;i<a.length;i++)for(var o=a[i].subtables,s=0;s<o.length;s++)for(var c=o[s],u=this.expandCoverage(c.coverage),p=c.alternateSets,l=0;l<u.length;l++)r.push({sub:u[l],by:p[l]});return r},Dt.prototype.getLigatures=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,4),i=0;i<a.length;i++)for(var o=a[i].subtables,s=0;s<o.length;s++)for(var c=o[s],u=this.expandCoverage(c.coverage),p=c.ligatureSets,l=0;l<u.length;l++)for(var h=u[l],d=p[l],_=0;_<d.length;_++){var f=d[_];r.push({sub:[h].concat(f.components),by:f.ligGlyph})}return r},Dt.prototype.addSingle=function(e,t,n,r){var a=Mt(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});U.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var i=t.sub,o=this.binSearch(a.coverage.glyphs,i);o<0&&(o=-1-o,a.coverage.glyphs.splice(o,0,i),a.substitute.splice(o,0,0)),a.substitute[o]=t.by},Dt.prototype.addAlternate=function(e,t,n,r){var a=Mt(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});U.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var i=t.sub,o=this.binSearch(a.coverage.glyphs,i);o<0&&(o=-1-o,a.coverage.glyphs.splice(o,0,i),a.alternateSets.splice(o,0,0)),a.alternateSets[o]=t.by},Dt.prototype.addLigature=function(e,t,n,r){var a=this.getLookupTables(n,r,e,4,!0)[0],i=a.subtables[0];i||(i={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=i),U.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=t.sub[0],s=t.sub.slice(1),c={ligGlyph:t.by,components:s},u=this.binSearch(i.coverage.glyphs,o);if(u>=0){for(var p=i.ligatureSets[u],l=0;l<p.length;l++)if(Ot(p[l].components,s))return;p.push(c)}else u=-1-u,i.coverage.glyphs.splice(u,0,o),i.ligatureSets.splice(u,0,[c])},Dt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n)}},Dt.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r)}};var Lt,It,kt,Bt,At={getPath:Ct,parse:function(e,t,n,r){for(var a=new ye.GlyphSet(r),i=0;i<n.length-1;i+=1){var o=n[i];o!==n[i+1]?a.push(i,ye.ttfGlyphLoader(r,i,Tt,e,t+o,Rt)):a.push(i,ye.glyphLoader(r,i))}return a}};function Wt(e){this.font=e,this.getCommands=function(e){return At.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ft(e){return e}function jt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Nt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Gt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Kt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function qt(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Vt=function(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r},Ht={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var a,i,o,s,c,u,p;if(!r||r===this)return a=e.xo-t.xo,i=e.xo-n.xo,c=t.x-t.xo,u=n.x-n.xo,0===(p=(o=Math.abs(a))+(s=Math.abs(i)))?void(e.x=e.xo+(c+u)/2):void(e.x=e.xo+(c*s+u*o)/p);a=r.distance(e,t,!0,!0),i=r.distance(e,n,!0,!0),c=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(p=(o=Math.abs(a))+(s=Math.abs(i)))?Ht.setRelative(e,e,(c*s+u*o)/p,r,!0):Ht.setRelative(e,e,(c+u)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,a){if(r&&r!==this){var i=a?t.xo:t.x,o=a?t.yo:t.y,s=i+n*r.x,c=o+n*r.y;e.x=s+(e.y-c)/r.normalSlope}else e.x=(a?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},zt={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var a,i,o,s,c,u,p;if(!r||r===this)return a=e.yo-t.yo,i=e.yo-n.yo,c=t.y-t.yo,u=n.y-n.yo,0===(p=(o=Math.abs(a))+(s=Math.abs(i)))?void(e.y=e.yo+(c+u)/2):void(e.y=e.yo+(c*s+u*o)/p);a=r.distance(e,t,!0,!0),i=r.distance(e,n,!0,!0),c=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(p=(o=Math.abs(a))+(s=Math.abs(i)))?zt.setRelative(e,e,(c*s+u*o)/p,r,!0):zt.setRelative(e,e,(c+u)/2,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,a){if(r&&r!==this){var i=a?t.xo:t.x,o=a?t.yo:t.y,s=i+n*r.x,c=o+n*r.y;e.y=c+r.normalSlope*(e.x-s)}else e.y=(a?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Yt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Xt(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1==(e/=n)&&0===t?Ht:0===e&&1===t?zt:new Yt(e,t)}function Zt(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Ht),Object.freeze(zt),Yt.prototype.distance=function(e,t,n,r){return this.x*Ht.distance(e,t,n,r)+this.y*zt.distance(e,t,n,r)},Yt.prototype.interpolate=function(e,t,n,r){var a,i,o,s,c,u,p;o=r.distance(e,t,!0,!0),s=r.distance(e,n,!0,!0),a=r.distance(t,t,!1,!0),i=r.distance(n,n,!1,!0),0!==(p=(c=Math.abs(o))+(u=Math.abs(s)))?this.setRelative(e,e,(a*u+i*c)/p,r,!0):this.setRelative(e,e,(a+i)/2,r,!0)},Yt.prototype.setRelative=function(e,t,n,r,a){r=r||this;var i=a?t.xo:t.x,o=a?t.yo:t.y,s=i+n*r.x,c=o+n*r.y,u=r.normalSlope,p=this.slope,l=e.x,h=e.y;e.x=(p*l-u*s+c-h)/(p-u),e.y=p*(e.x-l)+h},Yt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Zt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Zt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Qt=Object.freeze(new Zt(0,0)),Jt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $t(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ht,this.round=jt}}function en(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new Zt(0,0)}function tn(e,t){var n,r=e.prog,a=e.ip,i=1;do{if(88===(n=r[++a]))i++;else if(89===n)i--;else if(64===n)a+=r[a+1]+1;else if(65===n)a+=2*r[a+1]+1;else if(n>=176&&n<=183)a+=n-176+1;else if(n>=184&&n<=191)a+=2*(n-184+1);else if(t&&1===i&&27===n)break}while(i>0);e.ip=a}function nn(t,n){e.DEBUG&&console.log(n.step,"SVTCA["+t.axis+"]"),n.fv=n.pv=n.dpv=t}function rn(t,n){e.DEBUG&&console.log(n.step,"SPVTCA["+t.axis+"]"),n.pv=n.dpv=t}function an(t,n){e.DEBUG&&console.log(n.step,"SFVTCA["+t.axis+"]"),n.fv=t}function on(t,n){var r,a,i=n.stack,o=i.pop(),s=i.pop(),c=n.z2[o],u=n.z1[s];e.DEBUG&&console.log("SPVTL["+t+"]",o,s),t?(r=c.y-u.y,a=u.x-c.x):(r=u.x-c.x,a=u.y-c.y),n.pv=n.dpv=Xt(r,a)}function sn(t,n){var r,a,i=n.stack,o=i.pop(),s=i.pop(),c=n.z2[o],u=n.z1[s];e.DEBUG&&console.log("SFVTL["+t+"]",o,s),t?(r=c.y-u.y,a=u.x-c.x):(r=u.x-c.x,a=u.y-c.y),n.fv=Xt(r,a)}function cn(t){e.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function un(t,n){var r=n.stack.pop(),a=n.z0[r],i=n.fv,o=n.pv;e.DEBUG&&console.log(n.step,"MDAP["+t+"]",r);var s=o.distance(a,Qt);t&&(s=n.round(s)),i.setRelative(a,Qt,s,o),i.touch(a),n.rp0=n.rp1=r}function pn(t,n){var r,a,i,o=n.z2,s=o.length-2;e.DEBUG&&console.log(n.step,"IUP["+t.axis+"]");for(var c=0;c<s;c++)r=o[c],t.touched(r)||(a=r.prevTouched(t))!==r&&(a===(i=r.nextTouched(t))&&t.setRelative(r,r,t.distance(a,a,!1,!0),t,!0),t.interpolate(r,a,i,t))}function ln(t,n){for(var r=n.stack,a=t?n.rp1:n.rp2,i=(t?n.z0:n.z1)[a],o=n.fv,s=n.pv,c=n.loop,u=n.z2;c--;){var p=r.pop(),l=u[p],h=s.distance(i,i,!1,!0);o.setRelative(l,l,h,s),o.touch(l),e.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-c)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",p)}n.loop=1}function hn(t,n){var r=n.stack,a=t?n.rp1:n.rp2,i=(t?n.z0:n.z1)[a],o=n.fv,s=n.pv,c=r.pop(),u=n.z2[n.contours[c]],p=u;e.DEBUG&&console.log(n.step,"SHC["+t+"]",c);var l=s.distance(i,i,!1,!0);do{p!==i&&o.setRelative(p,p,l,s),p=p.nextPointOnContour}while(p!==u)}function dn(t,n){var r,a,i=n.stack,o=t?n.rp1:n.rp2,s=(t?n.z0:n.z1)[o],c=n.fv,u=n.pv,p=i.pop();switch(e.DEBUG&&console.log(n.step,"SHZ["+t+"]",p),p){case 0:r=n.tZone;break;case 1:r=n.gZone;break;default:throw new Error("Invalid zone")}for(var l=u.distance(s,s,!1,!0),h=r.length-2,d=0;d<h;d++)a=r[d],c.setRelative(a,a,l,u)}function _n(t,n){var r=n.stack,a=r.pop()/64,i=r.pop(),o=n.z1[i],s=n.z0[n.rp0],c=n.fv,u=n.pv;c.setRelative(o,s,a,u),c.touch(o),e.DEBUG&&console.log(n.step,"MSIRP["+t+"]",a,i),n.rp1=n.rp0,n.rp2=i,t&&(n.rp0=i)}function fn(t,n){var r=n.stack,a=r.pop(),i=r.pop(),o=n.z0[i],s=n.fv,c=n.pv,u=n.cvt[a];e.DEBUG&&console.log(n.step,"MIAP["+t+"]",a,"(",u,")",i);var p=c.distance(o,Qt);t&&(Math.abs(p-u)<n.cvCutIn&&(p=u),p=n.round(p)),s.setRelative(o,Qt,p,c),0===n.zp0&&(o.xo=o.x,o.yo=o.y),s.touch(o),n.rp0=n.rp1=i}function gn(t,n){var r=n.stack,a=r.pop(),i=n.z2[a];e.DEBUG&&console.log(n.step,"GC["+t+"]",a),r.push(64*n.dpv.distance(i,Qt,t,!1))}function vn(t,n){var r=n.stack,a=r.pop(),i=r.pop(),o=n.z1[a],s=n.z0[i],c=n.dpv.distance(s,o,t,t);e.DEBUG&&console.log(n.step,"MD["+t+"]",a,i,"->",c),n.stack.push(Math.round(64*c))}function mn(t,n){var r=n.stack,a=r.pop(),i=n.fv,o=n.pv,s=n.ppem,c=n.deltaBase+16*(t-1),u=n.deltaShift,p=n.z0;e.DEBUG&&console.log(n.step,"DELTAP["+t+"]",a,r);for(var l=0;l<a;l++){var h=r.pop(),d=r.pop();if(c+((240&d)>>4)===s){var _=(15&d)-8;_>=0&&_++,e.DEBUG&&console.log(n.step,"DELTAPFIX",h,"by",_*u);var f=p[h];i.setRelative(f,f,_*u,o)}}}function bn(t,n){var r=n.stack,a=r.pop();e.DEBUG&&console.log(n.step,"ROUND[]"),r.push(64*n.round(a/64))}function yn(t,n){var r=n.stack,a=r.pop(),i=n.ppem,o=n.deltaBase+16*(t-1),s=n.deltaShift;e.DEBUG&&console.log(n.step,"DELTAC["+t+"]",a,r);for(var c=0;c<a;c++){var u=r.pop(),p=r.pop();if(o+((240&p)>>4)===i){var l=(15&p)-8;l>=0&&l++;var h=l*s;e.DEBUG&&console.log(n.step,"DELTACFIX",u,"by",h),n.cvt[u]+=h}}}function En(t,n){var r,a,i=n.stack,o=i.pop(),s=i.pop(),c=n.z2[o],u=n.z1[s];e.DEBUG&&console.log(n.step,"SDPVTL["+t+"]",o,s),t?(r=c.y-u.y,a=u.x-c.x):(r=u.x-c.x,a=u.y-c.y),n.dpv=Xt(r,a)}function xn(t,n){var r=n.stack,a=n.prog,i=n.ip;e.DEBUG&&console.log(n.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)r.push(a[++i]);n.ip=i}function Dn(t,n){var r=n.ip,a=n.prog,i=n.stack;e.DEBUG&&console.log(n.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var s=a[++r]<<8|a[++r];32768&s&&(s=-(1+(65535^s))),i.push(s)}n.ip=r}function On(t,n,r,a,i,o){var s,c,u,p,l=o.stack,h=t&&l.pop(),d=l.pop(),_=o.rp0,f=o.z0[_],g=o.z1[d],v=o.minDis,m=o.fv,b=o.dpv;u=(c=s=b.distance(g,f,!0,!0))>=0?1:-1,c=Math.abs(c),t&&(p=o.cvt[h],a&&Math.abs(c-p)<o.cvCutIn&&(c=p)),r&&c<v&&(c=v),a&&(c=o.round(c)),m.setRelative(g,f,u*c,b),m.touch(g),e.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(n?"M":"m")+(r?">":"_")+(a?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",t?h+"("+o.cvt[h]+","+p+")":"",d,"(d =",s,"->",u*c,")"),o.rp1=o.rp0,o.rp2=d,n&&(o.rp0=d)}Wt.prototype.exec=function(t,n){if("number"!=typeof n)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,a=this._prepState;if(!a||a.ppem!==n){var i=this._fpgmState;if(!i){$t.prototype=Jt,(i=this._fpgmState=new $t("fpgm",r.tables.fpgm)).funcs=[],i.font=r,e.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{It(i)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}$t.prototype=i,(a=this._prepState=new $t("prep",r.tables.prep)).ppem=n;var o=r.tables.cvt;if(o)for(var s=a.cvt=new Array(o.length),c=n/r.unitsPerEm,u=0;u<o.length;u++)s[u]=o[u]*c;else a.cvt=[];e.DEBUG&&(console.log("---EXEC PREP---"),a.step=-1);try{It(a)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return kt(t,a)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},kt=function(t,n){var r,a,i,o=n.ppem/n.font.unitsPerEm,s=o,c=t.components;if($t.prototype=n,c){var u=n.font;a=[],r=[];for(var p=0;p<c.length;p++){var l=c[p],h=u.glyphs.get(l.glyphIndex);i=new $t("glyf",h.instructions),e.DEBUG&&(console.log("---EXEC COMP "+p+"---"),i.step=-1),Bt(h,i,o,s);for(var d=Math.round(l.dx*o),_=Math.round(l.dy*s),f=i.gZone,g=i.contours,v=0;v<f.length;v++){var m=f[v];m.xTouched=m.yTouched=!1,m.xo=m.x=m.x+d,m.yo=m.y=m.y+_}var b=a.length;a.push.apply(a,f);for(var y=0;y<g.length;y++)r.push(g[y]+b)}t.instructions&&!i.inhibitGridFit&&((i=new $t("glyf",t.instructions)).gZone=i.z0=i.z1=i.z2=a,i.contours=r,a.push(new Zt(0,0),new Zt(Math.round(t.advanceWidth*o),0)),e.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),It(i),a.length-=2)}else i=new $t("glyf",t.instructions),e.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),Bt(t,i,o,s),a=i.gZone;return a},Bt=function(t,n,r,a){for(var i,o,s,c=t.points||[],u=c.length,p=n.gZone=n.z0=n.z1=n.z2=[],l=n.contours=[],h=0;h<u;h++)i=c[h],p[h]=new Zt(i.x*r,i.y*a,i.lastPointOfContour,i.onCurve);for(var d=0;d<u;d++)i=p[d],o||(o=i,l.push(d)),i.lastPointOfContour?(i.nextPointOnContour=o,o.prevPointOnContour=i,o=void 0):(s=p[d+1],i.nextPointOnContour=s,s.prevPointOnContour=i);if(!n.inhibitGridFit){if(e.DEBUG){console.log("PROCESSING GLYPH",n.stack);for(var _=0;_<u;_++)console.log(_,p[_].x,p[_].y)}if(p.push(new Zt(0,0),new Zt(Math.round(t.advanceWidth*r),0)),It(n),p.length-=2,e.DEBUG){console.log("FINISHED GLYPH",n.stack);for(var f=0;f<u;f++)console.log(f,p[f].x,p[f].y)}}},It=function(t){var n=t.prog;if(n){var r,a=n.length;for(t.ip=0;t.ip<a;t.ip++){if(e.DEBUG&&t.step++,!(r=Lt[n[t.ip]]))throw new Error("unknown instruction: 0x"+Number(n[t.ip]).toString(16));r(t)}}},Lt=[nn.bind(void 0,zt),nn.bind(void 0,Ht),rn.bind(void 0,zt),rn.bind(void 0,Ht),an.bind(void 0,zt),an.bind(void 0,Ht),on.bind(void 0,0),on.bind(void 0,1),sn.bind(void 0,0),sn.bind(void 0,1),function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,a),t.pv=t.dpv=Xt(a,r)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,a),t.fv=Xt(a,r)},function(t){var n=t.stack,r=t.pv;e.DEBUG&&console.log(t.step,"GPV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(t){var n=t.stack,r=t.fv;e.DEBUG&&console.log(t.step,"GFV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(t){t.fv=t.pv,e.DEBUG&&console.log(t.step,"SFVTPV[]")},function(t){var n=t.stack,r=n.pop(),a=n.pop(),i=n.pop(),o=n.pop(),s=n.pop(),c=t.z0,u=t.z1,p=c[r],l=c[a],h=u[i],d=u[o],_=t.z2[s];e.DEBUG&&console.log("ISECT[], ",r,a,i,o,s);var f=p.x,g=p.y,v=l.x,m=l.y,b=h.x,y=h.y,E=d.x,x=d.y,D=(f-v)*(y-x)-(g-m)*(b-E),O=f*m-g*v,M=b*x-y*E;_.x=(O*(b-E)-M*(f-v))/D,_.y=(O*(y-x)-M*(g-m))/D},function(t){t.rp0=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)},function(t){t.rp1=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)},function(t){t.rp2=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP0[]",n),t.zp0=n,n){case 0:t.tZone||en(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP1[]",n),t.zp1=n,n){case 0:t.tZone||en(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP2[]",n),t.zp2=n,n){case 0:t.tZone||en(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZPS[]",n),t.zp0=t.zp1=t.zp2=n,n){case 0:t.tZone||en(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){t.loop=t.stack.pop(),e.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)},function(t){e.DEBUG&&console.log(t.step,"RTG[]"),t.round=jt},function(t){e.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Gt},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SMD[]",n),t.minDis=n/64},function(t){e.DEBUG&&console.log(t.step,"ELSE[]"),tn(t,!1)},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"JMPR[]",n),t.ip+=n-1},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCVTCI[]",n),t.cvCutIn=n/64},void 0,void 0,function(t){var n=t.stack;e.DEBUG&&console.log(t.step,"DUP[]"),n.push(n[n.length-1])},cn,function(t){e.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"SWAP[]"),n.push(r),n.push(a)},function(t){var n=t.stack;e.DEBUG&&console.log(t.step,"DEPTH[]"),n.push(n.length)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"CINDEX[]",r),n.push(n[n.length-r])},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"MINDEX[]",r),n.push(n.splice(n.length-r,1)[0])},void 0,void 0,void 0,function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"LOOPCALL[]",r,a);var i=t.ip,o=t.prog;t.prog=t.funcs[r];for(var s=0;s<a;s++)It(t),e.DEBUG&&console.log(++t.step,s+1<a?"next loopcall":"done loopcall",s);t.ip=i,t.prog=o},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"CALL[]",n);var r=t.ip,a=t.prog;t.prog=t.funcs[n],It(t),t.ip=r,t.prog=a,e.DEBUG&&console.log(++t.step,"returning from",n)},function(t){if("fpgm"!==t.env)throw new Error("FDEF not allowed here");var n=t.stack,r=t.prog,a=t.ip,i=n.pop(),o=a;for(e.DEBUG&&console.log(t.step,"FDEF[]",i);45!==r[++a];);t.ip=a,t.funcs[i]=r.slice(o+1,a)},void 0,un.bind(void 0,0),un.bind(void 0,1),pn.bind(void 0,zt),pn.bind(void 0,Ht),ln.bind(void 0,0),ln.bind(void 0,1),hn.bind(void 0,0),hn.bind(void 0,1),dn.bind(void 0,0),dn.bind(void 0,1),function(t){for(var n=t.stack,r=t.loop,a=t.fv,i=n.pop()/64,o=t.z2;r--;){var s=n.pop(),c=o[s];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"SHPIX[]",s,i),a.setRelative(c,c,i),a.touch(c)}t.loop=1},function(t){for(var n=t.stack,r=t.rp1,a=t.rp2,i=t.loop,o=t.z0[r],s=t.z1[a],c=t.fv,u=t.dpv,p=t.z2;i--;){var l=n.pop(),h=p[l];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",l,r,"<->",a),c.interpolate(h,o,s,u),c.touch(h)}t.loop=1},_n.bind(void 0,0),_n.bind(void 0,1),function(t){for(var n=t.stack,r=t.rp0,a=t.z0[r],i=t.loop,o=t.fv,s=t.pv,c=t.z1;i--;){var u=n.pop(),p=c[u];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",u),o.setRelative(p,a,0,s),o.touch(p)}t.loop=1},function(t){e.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Nt},fn.bind(void 0,0),fn.bind(void 0,1),function(t){var n=t.prog,r=t.ip,a=t.stack,i=n[++r];e.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)a.push(n[++r]);t.ip=r},function(t){var n=t.ip,r=t.prog,a=t.stack,i=r[++n];e.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=r[++n]<<8|r[++n];32768&s&&(s=-(1+(65535^s))),a.push(s)}t.ip=n},function(t){var n=t.stack,r=t.store;r||(r=t.store=[]);var a=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"WS",a,i),r[i]=a},function(t){var n=t.stack,r=t.store,a=n.pop();e.DEBUG&&console.log(t.step,"RS",a);var i=r&&r[a]||0;n.push(i)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"WCVTP",r,a),t.cvt[a]=r/64},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"RCVT",r),n.push(64*t.cvt[r])},gn.bind(void 0,0),gn.bind(void 0,1),void 0,vn.bind(void 0,0),vn.bind(void 0,1),function(t){e.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)},void 0,function(t){e.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0},void 0,void 0,function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"LT[]",r,a),n.push(a<r?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"LTEQ[]",r,a),n.push(a<=r?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"GT[]",r,a),n.push(a>r?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"GTEQ[]",r,a),n.push(a>=r?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"EQ[]",r,a),n.push(r===a?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"NEQ[]",r,a),n.push(r!==a?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"ODD[]",r),n.push(Math.trunc(r)%2?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"EVEN[]",r),n.push(Math.trunc(r)%2?0:1)},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"IF[]",n),n||(tn(t,!0),e.DEBUG&&console.log(t.step,"EIF[]"))},function(t){e.DEBUG&&console.log(t.step,"EIF[]")},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"AND[]",r,a),n.push(r&&a?1:0)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"OR[]",r,a),n.push(r||a?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"NOT[]",r),n.push(r?0:1)},mn.bind(void 0,1),function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"ADD[]",r,a),n.push(a+r)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"SUB[]",r,a),n.push(a-r)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"DIV[]",r,a),n.push(64*a/r)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"MUL[]",r,a),n.push(a*r/64)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"ABS[]",r),n.push(Math.abs(r))},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"NEG[]",r),n.push(-r)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"FLOOR[]",r),n.push(64*Math.floor(r/64))},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"CEILING[]",r),n.push(64*Math.ceil(r/64))},bn.bind(void 0,0),bn.bind(void 0,1),bn.bind(void 0,2),bn.bind(void 0,3),void 0,void 0,void 0,void 0,function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"WCVTF[]",r,a),t.cvt[a]=r*t.ppem/t.font.unitsPerEm},mn.bind(void 0,2),mn.bind(void 0,3),yn.bind(void 0,1),yn.bind(void 0,2),yn.bind(void 0,3),function(t){var n,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SROUND[]",r),t.round=Vt,192&r){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*n},function(t){var n,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"S45ROUND[]",r),t.round=Vt,192&r){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*n},void 0,void 0,function(t){e.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Ft},void 0,function(t){e.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Kt},function(t){e.DEBUG&&console.log(t.step,"RDTG[]"),t.round=qt},cn,cn,void 0,void 0,void 0,void 0,void 0,function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANCTRL[]",n)},En.bind(void 0,0),En.bind(void 0,1),function(t){var n=t.stack,r=n.pop(),a=0;e.DEBUG&&console.log(t.step,"GETINFO[]",r),1&r&&(a=35),32&r&&(a|=4096),n.push(a)},void 0,function(t){var n=t.stack,r=n.pop(),a=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"ROLL[]"),n.push(a),n.push(r),n.push(i)},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"MAX[]",r,a),n.push(Math.max(a,r))},function(t){var n=t.stack,r=n.pop(),a=n.pop();e.DEBUG&&console.log(t.step,"MIN[]",r,a),n.push(Math.min(a,r))},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANTYPE[]",n)},function(t){var n=t.stack.pop(),r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"INSTCTRL[]",n,r),n){case 1:return void(t.inhibitGridFit=!!r);case 2:return void(t.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xn.bind(void 0,1),xn.bind(void 0,2),xn.bind(void 0,3),xn.bind(void 0,4),xn.bind(void 0,5),xn.bind(void 0,6),xn.bind(void 0,7),xn.bind(void 0,8),Dn.bind(void 0,1),Dn.bind(void 0,2),Dn.bind(void 0,3),Dn.bind(void 0,4),Dn.bind(void 0,5),Dn.bind(void 0,6),Dn.bind(void 0,7),Dn.bind(void 0,8),On.bind(void 0,0,0,0,0,0),On.bind(void 0,0,0,0,0,1),On.bind(void 0,0,0,0,0,2),On.bind(void 0,0,0,0,0,3),On.bind(void 0,0,0,0,1,0),On.bind(void 0,0,0,0,1,1),On.bind(void 0,0,0,0,1,2),On.bind(void 0,0,0,0,1,3),On.bind(void 0,0,0,1,0,0),On.bind(void 0,0,0,1,0,1),On.bind(void 0,0,0,1,0,2),On.bind(void 0,0,0,1,0,3),On.bind(void 0,0,0,1,1,0),On.bind(void 0,0,0,1,1,1),On.bind(void 0,0,0,1,1,2),On.bind(void 0,0,0,1,1,3),On.bind(void 0,0,1,0,0,0),On.bind(void 0,0,1,0,0,1),On.bind(void 0,0,1,0,0,2),On.bind(void 0,0,1,0,0,3),On.bind(void 0,0,1,0,1,0),On.bind(void 0,0,1,0,1,1),On.bind(void 0,0,1,0,1,2),On.bind(void 0,0,1,0,1,3),On.bind(void 0,0,1,1,0,0),On.bind(void 0,0,1,1,0,1),On.bind(void 0,0,1,1,0,2),On.bind(void 0,0,1,1,0,3),On.bind(void 0,0,1,1,1,0),On.bind(void 0,0,1,1,1,1),On.bind(void 0,0,1,1,1,2),On.bind(void 0,0,1,1,1,3),On.bind(void 0,1,0,0,0,0),On.bind(void 0,1,0,0,0,1),On.bind(void 0,1,0,0,0,2),On.bind(void 0,1,0,0,0,3),On.bind(void 0,1,0,0,1,0),On.bind(void 0,1,0,0,1,1),On.bind(void 0,1,0,0,1,2),On.bind(void 0,1,0,0,1,3),On.bind(void 0,1,0,1,0,0),On.bind(void 0,1,0,1,0,1),On.bind(void 0,1,0,1,0,2),On.bind(void 0,1,0,1,0,3),On.bind(void 0,1,0,1,1,0),On.bind(void 0,1,0,1,1,1),On.bind(void 0,1,0,1,1,2),On.bind(void 0,1,0,1,1,3),On.bind(void 0,1,1,0,0,0),On.bind(void 0,1,1,0,0,1),On.bind(void 0,1,1,0,0,2),On.bind(void 0,1,1,0,0,3),On.bind(void 0,1,1,0,1,0),On.bind(void 0,1,1,0,1,1),On.bind(void 0,1,1,0,1,2),On.bind(void 0,1,1,0,1,3),On.bind(void 0,1,1,1,0,0),On.bind(void 0,1,1,1,0,1),On.bind(void 0,1,1,1,0,2),On.bind(void 0,1,1,1,0,3),On.bind(void 0,1,1,1,1,0),On.bind(void 0,1,1,1,1,1),On.bind(void 0,1,1,1,1,2),On.bind(void 0,1,1,1,1,3)];var Mn=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Sn(e){(e=e||{}).empty||(Pt(e.familyName,"When creating a new Font object, familyName is required."),Pt(e.styleName,"When creating a new Font object, styleName is required."),Pt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Pt(e.ascender,"When creating a new Font object, ascender is required."),Pt(e.descender,"When creating a new Font object, descender is required."),Pt(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ye.GlyphSet(this,e.glyphs||[]),this.encoding=new he(this),this.position=new xt(this),this.substitution=new Dt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Wt(this):void 0}})}function Pn(e,t){var n=JSON.stringify(e),r=256;for(var a in t){var i=parseInt(a);if(i&&!(i<256)){if(JSON.stringify(t[a])===n)return i;r<=i&&(r=i+1)}}return t[r]=e,r}function wn(e,t,n){var r=Pn(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function Tn(e,t,n){var r={},a=new ie.Parser(e,t);return r.tag=a.parseTag(),r.minValue=a.parseFixed(),r.defaultValue=a.parseFixed(),r.maxValue=a.parseFixed(),a.skip("uShort",1),r.name=n[a.parseUShort()]||{},r}function Un(e,t,n,r){for(var a=[{name:"nameID_"+e,type:"USHORT",value:Pn(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],i=0;i<n.length;++i){var o=n[i].tag;a.push({name:"axis_"+e+" "+o,type:"FIXED",value:t.coordinates[o]<<16})}return a}function Cn(e,t,n,r){var a={},i=new ie.Parser(e,t);a.name=r[i.parseUShort()]||{},i.skip("uShort",1),a.coordinates={};for(var o=0;o<n.length;++o)a.coordinates[n[o].tag]=i.parseFixed();return a}Sn.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Sn.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Sn.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},Sn.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var n=Mn(e),r=[],a=0;a<n.length;a+=1){var i=n[a];r.push(this.charToGlyphIndex(i))}var o=r.length;if(t.features){var s=t.script||this.substitution.getDefaultScriptName(),c=[];t.features.liga&&(c=c.concat(this.substitution.getFeature("liga",s,t.language))),t.features.rlig&&(c=c.concat(this.substitution.getFeature("rlig",s,t.language)));for(var u=0;u<o;u+=1)for(var p=0;p<c.length;p++){for(var l=c[p],h=l.sub,d=h.length,_=0;_<d&&h[_]===r[u+_];)_++;_===d&&(r.splice(u,d,l.by),o=o-d+1)}}for(var f=new Array(o),g=this.glyphs.get(0),v=0;v<o;v+=1)f[v]=this.glyphs.get(r[v])||g;return f},Sn.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Sn.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},Sn.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Sn.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},Sn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Sn.prototype.forEachGlyph=function(e,t,n,r,a,i){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,a=a||this.defaultRenderOptions;var o,s=1/this.unitsPerEm*r,c=this.stringToGlyphs(e,a);if(a.kerning){var u=a.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(u,a.language)}for(var p=0;p<c.length;p+=1){var l=c[p];i.call(this,l,t,n,r,a),l.advanceWidth&&(t+=l.advanceWidth*s),a.kerning&&p<c.length-1&&(t+=(o?this.position.getKerningValue(o,l.index,c[p+1].index):this.getKerningValue(l,c[p+1]))*s),a.letterSpacing?t+=a.letterSpacing*r:a.tracking&&(t+=a.tracking/1e3*r)}return t},Sn.prototype.getPath=function(e,t,n,r,a){var i=new P;return this.forEachGlyph(e,t,n,r,a,(function(e,t,n,r){var o=e.getPath(t,n,r,a,this);i.extend(o)})),i},Sn.prototype.getPaths=function(e,t,n,r,a){var i=[];return this.forEachGlyph(e,t,n,r,a,(function(e,t,n,r){var o=e.getPath(t,n,r,a,this);i.push(o)})),i},Sn.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},Sn.prototype.draw=function(e,t,n,r,a,i){this.getPath(t,n,r,a,i).draw(e)},Sn.prototype.drawPoints=function(e,t,n,r,a,i){this.forEachGlyph(t,n,r,a,i,(function(t,n,r,a){t.drawPoints(e,n,r,a)}))},Sn.prototype.drawMetrics=function(e,t,n,r,a,i){this.forEachGlyph(t,n,r,a,i,(function(t,n,r,a){t.drawMetrics(e,n,r,a)}))},Sn.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Sn.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},Sn.prototype.toTables=function(){return vt.fontToTable(this)},Sn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Sn.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},Sn.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var a=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(a),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e;var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!1),s.dispatchEvent(c)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var u=n(/*! fs */4),p=function(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t}(a);u.writeFileSync(e,p)}},Sn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Sn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Sn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Rn={make:function(e,t){var n=new Q.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields=n.fields.concat(wn(r,e.axes[r],t));for(var a=0;a<e.instances.length;a++)n.fields=n.fields.concat(Un(a,e.instances[a],e.axes,t));return n},parse:function(e,t,n){var r=new ie.Parser(e,t),a=r.parseULong();U.argument(65536===a,"Unsupported fvar table version.");var i=r.parseOffset16();r.skip("uShort",1);for(var o=r.parseUShort(),s=r.parseUShort(),c=r.parseUShort(),u=r.parseUShort(),p=[],l=0;l<o;l++)p.push(Tn(e,t+i+l*s,n));for(var h=[],d=t+i+o*s,_=0;_<c;_++)h.push(Cn(e,d+_*u,p,n));return{axes:p,instances:h}}},Ln=new Array(10);Ln[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(re.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(re.coverage),values:this.parseValueRecordList()}:void U.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ln[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();U.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(re.coverage),r=this.parseUShort(),a=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:a,pairSets:this.parseList(re.pointer(re.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(a)}}))))};if(2===t){var i=this.parsePointer(re.classDef),o=this.parsePointer(re.classDef),s=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:a,classDef1:i,classDef2:o,class1Count:s,class2Count:c,classRecords:this.parseList(s,re.list(c,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(a)}})))}}},Ln[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ln[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ln[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ln[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ln[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ln[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ln[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var In=new Array(10),kn={parse:function(e,t){var n=new re(e,t=t||0),r=n.parseVersion(1);return U.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ln)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ln),variations:n.parseFeatureVariationsList()}},make:function(e){return new Q.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Q.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Q.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Q.LookupList(e.lookups,In)}])}},Bn={parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseUShort();if(0===r)return function(e){var t={};e.skip("uShort");var n=e.parseUShort();U.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var a=0;a<r;a+=1){var i=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[i+","+o]=s}return t}(n);if(1===r)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=255&e.parseUShort();if(e.skip("uShort"),0===n){var r=e.parseUShort();e.skip("uShort",3);for(var a=0;a<r;a+=1){var i=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[i+","+o]=s}}return t}(n);throw new Error("Unsupported kern table version ("+r+").")}},An={parse:function(e,t,n,r){for(var a=new ie.Parser(e,t),i=r?a.parseUShort:a.parseULong,o=[],s=0;s<n+1;s+=1){var c=i.call(a);r&&(c*=2),o.push(c)}return o}};function Wn(e,t){n(/*! fs */4).readFile(e,(function(e,n){if(e)return t(e.message);t(null,St(n))}))}function Fn(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function jn(e,t){for(var n=[],r=12,a=0;a<t;a+=1){var i=ie.getTag(e,r),o=ie.getULong(e,r+4),s=ie.getULong(e,r+8),c=ie.getULong(e,r+12);n.push({tag:i,checksum:o,offset:s,length:c,compression:!1}),r+=16}return n}function Nn(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(O(n,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:e,offset:t.offset}}function Gn(e){var t,n,r,a,i,o,s,c,u,p,l,h,d,_,f=new Sn({empty:!0}),g=new DataView(e,0),v=[],m=ie.getTag(g,0);if(m===String.fromCharCode(0,1,0,0)||"true"===m||"typ1"===m)f.outlinesFormat="truetype",v=jn(g,r=ie.getUShort(g,4));else if("OTTO"===m)f.outlinesFormat="cff",v=jn(g,r=ie.getUShort(g,4));else{if("wOFF"!==m)throw new Error("Unsupported OpenType signature "+m);var b=ie.getTag(g,4);if(b===String.fromCharCode(0,1,0,0))f.outlinesFormat="truetype";else{if("OTTO"!==b)throw new Error("Unsupported OpenType flavor "+m);f.outlinesFormat="cff"}v=function(e,t){for(var n=[],r=44,a=0;a<t;a+=1){var i=ie.getTag(e,r),o=ie.getULong(e,r+4),s=ie.getULong(e,r+8),c=ie.getULong(e,r+12),u=void 0;u=s<c&&"WOFF",n.push({tag:i,offset:o,compression:u,compressedLength:s,length:c}),r+=20}return n}(g,r=ie.getUShort(g,12))}for(var y=0;y<r;y+=1){var E=v[y],x=void 0;switch(E.tag){case"cmap":x=Nn(g,E),f.tables.cmap=se.parse(x.data,x.offset),f.encoding=new de(f.tables.cmap);break;case"cvt ":x=Nn(g,E),_=new ie.Parser(x.data,x.offset),f.tables.cvt=_.parseShortList(E.length/2);break;case"fvar":i=E;break;case"fpgm":x=Nn(g,E),_=new ie.Parser(x.data,x.offset),f.tables.fpgm=_.parseByteList(E.length);break;case"head":x=Nn(g,E),f.tables.head=je.parse(x.data,x.offset),f.unitsPerEm=f.tables.head.unitsPerEm,t=f.tables.head.indexToLocFormat;break;case"hhea":x=Nn(g,E),f.tables.hhea=Ne.parse(x.data,x.offset),f.ascender=f.tables.hhea.ascender,f.descender=f.tables.hhea.descender,f.numberOfHMetrics=f.tables.hhea.numberOfHMetrics;break;case"hmtx":u=E;break;case"ltag":x=Nn(g,E),n=Ke.parse(x.data,x.offset);break;case"maxp":x=Nn(g,E),f.tables.maxp=qe.parse(x.data,x.offset),f.numGlyphs=f.tables.maxp.numGlyphs;break;case"name":h=E;break;case"OS/2":x=Nn(g,E),f.tables.os2=at.parse(x.data,x.offset);break;case"post":x=Nn(g,E),f.tables.post=it.parse(x.data,x.offset),f.glyphNames=new fe(f.tables.post);break;case"prep":x=Nn(g,E),_=new ie.Parser(x.data,x.offset),f.tables.prep=_.parseByteList(E.length);break;case"glyf":o=E;break;case"loca":l=E;break;case"CFF ":a=E;break;case"kern":p=E;break;case"GPOS":s=E;break;case"GSUB":c=E;break;case"meta":d=E}}var D=Nn(g,h);if(f.tables.name=nt.parse(D.data,D.offset,n),f.names=f.tables.name,o&&l){var O=0===t,M=Nn(g,l),S=An.parse(M.data,M.offset,f.numGlyphs,O),P=Nn(g,o);f.glyphs=At.parse(P.data,P.offset,S,f)}else{if(!a)throw new Error("Font doesn't contain TrueType or CFF outlines.");var w=Nn(g,a);Fe.parse(w.data,w.offset,f)}var T=Nn(g,u);if(Ge.parse(T.data,T.offset,f.numberOfHMetrics,f.numGlyphs,f.glyphs),function(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),a=0;a<r.length;a+=1){var i=r[a],o=n[i];(t=e.glyphs.get(o)).addUnicode(parseInt(i))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(f),p){var U=Nn(g,p);f.kerningPairs=Bn.parse(U.data,U.offset)}else f.kerningPairs={};if(s){var C=Nn(g,s);f.tables.gpos=kn.parse(C.data,C.offset),f.position.init()}if(c){var R=Nn(g,c);f.tables.gsub=ut.parse(R.data,R.offset)}if(i){var L=Nn(g,i);f.tables.fvar=Rn.parse(L.data,L.offset,f.names)}if(d){var I=Nn(g,d);f.tables.meta=pt.parse(I.data,I.offset),f.metas=f.tables.meta}return f}e.Font=Sn,e.Glyph=ve,e.Path=P,e.BoundingBox=S,e._parse=ie,e.parse=Gn,e.load=function(e,t){("undefined"==typeof window?Wn:Fn)(e,(function(e,n){if(e)return t(e);var r;try{r=Gn(n)}catch(e){return t(e,null)}return t(null,r)}))},e.loadSync=function(e){return Gn(St(n(/*! fs */4).readFileSync(e)))},Object.defineProperty(e,"__esModule",{value:!0})}(t)},"./node_modules/worker-loader/dist/cjs.js?inline!./extensions/MSDF/GeneratorWorker.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js?inline!./extensions/MSDF/GeneratorWorker.js ***!
  \********************************************************************************************/
/*! no static exports found */function(e,t,n){e.exports=function(){return n(/*! !./node_modules/worker-loader/dist/workers/InlineWorker.js */"./node_modules/worker-loader/dist/workers/InlineWorker.js")('/*!\n * LMV v7.9.0\n * \n * Copyright 2019 Autodesk, Inc.\n * All rights reserved.\n * \n * This computer source code and related instructions and comments are the\n * unpublished confidential and proprietary information of Autodesk, Inc.\n * and are protected under Federal copyright and state trade secret law.\n * They may not be disclosed to, copied or used by any third party without\n * the prior written consent of Autodesk, Inc.\n * \n * Autodesk Forge Viewer Usage Limitations:\n * \n * The Autodesk Forge viewer can only be used to view files generated by\n * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be\n * delivered from an Autodesk hosted URL.\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./node_modules/babel-loader/lib/index.js?!./extensions/MSDF/GeneratorWorker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./extensions/MSDF/Bitmap.js":\n/*!***********************************!*\\\n  !*** ./extensions/MSDF/Bitmap.js ***!\n  \\***********************************/\n/*! exports provided: Bitmap */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bitmap", function() { return Bitmap; });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n\n\nfunction Bitmap(width, height) {\n  // RGB float texture\n  var data = new Float32Array(width * height * 3);\n\n  this.width = width;\n  this.height = height;\n  this.positivePoint = 0;\n  this.negativePoint = 0;\n  this.positiveValue = 0;\n  this.negativeValue = 0;\n\n  this.set = function (x, y, offset, value) {\n    var index = width * 3 * y + x * 3 + offset;\n    data[index] = value;\n  };\n\n\n  this.setRGB = function (x, y, value) {\n    var index = width * 3 * y + x * 3;\n    data[index++] = value[0];\n    data[index++] = value[1];\n    data[index++] = value[2];\n\n    var m = Object(_Math__WEBPACK_IMPORTED_MODULE_0__["median"])(value[0], value[1], value[2]);\n    if (m >= 0 && m < 0.5) {\n      this.negativePoint++;\n      this.negativeValue += m;\n    } else if (m >= 0.5) {\n      this.positivePoint++;\n      this.positiveValue += m;\n    }\n  };\n\n  this.get = function (x, y) {\n    var index = width * 3 * y + x * 3;\n    return {\n      r: data[index++],\n      g: data[index++],\n      b: data[index++] };\n\n  };\n\n  this.getRaw = function (x, y) {\n    var index = width * 3 * y + x * 3;\n    return [\n    data[index++],\n    data[index++],\n    data[index++]];\n\n  };\n\n  this.getData = function () {\n    return data;\n  };\n\n\n  this.convert = function (x, y, distance, range) {\n    var values = [\n    distance.r / range + 0.5,\n    distance.g / range + 0.5,\n    distance.b / range + 0.5];\n\n\n    this.setRGB(x, y, values);\n  };\n\n  this.reset = function () {\n    data = new Float32Array(width * height * 3);\n  };\n\n  function clamp(v, boostValue) {\n    v += boostValue;\n\n    if (v >= 255) {\n      return 255;\n    } else if (v <= 0) {\n      return 0;\n    } else {\n      return Math.round(v);\n    }\n  }\n\n  this.getDrawingData = function (width, height) {var flipY = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;var range = arguments.length > 3 ? arguments[3] : undefined;var _char = arguments.length > 4 ? arguments[4] : undefined;\n    // special logic for those very thin stroke\n    var boostValue = 0;\n    // console.log("statistics_" + char, this.positivePoint/ this.negativePoint, this.positiveValue/ this.negativeValue);\n    var threshold = 1 / range;\n    if (this.positivePoint / this.negativePoint < threshold) {\n      boostValue = 0.4 / range * 255;\n    }\n\n    var imageData = new Uint8ClampedArray(width * height * 4);\n    var y1;\n    for (var x = 0; x < width; x++) {\n      for (var y = 0; y < height; y++) {\n        y1 = flipY ? height - y - 1 : y;\n        var index = (y1 * this.width + x) * 3;\n        var index1 = (y * width + x) * 4;\n\n        imageData[index1++] = clamp(data[index++] * 255, boostValue);\n        imageData[index1++] = clamp(data[index++] * 255, boostValue);\n        imageData[index1++] = clamp(data[index++] * 255, boostValue);\n        imageData[index1++] = 255;\n      }\n    }\n\n    return {\n      binData: imageData,\n      width: width,\n      height: height };\n\n  };\n\n  this.draw = function (canvas, width, height) {\n    canvas = canvas || document.createElement("canvas");\n    canvas.width = width;\n    canvas.height = height;\n\n    var imageData = this.getDrawingData(width, height);\n    var ctx = canvas.getContext("2d");\n\n    ctx.putImageData(imageData, 0, 0);\n    canvas.toBlob(function (blob) {\n      var url = URL.createObjectURL(blob);\n      document.getElementById("sample").setAttribute("src", url);\n    }, "image/png");\n  };\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Contour.js":\n/*!************************************!*\\\n  !*** ./extensions/MSDF/Contour.js ***!\n  \\************************************/\n/*! exports provided: Contour */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Contour", function() { return Contour; });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector2 */ "./extensions/MSDF/Vector2.js");\n\n\n\n\nvar Contour = function Contour() {\n\n  var edges = Object(_Math__WEBPACK_IMPORTED_MODULE_0__["createArray"])();\n\n  this.addEdge = function (edge) {\n    edges.push(edge);\n  };\n\n  /**\n      * https://stackoverflow.com/questions/14505565/detect-if-a-set-of-points-in-an-array-that-are-the-vertices-of-a-complex-polygon\n      */\n  this.winding = function () {\n    if (edges.empty()) {\n      return 0;\n    }\n\n    var total = 0;\n    if (edges.size() == 1) {\n      var a = edges[0].point(0),b = edges[0].point(1 / 3.),c = edges[0].point(2 / 3.);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(a, b);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(b, c);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(c, a);\n    } else if (edges.size() == 2) {\n      var _a = edges[0].point(0),_b = edges[0].point(.5),_c = edges[1].point(0),d = edges[1].point(.5);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(_a, _b);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(_b, _c);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(_c, d);\n      total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(d, _a);\n    } else {\n      var prev = edges.back().point(0);\n\n      for (var i = 0; i < edges.length; i++) {\n        var edge = edges[i];\n        var cur = edge.point(0);\n        total += Object(_Math__WEBPACK_IMPORTED_MODULE_0__["shoelace"])(prev, cur);\n        prev = cur;\n      }\n    }\n    return total;\n  };\n\n  this.inverseY = function () {\n    var yVector = new _Vector2__WEBPACK_IMPORTED_MODULE_1__["Vector2"](1, -1);\n    for (var i = 0; i < edges.length; i++) {\n      var edge = edges[i];\n      for (var j = 0; j < edge.p.length; j++) {\n        edge.p[j].multiply(yVector);\n      }\n    }\n  };\n\n  this.edges = edges;\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/EdgeColor.js":\n/*!**************************************!*\\\n  !*** ./extensions/MSDF/EdgeColor.js ***!\n  \\**************************************/\n/*! exports provided: BLACK, RED, GREEN, YELLOW, BLUE, MAGENTA, CYAN, WHITE */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BLACK", function() { return BLACK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RED", function() { return RED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GREEN", function() { return GREEN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YELLOW", function() { return YELLOW; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BLUE", function() { return BLUE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAGENTA", function() { return MAGENTA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CYAN", function() { return CYAN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WHITE", function() { return WHITE; });\nvar BLACK = 0,\nRED = 1,\nGREEN = 2,\nYELLOW = 3,\nBLUE = 4,\nMAGENTA = 5,\nCYAN = 6,\nWHITE = 7;\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Edges.js":\n/*!**********************************!*\\\n  !*** ./extensions/MSDF/Edges.js ***!\n  \\**********************************/\n/*! exports provided: LinearSegment, QuadraticSegment, CubicSegment, EdgeSegment */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinearSegment", function() { return LinearSegment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuadraticSegment", function() { return QuadraticSegment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CubicSegment", function() { return CubicSegment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EdgeSegment", function() { return EdgeSegment; });\n/* harmony import */ var _EdgeColor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EdgeColor */ "./extensions/MSDF/EdgeColor.js");\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n/* harmony import */ var _SignedDistance__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SignedDistance */ "./extensions/MSDF/SignedDistance.js");\n\n\n\n\n\n\n\nvar fabs = Math.abs;\nvar MSDFGEN_CUBIC_SEARCH_STARTS = 4;\nvar MSDFGEN_CUBIC_SEARCH_STEPS = 4;\n\n\nvar EdgeSegment = function EdgeSegment(color) {\n  this.p = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n  this.color = color || _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"];\n};\n\nEdgeSegment.prototype.point = function (param) {\n  console.error("Interface", "Point");\n};\n\nEdgeSegment.prototype.clone = function () {\n  console.error("Interface", "clone");\n};\n\nEdgeSegment.prototype.direction = function (param) {\n  console.error("Interface", "direction");\n};\n\nEdgeSegment.prototype.scanlineIntersections = function (xArray, dyArray, y) {\n  console.error("Interface", "scanlineIntersections");\n};\n\nEdgeSegment.prototype.distanceToPseudoDistance = function (distance, origin, param) {\n  if (param < 0) {\n    var dir = this.direction(0).normalize();\n    var aq = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(origin, this.point(0));\n    var ts = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(aq, dir);\n    if (ts < 0) {\n      var pseudoDistance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(aq, dir);\n      if (fabs(pseudoDistance) <= fabs(distance.distance)) {\n        distance.distance = pseudoDistance;\n        distance.dot = 0;\n      }\n    }\n  } else if (param > 1) {\n    var _dir = this.direction(1).normalize();\n    var bq = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(origin, this.point(1));\n    var _ts = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(bq, _dir);\n    if (_ts > 0) {\n      var _pseudoDistance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(bq, _dir);\n      if (fabs(_pseudoDistance) <= fabs(distance.distance)) {\n        distance.distance = _pseudoDistance;\n        distance.dot = 0;\n      }\n    }\n  }\n};\n\nEdgeSegment.prototype.debug = function (mainPath) {\n  if (mainPath) {\n    var result = "".concat(mainPath, ".");\n  } else {\n    var result = "var myPath = new CompoundPath();\\nmyPath.strokeColor = \'black\';\\nmyPath.moveTo(new Point(".concat(\n\n    this.p[0].x, ", ").concat(this.p[0].y, "));\\nmyPath.");\n\n  }\n\n  if (this.p.length == 2) {\n    result += "lineTo(new Point(".concat(this.p[1].x, ", ").concat(this.p[1].y, "));\\n");\n  } else if (this.p.length == 3) {\n    result += "quadraticCurveTo(new Point(".concat(this.p[1].x, ", ").concat(this.p[1].y, "), new Point(").concat(this.p[2].x, ", ").concat(this.p[2].y, "));\\n");\n  } else if (this.p.length == 4) {\n    result += "cubicCurveTo(new Point(".concat(this.p[1].x, ", ").concat(this.p[1].y, "), new Point(").concat(this.p[2].x, ", ").concat(this.p[2].y, "), new Point(").concat(this.p[3].x, ", ").concat(this.p[3].y, "));\\n");\n  }\n\n  return result;\n};\n\n/**\n    * LinearSegment\n    * @param {*} p0 \n    * @param {*} p1 \n    */\nvar LinearSegment = function LinearSegment(p0, p1, color) {\n  EdgeSegment.call(this, color);\n  var p = this.p;\n\n  p[0] = p0;\n  p[1] = p1;\n};\n\nLinearSegment.prototype = Object.create(EdgeSegment.prototype);\nLinearSegment.prototype.constructor = LinearSegment;\n\nLinearSegment.prototype.point = function (param) {\n  var p = this.p;\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], param);\n};\n\nLinearSegment.prototype.clone = function () {\n  var p = this.p;\n  return new LinearSegment(p[0].clone(), p[1].clone(), this.color);\n};\n\nLinearSegment.prototype.direction = function () {\n  var p = this.p;\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n};\n\nLinearSegment.prototype.signedDistance = function (origin) {\n  var p = this.p;\n  var aq = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(origin, p[0]);\n  var ab = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n\n  var param = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(aq, ab) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(ab, ab);\n  var index = param > 0.5 ? 1 : 0;\n  var eq = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[index], origin);\n  var endpointDistance = eq.length();\n\n  if (param > 0 && param < 1) {\n    var orthoDistance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(ab.getOrthonormal(false), aq);\n    if (fabs(orthoDistance) < endpointDistance) {\n      return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](orthoDistance, 0, param);\n    }\n  }\n  return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(aq, ab)) * endpointDistance,\n  fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(ab.normalizeExt(), eq.normalizeExt())),\n  param);\n};\n\n/**\n    * @param {Float[3]} x,\n    * @param {Int[3]} dy,\n    * @param {float} y\n    */\nLinearSegment.prototype.scanlineIntersections = function (x, dy, y) {\n  var p = this.p;\n  if (y >= p[0].y && y < p[1].y || y >= p[1].y && y < p[0].y) {\n    var param = (y - p[0].y) / (p[1].y - p[0].y);\n    x[0] = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mixFloat"])(p[0].x, p[1].x, param);\n    dy[0] = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["sign"])(p[1].y - p[0].y);\n    return 1;\n  }\n  return 0;\n};\n\nLinearSegment.prototype.bounds = function (bounds) {\n  var p = this.p;\n\n  bounds.update(p[0]);\n  bounds.update(p[1]);\n};\n\nLinearSegment.prototype.moveStartPoint = function (to) {\n  var p = this.p;\n\n  p[0] = to;\n};\n\nLinearSegment.prototype.moveEndPoint = function (to) {\n  var p = this.p;\n\n  p[1] = to;\n};\n\nLinearSegment.prototype.splitInThirds = function (parts) {\n  var p = this.p;\n\n  parts[0] = new LinearSegment(p[0], this.point(1 / 3.), this.color);\n  parts[1] = new LinearSegment(this.point(1 / 3.), this.point(2 / 3.), this.color);\n  parts[2] = new LinearSegment(this.point(2 / 3.), p[1], this.color);\n};\n\n\n/**\n    * QuadraticSegment\n    * @param {*} p0 \n    * @param {*} p1 \n    * @param {*} p2 \n    */\nvar QuadraticSegment = function QuadraticSegment(p0, p1, p2, color) {\n  EdgeSegment.call(this, color);\n  var p = this.p;\n  if (p1.equals(p0) || p1.equals(p2)) {\n    p1.x = (p0.x + p2.x) * 0.5;\n    p1.y = (p0.y + p2.y) * 0.5;\n  }\n  p[0] = p0;\n  p[1] = p1;\n  p[2] = p2;\n};\n\nQuadraticSegment.prototype = Object.create(EdgeSegment.prototype);\nQuadraticSegment.prototype.constructor = QuadraticSegment;\n\nQuadraticSegment.prototype.point = function (param) {\n  var p = this.p;\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], param), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], param), param);\n};\n\nQuadraticSegment.prototype.clone = function () {\n  var p = this.p;\n  return new QuadraticSegment(p[0].clone(), p[1].clone(), p[2].clone(), this.color);\n};\n\nQuadraticSegment.prototype.direction = function (param) {\n  var p = this.p;\n  var tangent = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]), param);\n  if (tangent.isEmtpy()) {\n    return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[0]);\n  }\n  return tangent;\n};\n\nQuadraticSegment.prototype.signedDistance = function (origin) {\n  var p = this.p;\n  var qa = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], origin);\n  var ab = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n  var br = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).sub(ab);\n\n  var a = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(br, br);\n  var b = 3 * Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(ab, br);\n  var c = 2 * Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(ab, ab) + Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qa, br);\n  var d = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qa, ab);\n\n  var t = [];\n  var solutions = Math.round(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["solveCubic"])(t, a, b, c, d));\n  var epDir = this.direction(0);\n  var minDistance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(epDir, qa)) * qa.length(); // distance from A\n  var param = -Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qa, epDir) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(epDir, epDir);\n  {\n    epDir = this.direction(1);\n    var distance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(epDir, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], origin))) * Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], origin).length(); // distance from B\n    if (fabs(distance) < fabs(minDistance)) {\n      minDistance = distance;\n      param = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(origin, p[1]), epDir) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(epDir, epDir);\n    }\n  }\n  for (var i = 0; i < solutions; ++i) {\n    if (t[i] > 0 && t[i] < 1) {\n      var qe = p[0].clone().\n      add(ab.clone().multiplyScalar(2 * t[i])).\n      add(br.clone().multiplyScalar(t[i] * t[i])).\n      sub(origin);\n\n      var _distance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[0]), qe)) * qe.length();\n      if (fabs(_distance) <= fabs(minDistance)) {\n        minDistance = _distance;\n        param = t[i];\n      }\n    }\n  }\n\n  if (param >= 0 && param <= 1) {\n    return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, 0, param);\n  } else if (param < 0.5) {\n    return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(this.direction(0).normalize(), qa.normalize())), param);\n  } else {\n    return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(this.direction(1).normalize(), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], origin).normalize())), param);\n  }\n};\n\nQuadraticSegment.prototype.scanlineIntersections = function (x, dy, y) {\n  var total = 0;\n  var p = this.p;\n  var nextDY = y > p[0].y ? 1 : -1;\n  x[total] = p[0].x;\n  if (p[0].y == y) {\n    if (p[0].y < p[1].y || p[0].y == p[1].y && p[0].y < p[2].y)\n    dy[total++] = 1;else\n\n    nextDY = 1;\n  }\n  {\n    var ab = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n    var br = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).sub(ab);\n    var t = [];\n    var solutions = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["solveQuadratic"])(t, br.y, 2 * ab.y, p[0].y - y);\n\n    // Sort solutions\n    var tmp;\n    if (solutions >= 2 && t[0] > t[1])\n    tmp = t[0], t[0] = t[1], t[1] = tmp;\n    for (var i = 0; i < solutions && total < 2; ++i) {\n      if (t[i] > 0 && t[i] < 1) {\n        x[total] = p[0].x + 2 * t[i] * ab.x + t[i] * t[i] * br.x;\n        if (nextDY * (ab.y + t[i] * br.y) >= 0) {\n          dy[total++] = nextDY;\n          nextDY = -nextDY;\n        }\n      }\n    }\n  }\n  if (p[2].y == y) {\n    if (nextDY > 0 && total > 0) {\n      --total;\n      nextDY = -1;\n    }\n    if ((p[2].y < p[1].y || p[2].y == p[1].y && p[2].y < p[0].y) && total < 2) {\n      x[total] = p[2].x;\n      if (nextDY < 0) {\n        dy[total++] = -1;\n        nextDY = 1;\n      }\n    }\n  }\n  if (nextDY != (y >= p[2].y ? 1 : -1)) {\n    if (total > 0)\n    --total;else\n\n    dy[total++] = nextDY;\n  }\n  return total;\n};\n\nQuadraticSegment.prototype.bounds = function (bounds) {\n  var p = this.p;\n  bounds.update(p[0]);\n  bounds.update(p[2]);\n\n  var bot = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]).sub(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]));\n  if (bot.x) {\n    var param = (p[1].x - p[0].x) / bot.x;\n    if (param > 0 && param < 1) {\n      bounds.update(this.point(param));\n    }\n  }\n  if (bot.y) {\n    var _param = (p[1].y - p[0].y) / bot.y;\n    if (_param > 0 && _param < 1) {\n      bounds.update(this.point(_param));\n    }\n  }\n};\n\nQuadraticSegment.prototype.moveStartPoint = function (to) {\n  var p = this.p;\n\n  var origSDir = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1]);\n  var origP1 = p[1].clone();\n  var w = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(to, p[0])) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]));\n  p[1].add(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).multiplyScalar(w));\n  p[0] = to.clone();\n  if (Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(origSDir, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1])) < 0) {\n    p[1] = origP1;\n  }\n};\n\nQuadraticSegment.prototype.moveEndPoint = function (to) {\n  var p = this.p;\n\n  var origEDir = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]);\n  var origP1 = p[1].clone();\n  var w = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(to, p[2])) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1]));\n  p[1].add(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], p[1]).multiplyScalar(w));\n  p[2] = to;\n  if (Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(origEDir, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1])) < 0) {\n    p[1] = origP1;\n  }\n};\n\nQuadraticSegment.prototype.splitInThirds = function (parts) {\n  var p = this.p;\n\n  parts[0] = new QuadraticSegment(p[0], Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 1 / 3.), this.point(1 / 3.), this.color);\n  parts[1] = new QuadraticSegment(this.point(1 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 5 / 9.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 4 / 9.), .5), this.point(2 / 3.), this.color);\n  parts[2] = new QuadraticSegment(this.point(2 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 2 / 3.), p[2], this.color);\n};\n\n\nvar CubicSegment = function CubicSegment(p0, p1, p2, p3, color) {\n  EdgeSegment.call(this, color);\n  var p = this.p;\n  p[0] = p0;\n  p[1] = p1;\n  p[2] = p2;\n  p[3] = p3;\n};\n\nCubicSegment.prototype = Object.create(EdgeSegment.prototype);\nCubicSegment.prototype.constructor = CubicSegment;\n\nCubicSegment.prototype.point = function (param) {\n  var p = this.p;\n  var p12 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], param);\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], param), p12, param), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p12, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[2], p[3], param), param), param);\n};\n\nCubicSegment.prototype.clone = function () {\n  var p = this.p;\n  return new CubicSegment(p[0].clone(), p[1].clone(), p[2].clone(), p[3].clone(), this.color);\n};\n\nCubicSegment.prototype.direction = function (param) {\n  var p = this.p;\n\n  var tangent1 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]), param);\n  var tangent2 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], p[2]), param);\n  var tangent = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(tangent1, tangent2, param);\n\n  if (tangent.isEmtpy()) {\n    if (param == 0) return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[0]);\n    if (param == 1) return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], p[1]);\n  }\n  return tangent;\n};\n\nCubicSegment.prototype.signedDistance = function (origin) {\n  var p = this.p;\n  var qa = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[0], origin);\n  var ab = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n  var br = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).sub(ab);\n  var as = p[3].clone().sub(p[2]).sub(p[2]).add(p[1]).sub(br);\n\n  var epDir = this.direction(0);\n  var minDistance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(epDir, qa)) * qa.length(); // distance from A\n  var param = -Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qa, epDir) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(epDir, epDir);\n  {\n    epDir = this.direction(1);\n    var distance = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(epDir, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], origin))) * Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], origin).length(); // distance from B\n    if (fabs(distance) < fabs(minDistance)) {\n      minDistance = distance;\n      param = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(epDir, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], origin)), epDir) / Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(epDir, epDir);\n    }\n  }\n  // Iterative minimum distance search\n  for (var i = 0; i <= MSDFGEN_CUBIC_SEARCH_STARTS; ++i) {\n    var t = i / MSDFGEN_CUBIC_SEARCH_STARTS;\n    for (var step = 0;; ++step) {\n      var qe = p[0].clone().\n      add(ab.clone().multiplyScalar(3 * t)).\n      add(br.clone().multiplyScalar(3 * t * t)).\n      add(as.clone().multiplyScalar(t * t * t)).\n      sub(origin); // do not simplify with qa !!!\n\n      var _distance2 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["nonZeroSign"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(this.direction(t), qe)) * qe.length();\n      if (fabs(_distance2) < fabs(minDistance)) {\n        minDistance = _distance2;\n        param = t;\n      }\n      if (step == MSDFGEN_CUBIC_SEARCH_STEPS)\n      break;\n      // Improve t\n      var d1 = as.clone().multiplyScalar(3 * t * t).\n      add(br.clone().multiplyScalar(6 * t)).\n      add(ab.clone().multiplyScalar(3));\n      var d2 = as.clone().multiplyScalar(6 * t).\n      add(br.clone().multiplyScalar(6));\n      t -= Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qe, d1) / (Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(d1, d1) + Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(qe, d2));\n      if (t < 0 || t > 1)\n      break;\n    }\n  }\n\n  if (param >= 0 && param <= 1)\n  return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, 0, param);\n  if (param < .5)\n  return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(this.direction(0).normalize(), qa.normalize())), param);else\n\n  return new _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"](minDistance, fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(this.direction(1).normalizeExt(), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], origin).normalizeExt())), param);\n};\n\n\nCubicSegment.prototype.scanlineIntersections = function (x, dy, y) {\n  var total = 0;\n  var p = this.p;\n  var nextDY = y > p[0].y ? 1 : -1;\n  x[total] = p[0].x;\n  if (p[0].y == y) {\n    if (p[0].y < p[1].y || p[0].y == p[1].y && (p[0].y < p[2].y || p[0].y == p[2].y && p[0].y < p[3].y))\n    dy[total++] = 1;else\n\n    nextDY = 1;\n  }\n  {\n    var ab = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n    var br = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).sub(ab);\n    var as = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], p[2]).sub(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1])).sub(br);\n    var t = [];\n    var solutions = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["solveCubic"])(t, as.y, 3 * br.y, 3 * ab.y, p[0].y - y);\n\n    // Sort solutions\n    var tmp;\n    if (solutions >= 2) {\n      if (t[0] > t[1])\n      tmp = t[0], t[0] = t[1], t[1] = tmp;\n      if (solutions >= 3 && t[1] > t[2]) {\n        tmp = t[1], t[1] = t[2], t[2] = tmp;\n        if (t[0] > t[1])\n        tmp = t[0], t[0] = t[1], t[1] = tmp;\n      }\n    }\n    for (var i = 0; i < solutions && total < 3; ++i) {\n      if (t[i] > 0 && t[i] < 1) {\n        x[total] = p[0].x + 3 * t[i] * ab.x + 3 * t[i] * t[i] * br.x + t[i] * t[i] * t[i] * as.x;\n        if (nextDY * (ab.y + 2 * t[i] * br.y + t[i] * t[i] * as.y) >= 0) {\n          dy[total++] = nextDY;\n          nextDY = -nextDY;\n        }\n      }\n    }\n  }\n  if (p[3].y == y) {\n    if (nextDY > 0 && total > 0) {\n      --total;\n      nextDY = -1;\n    }\n    if ((p[3].y < p[2].y || p[3].y == p[2].y && (p[3].y < p[1].y || p[3].y == p[1].y && p[3].y < p[0].y)) && total < 3) {\n      x[total] = p[3].x;\n      if (nextDY < 0) {\n        dy[total++] = -1;\n        nextDY = 1;\n      }\n    }\n  }\n  if (nextDY != (y >= p[3].y ? 1 : -1)) {\n    if (total > 0)\n    --total;else\n\n    dy[total++] = nextDY;\n  }\n  return total;\n};\n\n\nCubicSegment.prototype.bounds = function (bounds) {\n  var p = this.p;\n\n  bounds.update(p[0]);\n  bounds.update(p[3]);\n\n  var a0 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[1], p[0]);\n  var a1 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[2], p[1]).sub(a0).multiplyScalar(2);\n  var a2 = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p[3], p[2].clone().multiplyScalar(3)).\n  add(p[1].clone().multiplyScalar(3)).\n  sub(p[0]);\n  var params;\n  var solutions = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["solveQuadratic"])(params, a2.x, a1.x, a0.x);\n  for (var i = 0; i < solutions; ++i) {\n    if (params[i] > 0 && params[i] < 1) {\n      bounds.update(this.point(params[i]));\n    }\n  }\n\n  solutions = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["solveQuadratic"])(params, a2.y, a1.y, a0.y);\n  for (var _i = 0; _i < solutions; ++_i) {\n    if (params[_i] > 0 && params[_i] < 1) {\n      bounds.update(this.point(params[_i]));\n    }\n  }\n};\n\nCubicSegment.prototype.moveStartPoint = function (to) {\n  var p = this.p;\n\n  p[1].add(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(to, p[0]));\n  p[0] = to;\n};\n\nCubicSegment.prototype.moveEndPoint = function (to) {\n  var p = this.p;\n\n  p[2].add(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(to, p[3]));\n  p[3] = to;\n};\n\n\nCubicSegment.prototype.splitInThirds = function (parts) {\n  var p = this.p;\n  var color = this.color;\n\n  parts[0] = new CubicSegment(p[0], p[0].equals(p[1]) ? p[0] : Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 1 / 3.),\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 1 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 1 / 3.), 1 / 3.), this.point(1 / 3.), color);\n  parts[1] = new CubicSegment(this.point(1 / 3.),\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 1 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 1 / 3.), 1 / 3.),\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 1 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[2], p[3], 1 / 3.), 1 / 3.), 2 / 3.),\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[0], p[1], 2 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 2 / 3.), 2 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 2 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[2], p[3], 2 / 3.), 2 / 3.), 1 / 3.),\n  this.point(2 / 3.), color);\n  parts[2] = new CubicSegment(this.point(2 / 3.),\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[1], p[2], 2 / 3.), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[2], p[3], 2 / 3.), 2 / 3.), p[2].equals(p[3]) ? p[3] : Object(_Math__WEBPACK_IMPORTED_MODULE_1__["mix"])(p[2], p[3], 2 / 3.),\n  p[3], color);\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/MSDF.js":\n/*!*********************************!*\\\n  !*** ./extensions/MSDF/MSDF.js ***!\n  \\*********************************/\n/*! exports provided: MSDF, Bitmap, Vector2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MSDF", function() { return MSDF; });\n/* harmony import */ var _EdgeColor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EdgeColor */ "./extensions/MSDF/EdgeColor.js");\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Vector2 */ "./extensions/MSDF/Vector2.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Vector2", function() { return _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"]; });\n\n/* harmony import */ var _Bitmap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Bitmap */ "./extensions/MSDF/Bitmap.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Bitmap", function() { return _Bitmap__WEBPACK_IMPORTED_MODULE_3__["Bitmap"]; });\n\n/* harmony import */ var _Edges__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Edges */ "./extensions/MSDF/Edges.js");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Shape */ "./extensions/MSDF/Shape.js");\n/* harmony import */ var _OverlappingContourCombiner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OverlappingContourCombiner */ "./extensions/MSDF/OverlappingContourCombiner.js");\n/* harmony import */ var _Selector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Selector */ "./extensions/MSDF/Selector.js");\n/* harmony import */ var _Scanline__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Scanline */ "./extensions/MSDF/Scanline.js");\n\n\n\n\n\n\n\n\n\n\n\n\nvar fabs = Math.abs;\n\nvar MSDF = function MSDF() {\n\n};\n\n/**\n    * \n    * @param {Bitmap} output \n    * @param {Path2D} shape \n    * @param {Number} range \n    * @param {Number} scale \n    * @param {THREE.Vector2} translate \n    */\nMSDF.generate = function (output, charInfo, range) {var\n  shape = charInfo.shape,translate = charInfo.translate,width = charInfo.width,height = charInfo.height;\n  var scale = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](1, 1);\n  var contourCombiner = new _OverlappingContourCombiner__WEBPACK_IMPORTED_MODULE_6__["OverlappingContourCombiner"](shape);\n  var p = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"]();\n\n  for (var y = 0; y < height; ++y) {\n    var row = y;\n    p.y = (y + .5) / scale.y - translate.y;\n    for (var x = 0; x < width; ++x) {\n      p.x = (x + .5) / scale.x - translate.x;\n\n      contourCombiner.reset(p);\n\n      for (var contourIndex = 0; contourIndex < shape.contours.length; contourIndex++) {\n        var contour = shape.contours[contourIndex];\n        if (!contour.edges.empty()) {\n          var edgeSelector = new _Selector__WEBPACK_IMPORTED_MODULE_7__["MultiDistanceSelector"](p);\n\n          var prevEdge = contour.edges.length >= 2 ? contour.edges[contour.edges.length - 2] : contour.edges[0];\n          var curEdge = contour.edges.back();\n          for (var edgeIndex = 0; edgeIndex < contour.edges.length; edgeIndex++) {\n            var nextEdge = contour.edges[edgeIndex];\n            edgeSelector.addEdge(prevEdge, curEdge, nextEdge);\n            prevEdge = curEdge;\n            curEdge = nextEdge;\n          }\n\n          contourCombiner.setContourEdgeSelection(contourIndex, edgeSelector);\n        }\n      }\n\n      var distance = contourCombiner.distance();\n      output.convert(x, row, distance, range);\n    }\n  }\n\n  distanceSignCorrection(output, shape, scale, translate, _Scanline__WEBPACK_IMPORTED_MODULE_8__["FILL_NONZERO"]);\n\n  var edgeThreshold = 1.0001;\n  var threshold = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"]();\n  threshold.x = edgeThreshold / (scale.x * range);\n  threshold.y = edgeThreshold / (scale.y * range);\n  msdfErrorCorrection(output, threshold);\n};\n\nMSDF.loadGlyph = function (path, bounds, fontSize, distanceRange) {\n  var shape = new _Shape__WEBPACK_IMPORTED_MODULE_5__["Shape"]();\n\n  shape.bounds = bounds;\n\n  MSDF.parseGlyph(path, shape, fontSize);\n  shape.normalizeExt();\n  MSDF.edgeColoringSimple(shape, 3.0, 0);\n\n  var pad = distanceRange >> 1;\n  var width = Math.ceil(bounds.x2 - bounds.x1) + pad + pad;\n  var height = Math.ceil(bounds.y2 - bounds.y1) + pad + pad;\n  var xOffset = Math.ceil(-bounds.x1) + pad;\n  var yOffset = Math.ceil(-bounds.y1) + pad;\n\n  return {\n    shape: shape,\n    translate: new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](xOffset, yOffset),\n    width: width,\n    height: height,\n    xOffset: xOffset,\n    yOffset: yOffset,\n    txOffset: -xOffset,\n    tyOffset: yOffset,\n    oH: bounds.y2 - bounds.y1,\n    oW: bounds.x2 - bounds.x1 };\n\n};\n\nMSDF.parseGlyph = function (path, shape) {\n  var position;\n\n  for (var i = 0; i < path.commands.length; i++) {\n    var command = path.commands[i];\n    switch (command.type) {\n      case "M":\n        shape.createContour();\n        position = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x, command.y);\n        break;\n\n      case "L":\n        var next = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x, command.y);\n        if (!next.equals(position)) {\n          shape.currentContour.addEdge(new _Edges__WEBPACK_IMPORTED_MODULE_4__["LinearSegment"](position, next));\n          position = next.clone();\n        }\n        break;\n\n      case "Q":\n        var next = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x, command.y);\n        var c1 = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x1, command.y1);\n        shape.currentContour.addEdge(new _Edges__WEBPACK_IMPORTED_MODULE_4__["QuadraticSegment"](position, c1, next));\n        position = next.clone();\n        break;\n\n      case "C":\n        var next = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x, command.y);\n        var c1 = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x1, command.y1);\n        var c2 = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"](command.x2, command.y2);\n        shape.currentContour.addEdge(new _Edges__WEBPACK_IMPORTED_MODULE_4__["CubicSegment"](position, c1, c2, next));\n        position = next.clone();\n        break;\n\n      case "Z":\n        // Need to close the path\n        if (shape.currentContour && shape.currentContour.edges.first()) {\n          var p = shape.currentContour.edges.first().p[0];\n          if (p && !p.equals(position)) {\n            var edge = new _Edges__WEBPACK_IMPORTED_MODULE_4__["LinearSegment"](position, p);\n            shape.currentContour.addEdge(edge);\n          }\n        }\n        break;\n      default:\n        debugger;\n        break;}\n\n  }\n};\n\n\n\nfunction switchColor(color, seed) {var banned = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["BLACK"];\n  var combined = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color) & banned;\n  if (combined === _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["RED"] || combined === _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["GREEN"] || combined === _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["BLUE"]) {\n    Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(color, combined ^ _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]);\n    return;\n  }\n  if (Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color) === _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["BLACK"] || Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color) === _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]) {\n    // static const EdgeColor start[3] = { CYAN, MAGENTA, YELLOW };\n    var start = [_EdgeColor__WEBPACK_IMPORTED_MODULE_0__["CYAN"], _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["MAGENTA"], _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["YELLOW"]];\n    Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(color, start[Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(seed) % 3]);\n    Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(seed, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(seed) / 3);\n    return;\n  }\n  var shifted = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color) << 1 + (Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(seed) & 1);\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(color, (shifted | shifted >> 3) & _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]);\n  Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(seed, Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(seed) >> 1);\n}\nMSDF.switchColor = switchColor;\n\nfunction isCorner(aDir, bDir, crossThreshold) {\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(aDir, bDir) <= 0 || fabs(Object(_Math__WEBPACK_IMPORTED_MODULE_1__["crossProduct"])(aDir, bDir)) > crossThreshold;\n}\n\n/** Assigns colors to edges of the shape in accordance to the multi-channel distance field technique.\n  *  May split some edges if necessary.\n  *  angleThreshold specifies the maximum angle (in radians) to be considered a corner, for example 3 (~172 degrees).\n  *  Values below 1/2 PI will be treated as the external angle.\n  */\nMSDF.edgeColoringSimple = function edgeColoringSimple(shape, angleThreshold) {var _seed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var seed = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refnew"])(_seed);\n  var crossThreshold = Math.sin(angleThreshold);\n  var corners = [];var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {\n    for (var _iterator = shape.contours[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {var contour = _step.value;\n      // Identify corners\n      corners.length = 0;\n      if (contour.edges.length > 0) {\n        var prevDirection = contour.edges.back().direction(1);\n        var index = 0;var _iteratorNormalCompletion2 = true;var _didIteratorError2 = false;var _iteratorError2 = undefined;try {\n          for (var _iterator2 = contour.edges[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {var edge = _step2.value;\n            if (isCorner(prevDirection.normalize(), edge.direction(0).normalize(), crossThreshold)) {\n              corners.push(index);\n            }\n            prevDirection = edge.direction(1);\n            index++;\n          }} catch (err) {_didIteratorError2 = true;_iteratorError2 = err;} finally {try {if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {_iterator2["return"]();}} finally {if (_didIteratorError2) {throw _iteratorError2;}}}\n      }\n      // Smooth contour\n      if (corners.length === 0) {var _iteratorNormalCompletion3 = true;var _didIteratorError3 = false;var _iteratorError3 = undefined;try {\n          for (var _iterator3 = contour.edges[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {var _edge = _step3.value;\n            _edge.color = _EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"];\n          }} catch (err) {_didIteratorError3 = true;_iteratorError3 = err;} finally {try {if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {_iterator3["return"]();}} finally {if (_didIteratorError3) {throw _iteratorError3;}}}\n      }\n      // "Teardrop" case\n      else if (corners.length === 1) {\n          var colors = [Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refnew"])(_EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refnew"])(_EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]), Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refnew"])(_EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"])];\n          switchColor(colors[0], seed);\n          Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refset"])(colors[2], Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[0]));\n          switchColor(colors[2], seed);\n          var corner = corners[0];\n          if (contour.edges.length >= 3) {\n            var m = contour.edges.length;\n            for (var i = 0; i < m; ++i) {\n              contour.edges[(corner + i) % m].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[1 + Math.floor(3 + 2.875 * i / (m - 1) - 1.4375 + .5) - 3]);\n            }\n          } else\n          if (contour.edges.length >= 1) {\n            // Less than three edge segments for three colors => edges must be split\n            var parts = [];\n            var tempParts = [];\n            contour.edges[0].splitInThirds(tempParts);\n            parts[0 + 3 * corner] = tempParts[0];\n            parts[1 + 3 * corner] = tempParts[1];\n            parts[2 + 3 * corner] = tempParts[2];\n            if (contour.edges.length >= 2) {\n              contour.edges[1].splitInThirds(tempParts);\n              parts[3 - 3 * corner] = tempParts[0];\n              parts[4 - 3 * corner] = tempParts[1];\n              parts[5 - 3 * corner] = tempParts[2];\n\n              parts[0].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[0]);\n              parts[1].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[0]);\n\n              parts[2].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[1]);\n              parts[3].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[1]);\n\n              parts[4].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[2]);\n              parts[5].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[2]);\n            } else\n            {\n              parts[0].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[0]);\n              parts[1].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[1]);\n              parts[2].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(colors[2]);\n            }\n            contour.edges.length = 0;\n            for (var _i = 0; parts[_i]; ++_i) {\n              contour.edges.push(parts[_i]);\n            }\n          }\n        }\n        // Multiple corners\n        else {\n            var cornerCount = corners.length;\n            var spline = 0;\n            var start = corners[0];\n            var _m = contour.edges.length;\n            var color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refnew"])(_EdgeColor__WEBPACK_IMPORTED_MODULE_0__["WHITE"]);\n            switchColor(color, seed);\n            var initialColor = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color);\n            for (var _i2 = 0; _i2 < _m; ++_i2) {\n              var _index = (start + _i2) % _m;\n              if (spline + 1 < cornerCount && corners[spline + 1] === _index) {\n                ++spline;\n                switchColor(color, seed, (spline === cornerCount - 1 ? 1 : 0) * initialColor);\n              }\n              contour.edges[_index].color = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["refget"])(color);\n            }\n          }\n    }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator["return"] != null) {_iterator["return"]();}} finally {if (_didIteratorError) {throw _iteratorError;}}}\n};\n\nfunction pixelClash(a, b, threshold) {\n  // Only consider pair where both are on the inside or both are on the outside\n  var aIn = (a.r > .5 ? 1 : 0) + (a.g > .5 ? 1 : 0) + (a.b > .5 ? 1 : 0) >= 2;\n  var bIn = (b.r > .5 ? 1 : 0) + (b.g > .5 ? 1 : 0) + (b.b > .5 ? 1 : 0) >= 2;\n  if (aIn !== bIn) {\n    return false;\n  }\n  // If the change is 0 <-> 1 or 2 <-> 3 channels and not 1 <-> 1 or 2 <-> 2, it is not a clash\n  if (a.r > .5 && a.g > .5 && a.b > .5 || a.r < .5 && a.g < .5 && a.b < .5 ||\n  b.r > .5 && b.g > .5 && b.b > .5 || b.r < .5 && b.g < .5 && b.b < .5) {\n    return false;\n  }\n  // Find which color is which: _a, _b = the changing channels, _c = the remaining one\n  var aa, ab, ba, bb, ac, bc;\n  if (a.r > .5 !== b.r > .5 && a.r < .5 !== b.r < .5) {\n    aa = a.r, ba = b.r;\n    if (a.g > .5 !== b.g > .5 && a.g < .5 !== b.g < .5) {\n      ab = a.g, bb = b.g;\n      ac = a.b, bc = b.b;\n    } else\n    if (a.b > .5 !== b.b > .5 && a.b < .5 !== b.b < .5) {\n      ab = a.b, bb = b.b;\n      ac = a.g, bc = b.g;\n    } else\n    {\n      return false; // this should never happen\n    }\n  } else\n  if (a.g > .5 !== b.g > .5 && a.g < .5 !== b.g < .5 &&\n  a.b > .5 !== b.b > .5 && a.b < .5 !== b.b < .5) {\n    aa = a.g, ba = b.g;\n    ab = a.b, bb = b.b;\n    ac = a.r, bc = b.r;\n  } else\n  {\n    return false;\n  }\n  // Find if the channels are in fact discontinuous\n  return Math.abs(aa - ba) >= threshold &&\n  Math.abs(ab - bb) >= threshold &&\n  Math.abs(ac - .5) >= Math.abs(bc - .5); // Out of the pair, only flag the pixel farther from a shape edge\n}\n\nfunction msdfErrorCorrection(bitmap, threshold) {\n  var clashes = [];\n  var w = bitmap.width,h = bitmap.height;\n  for (var y = 0; y < h; ++y) {\n    for (var x = 0; x < w; ++x) {\n      if (x > 0 && pixelClash(bitmap.get(x, y), bitmap.get(x - 1, y), threshold.x) ||\n      x < w - 1 && pixelClash(bitmap.get(x, y), bitmap.get(x + 1, y), threshold.x) ||\n      y > 0 && pixelClash(bitmap.get(x, y), bitmap.get(x, y - 1), threshold.y) ||\n      y < h - 1 && pixelClash(bitmap.get(x, y), bitmap.get(x, y + 1), threshold.y)) {\n        clashes.push({ x: x, y: y });\n      }\n    }\n  }\n  for (var _i3 = 0, _clashes = clashes; _i3 < _clashes.length; _i3++) {var clash = _clashes[_i3];\n    var pixel = bitmap.get(clash.x, clash.y);\n    var med = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["median"])(pixel.r, pixel.g, pixel.b);\n    bitmap.setRGB(clash.x, clash.y, [med, med, med]);\n  }\n}\n\nfunction distanceSignCorrection(sdf, shape, scale, translate, fillRule) {\n  var w = sdf.width,h = sdf.height;\n  if (!(w * h))\n  return;\n  var p = new _Vector2__WEBPACK_IMPORTED_MODULE_2__["Vector2"]();\n  var scanline = new _Scanline__WEBPACK_IMPORTED_MODULE_8__["Scanline"]();\n  var ambiguous = false;\n  var matchMap = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n\n  var match = 0;\n  for (var y = 0; y < h; ++y) {\n    var row = y;\n    p.y = (y + .5) / scale.y - translate.y;\n\n    shape.scanline(scanline, p.y);\n    for (var x = 0; x < w; ++x) {\n      p.x = (x + .5) / scale.x - translate.x;\n      var fill = scanline.filled(p.x, fillRule) ? 1 : 0;\n\n\n      var msd = sdf.getRaw(x, row);\n      var sd = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["median"])(msd[0], msd[1], msd[2]);\n      if (sd == .5) {\n        ambiguous = true;\n      } else\n      if ((sd > .5 ? 1 : 0) != fill) {\n        var value = [];\n        value[0] = 1. - msd[0];\n        value[1] = 1. - msd[1];\n        value[2] = 1. - msd[2];\n        sdf.setRGB(x, row, value);\n        matchMap[match] = -1;\n      } else\n      matchMap[match] = 1;\n      ++match;\n    }\n  }\n  // This step is necessary to avoid artifacts when whole shape is inverted\n  if (ambiguous) {\n    match = 0;\n    for (var _y = 0; _y < h; ++_y) {\n      var _row = _y;\n      for (var _x = 0; _x < w; ++_x) {\n        if (!matchMap[match]) {\n          var neighborMatch = 0;\n          if (_x > 0) neighborMatch += matchMap[match - 1];\n          if (_x < w - 1) neighborMatch += matchMap[match + 1];\n          if (_y > 0) neighborMatch += matchMap[match - w];\n          if (_y < h - 1) neighborMatch += matchMap[match + w];\n          if (neighborMatch < 0) {\n            var _msd = sdf.getRaw(_x, _row);\n            var _value = [];\n            _value[0] = 1 - _msd[0];\n            _value[1] = 1 - _msd[1];\n            _value[2] = 1 - _msd[2];\n            sdf.setRGB(_x, _row, _value);\n          }\n        }\n        ++match;\n      }\n    }\n  }\n}\n\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Math.js":\n/*!*********************************!*\\\n  !*** ./extensions/MSDF/Math.js ***!\n  \\*********************************/\n/*! exports provided: mixFloat, mix, sign, nonZeroSign, solveCubic, solveQuadratic, solveCubicNormed, crossProduct, dotProduct, subVectors, median, shoelace, refnew, refget, refset, mixInArray, createArray */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mixFloat", function() { return mixFloat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mix", function() { return mix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sign", function() { return sign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nonZeroSign", function() { return nonZeroSign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "solveCubic", function() { return solveCubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "solveQuadratic", function() { return solveQuadratic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "solveCubicNormed", function() { return solveCubicNormed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "crossProduct", function() { return crossProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dotProduct", function() { return dotProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "subVectors", function() { return subVectors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "median", function() { return median; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shoelace", function() { return shoelace; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refnew", function() { return refnew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refget", function() { return refget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refset", function() { return refset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mixInArray", function() { return mixInArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createArray", function() { return createArray; });\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./extensions/MSDF/Vector2.js");\n\nvar fabs = Math.abs;\nvar pow = Math.pow;\nvar sqrt = Math.sqrt;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar acos = Math.acos;\nvar M_PI = Math.PI;\n\nfunction mixFloat(x, y, lerp) {\n  return x + (y - x) * lerp;\n};\n\nfunction mix(p0, p1, lerp) {\n  return new _Vector2__WEBPACK_IMPORTED_MODULE_0__["Vector2"](\n  p0.x + lerp * (p1.x - p0.x),\n  p0.y + lerp * (p1.y - p0.y));\n\n};\n\nfunction sign(n) {\n  return n < 0 ? -1 : 0 < n ? 1 : 0;\n};\n\nfunction nonZeroSign(value) {\n  var sign = value > 0 ? 1 : 0;\n  return 2 * sign - 1;\n};\n\nfunction solveCubic(x, a, b, c, d) {\n  if (fabs(a) < 1e-14)\n  return solveQuadratic(x, b, c, d);\n  return solveCubicNormed(x, b / a, c / a, d / a);\n};\n\nfunction solveQuadratic(x, a, b, c) {\n  if (fabs(a) < 1e-14) {\n    if (fabs(b) < 1e-14) {\n      if (c == 0)\n      return -1;\n      return 0;\n    }\n    x[0] = -c / b;\n    return 1;\n  }\n  var dscr = b * b - 4 * a * c;\n  if (dscr > 0) {\n    dscr = sqrt(dscr);\n    x[0] = (-b + dscr) / (2 * a);\n    x[1] = (-b - dscr) / (2 * a);\n    return 2;\n  } else if (dscr == 0) {\n    x[0] = -b / (2 * a);\n    return 1;\n  } else\n  return 0;\n}\n\nfunction solveCubicNormed(x, a, b, c) {\n  var a2 = a * a;\n  var q = (a2 - 3 * b) / 9;\n  var r = (a * (2 * a2 - 9 * b) + 27 * c) / 54;\n  var r2 = r * r;\n  var q3 = q * q * q;\n  var A, B;\n  if (r2 < q3) {\n    var t = r / sqrt(q3);\n    if (t < -1) t = -1;\n    if (t > 1) t = 1;\n    t = acos(t);\n    a /= 3;q = -2 * sqrt(q);\n    x[0] = q * cos(t / 3) - a;\n    x[1] = q * cos((t + 2 * M_PI) / 3) - a;\n    x[2] = q * cos((t - 2 * M_PI) / 3) - a;\n    return 3;\n  } else {\n    A = -pow(fabs(r) + sqrt(r2 - q3), 1 / 3.);\n    if (r < 0) A = -A;\n    B = A == 0 ? 0 : q / A;\n    a /= 3;\n    x[0] = A + B - a;\n    x[1] = -0.5 * (A + B) - a;\n    x[2] = 0.5 * sqrt(3.) * (A - B);\n    if (fabs(x[2]) < 1e-14)\n    return 2;\n    return 1;\n  }\n}\n\n\nfunction crossProduct(p0, p1) {\n  return p0.cross(p1);\n}\n\nfunction dotProduct(p0, p1) {\n  return p0.dot(p1);\n}\n\nfunction subVectors(p0, p1) {\n  return new _Vector2__WEBPACK_IMPORTED_MODULE_0__["Vector2"]().subVectors(p0, p1);\n};\n\nfunction median(a, b, c) {\n  return Math.max(Math.min(a, b), Math.min(Math.max(a, b), c));\n};\n\n/**\n    * used by ShapeUtils.js in Threejs\n    * @param {THREE.Vector2} a \n    * @param {THREE.Vector2} b \n    */\nfunction shoelace(a, b) {\n  return (b.x - a.x) * (a.y + b.y);\n};\n\nfunction refnew(val) {return [val];};\nfunction refget(ref) {return ref[0];};\nfunction refset(ref, val) {ref[0] = val;return ref;};\n\nfunction clearArray() {\n  this.length = 0;\n}\n\nfunction isEmpty() {\n  return this.length == 0;\n};\n\nfunction mixInArray(array) {\n  array.clear = clearArray.bind(array);\n  array.empty = isEmpty.bind(array);\n\n  array.size = function () {\n    return array.length;\n  };\n\n  array.back = function () {\n    return array[array.length - 1];\n  };\n\n  array.push_back = function (item) {\n    array.push(item);\n  };\n\n  array.first = function () {\n    return array[0];\n  };\n};\n\nfunction createArray() {\n  var result = [];\n  mixInArray(result);\n  return result;\n}\n\n/***/ }),\n\n/***/ "./extensions/MSDF/OverlappingContourCombiner.js":\n/*!*******************************************************!*\\\n  !*** ./extensions/MSDF/OverlappingContourCombiner.js ***!\n  \\*******************************************************/\n/*! exports provided: OverlappingContourCombiner */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverlappingContourCombiner", function() { return OverlappingContourCombiner; });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n/* harmony import */ var _Selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Selector */ "./extensions/MSDF/Selector.js");\n/* harmony import */ var _SignedDistance__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SignedDistance */ "./extensions/MSDF/SignedDistance.js");\n\n\n\n\nvar fabs = Math.abs;\n\n\nfunction initDistance(distance) {\n  distance.r = _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"].Infinity;\n  distance.g = _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"].Infinity;\n  distance.b = _SignedDistance__WEBPACK_IMPORTED_MODULE_2__["SignedDistance"].Infinity;\n};\n\nfunction resolveDistance(distance) {\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_0__["median"])(distance.r, distance.g, distance.b);\n};\n\n\n/**\n    * \n    * @param {Contour[]} shape \n    */\nvar OverlappingContourCombiner = function OverlappingContourCombiner(shape) {\n  /**\n                                                                              * Array of Integers, 1 means clockwise, -1 means counter-clockwise\n                                                                              */\n  var windings = shape.windings;\n  var edgeSelectors = Object(_Math__WEBPACK_IMPORTED_MODULE_0__["createArray"])();\n  var shapeEdgeSelector, innerEdgeSelector, outerEdgeSelector;\n\n  // console.log(windings);\n\n  shapeEdgeSelector = new _Selector__WEBPACK_IMPORTED_MODULE_1__["MultiDistanceSelector"]();\n  innerEdgeSelector = new _Selector__WEBPACK_IMPORTED_MODULE_1__["MultiDistanceSelector"]();\n  outerEdgeSelector = new _Selector__WEBPACK_IMPORTED_MODULE_1__["MultiDistanceSelector"]();\n\n  this.reset = function (p) {\n    shapeEdgeSelector.reset(p);\n    innerEdgeSelector.reset(p);\n    outerEdgeSelector.reset(p);\n  };\n\n  this.setContourEdgeSelection = function (i, edgeSelector) {\n    var edgeDistance = edgeSelector.distance();\n    edgeSelectors[i] = edgeSelector;\n    shapeEdgeSelector.merge(edgeSelector);\n    // counter clockwise and indicate the pint is inside\n    if (windings[i] > 0 && resolveDistance(edgeDistance) >= 0) {\n      innerEdgeSelector.merge(edgeSelector);\n    }\n    // clockwise and indicate the pint is inside\n    if (windings[i] < 0 && resolveDistance(edgeDistance) <= 0) {\n      outerEdgeSelector.merge(edgeSelector);\n    }\n  };\n\n  this.distance = function () {\n    var shapeDistance = shapeEdgeSelector.distance();\n    var innerDistance = innerEdgeSelector.distance();\n    var outerDistance = outerEdgeSelector.distance();\n    var innerScalarDistance = resolveDistance(innerDistance);\n    var outerScalarDistance = resolveDistance(outerDistance);\n    var distance = new _Selector__WEBPACK_IMPORTED_MODULE_1__["Multidistance"]();\n    initDistance(distance);\n    var contourCount = windings.length;\n\n    var winding = 0;\n    if (innerScalarDistance >= 0 && fabs(innerScalarDistance) <= fabs(outerScalarDistance)) {\n      distance.copy(innerDistance);\n      winding = 1;\n      for (var i = 0; i < contourCount; ++i) {\n        if (windings[i] > 0) {\n          var contourDistance = edgeSelectors[i].distance();\n          if (fabs(resolveDistance(contourDistance)) < fabs(outerScalarDistance) && resolveDistance(contourDistance) > resolveDistance(distance))\n          distance.copy(contourDistance);\n        }}\n    } else if (outerScalarDistance <= 0 && fabs(outerScalarDistance) < fabs(innerScalarDistance)) {\n      distance.copy(outerDistance);\n      winding = -1;\n      for (var _i = 0; _i < contourCount; ++_i) {\n        if (windings[_i] < 0) {\n          var _contourDistance = edgeSelectors[_i].distance();\n          if (fabs(resolveDistance(_contourDistance)) < fabs(innerScalarDistance) && resolveDistance(_contourDistance) < resolveDistance(distance))\n          distance.copy(_contourDistance);\n        }}\n    }\n    // Kevin: Comment out this code from the original code, I spent days to figure out the error\n    // Please keep this comments to compare with the original implementation\n    // else\n    //     return distance.copy(shapeDistance);\n\n    for (var _i2 = 0; _i2 < contourCount; ++_i2) {\n      if (windings[_i2] != winding && edgeSelectors[_i2]) {\n        var _contourDistance2 = edgeSelectors[_i2].distance();\n        if (resolveDistance(_contourDistance2) * resolveDistance(distance) >= 0 && fabs(resolveDistance(_contourDistance2)) < fabs(resolveDistance(distance)))\n        distance.copy(_contourDistance2);\n      }}\n    if (resolveDistance(distance) == resolveDistance(shapeDistance))\n    distance.copy(shapeDistance);\n    return distance;\n  };\n};\n\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Scanline.js":\n/*!*************************************!*\\\n  !*** ./extensions/MSDF/Scanline.js ***!\n  \\*************************************/\n/*! exports provided: Scanline, FILL_NONZERO, FILL_NEGATIVE, FILL_ODD, FILL_POSITIVE */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scanline", function() { return Scanline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILL_NONZERO", function() { return FILL_NONZERO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILL_NEGATIVE", function() { return FILL_NEGATIVE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILL_ODD", function() { return FILL_ODD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILL_POSITIVE", function() { return FILL_POSITIVE; });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n\n\n\nvar FILL_NONZERO = 1;\nvar FILL_ODD = 2; // "even-odd"\nvar FILL_POSITIVE = 3;\nvar FILL_NEGATIVE = 4;\n\nfunction compareIntersections(a, b) {\n  return Object(_Math__WEBPACK_IMPORTED_MODULE_0__["sign"])(a.x - b.x);\n}\n\nfunction interpretFillRule(intersections, fillRule) {\n  switch (fillRule) {\n    case FILL_NONZERO:\n      return intersections != 0;\n    case FILL_ODD:\n      return intersections & 1;\n    case FILL_POSITIVE:\n      return intersections > 0;\n    case FILL_NEGATIVE:\n      return intersections < 0;}\n\n  return false;\n}\n\n\nfunction overlap(a, b, xFrom, xTo, fillRule) {\n  var total = 0;\n  var aInside = false,bInside = false;\n  var ai = 0,bi = 0;\n  var ax = !a.intersections.empty() ? a.intersections[ai].x : xTo;\n  var bx = !b.intersections.empty() ? b.intersections[bi].x : xTo;\n  while (ax < xFrom || bx < xFrom) {\n    var xNext = min(ax, bx);\n    if (ax == xNext && ai < a.intersections.size()) {\n      aInside = interpretFillRule(a.intersections[ai].direction, fillRule);\n      ax = ++ai < a.intersections.size() ? a.intersections[ai].x : xTo;\n    }\n    if (bx == xNext && bi < b.intersections.size()) {\n      bInside = interpretFillRule(b.intersections[bi].direction, fillRule);\n      bx = ++bi < b.intersections.size() ? b.intersections[bi].x : xTo;\n    }\n  }\n  var x = xFrom;\n  while (ax < xTo || bx < xTo) {\n    var _xNext = min(ax, bx);\n    if (aInside == bInside)\n    total += _xNext - x;\n    if (ax == _xNext && ai < a.intersections.size()) {\n      aInside = interpretFillRule(a.intersections[ai].direction, fillRule);\n      ax = ++ai < a.intersections.size() ? a.intersections[ai].x : xTo;\n    }\n    if (bx == _xNext && bi < b.intersections.size()) {\n      bInside = interpretFillRule(b.intersections[bi].direction, fillRule);\n      bx = ++bi < b.intersections.size() ? b.intersections[bi].x : xTo;\n    }\n    x = _xNext;\n  }\n  if (aInside == bInside)\n  total += xTo - x;\n  return total;\n}\n\nvar Scanline = function Scanline() {\n  var intersections = Object(_Math__WEBPACK_IMPORTED_MODULE_0__["createArray"])();\n  var lastIndex = 0;\n\n  this.intersections = intersections;\n  this.preprocess = function () {\n    lastIndex = 0;\n    if (!intersections.empty()) {\n      intersections.sort(compareIntersections);\n\n      var totalDirection = 0;var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {\n        for (var _iterator = intersections[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {var intersection = _step.value;\n          totalDirection += intersection.direction;\n          intersection.direction = totalDirection;\n        }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator["return"] != null) {_iterator["return"]();}} finally {if (_didIteratorError) {throw _iteratorError;}}}\n    }\n  };\n\n  this.setIntersections = function (value) {\n    intersections = value;\n    this.intersections = value;\n\n    this.preprocess();\n  };\n\n  this.moveTo = function (x) {\n    if (intersections.empty())\n    return -1;\n    var index = lastIndex;\n    if (x < intersections[index].x) {\n      do {\n        if (index == 0) {\n          lastIndex = 0;\n          return -1;\n        }\n        --index;\n      } while (x < intersections[index].x);\n    } else {\n      while (index < intersections.size() - 1 && x >= intersections[index + 1].x) {\n        ++index;}\n    }\n    lastIndex = index;\n    return index;\n  };\n\n  this.countIntersections = function (x) {\n    return this.moveTo(x) + 1;\n  };\n\n  this.sumIntersections = function (x) {\n    var index = this.moveTo(x);\n    if (index >= 0)\n    return intersections[index].direction;\n    return 0;\n  };\n\n  this.filled = function (x, fillRule) {\n    return interpretFillRule(this.sumIntersections(x), fillRule);\n  };\n\n};\n\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Selector.js":\n/*!*************************************!*\\\n  !*** ./extensions/MSDF/Selector.js ***!\n  \\*************************************/\n/*! exports provided: PseudoDistanceSelectorBase, MultiDistanceSelector, Multidistance */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PseudoDistanceSelectorBase", function() { return PseudoDistanceSelectorBase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiDistanceSelector", function() { return MultiDistanceSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Multidistance", function() { return Multidistance; });\n/* harmony import */ var _SignedDistance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SignedDistance */ "./extensions/MSDF/SignedDistance.js");\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n/* harmony import */ var _EdgeColor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EdgeColor */ "./extensions/MSDF/EdgeColor.js");\n\n\n\n\n\nvar fabs = Math.abs;\n\nvar PseudoDistanceSelectorBase = function PseudoDistanceSelectorBase() {\n  this.minTrueDistance = new _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"](_SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity, 1);\n  this.minNegativePseudoDistance = new _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"](_SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity, 1);\n  this.minPositivePseudoDistance = new _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"](_SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity, 1);\n\n  this.nearEdgeParam = 0;\n  this.nearEdge = null;\n};\n\nPseudoDistanceSelectorBase.prototype.reset = function () {\n  this.minTrueDistance.reset();\n  this.minNegativePseudoDistance.reset();\n  this.minPositivePseudoDistance.reset();\n\n  this.nearEdgeParam = 0;\n  this.nearEdge = null;\n};\n\nPseudoDistanceSelectorBase.pointFacingEdge = function (prevEdge, edge, nextEdge, p, param) {\n  if (param < 0) {\n    var prevEdgeDir = prevEdge.direction(1).normalizeExt(true).multiplyScalar(-1);\n    var edgeDir = edge.direction(0).normalizeExt(true);\n    var pointDir = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p, edge.point(0));\n    return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(pointDir, edgeDir) >= Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(pointDir, prevEdgeDir);\n  }\n  if (param > 1) {\n    var _edgeDir = edge.direction(1).normalizeExt(true).multiplyScalar(-1);;\n    var nextEdgeDir = nextEdge.direction(0).normalizeExt(true);\n    var _pointDir = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["subVectors"])(p, edge.point(1));\n    return Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(_pointDir, _edgeDir) >= Object(_Math__WEBPACK_IMPORTED_MODULE_1__["dotProduct"])(_pointDir, nextEdgeDir);\n  }\n  return true;\n};\n\nPseudoDistanceSelectorBase.prototype.addEdgeTrueDistance = function (edge, distance, param) {\n  if (distance.lt(this.minTrueDistance)) {\n    this.minTrueDistance.copy(distance);\n    this.nearEdge = edge;\n    this.nearEdgeParam = param;\n  }\n};\n\nPseudoDistanceSelectorBase.prototype.addEdgePseudoDistance = function (distance) {\n  var minPseudoDistance = distance.distance < 0 ? this.minNegativePseudoDistance : this.minPositivePseudoDistance;\n  if (distance.lt(minPseudoDistance)) {\n    minPseudoDistance.copy(distance);\n  }\n};\n\nPseudoDistanceSelectorBase.prototype.merge = function (other) {\n  if (other.minTrueDistance.lt(this.minTrueDistance)) {\n    this.minTrueDistance.copy(other.minTrueDistance);\n    this.nearEdge = other.nearEdge;\n    this.nearEdgeParam = other.nearEdgeParam;\n  }\n\n  if (other.minNegativePseudoDistance.lt(this.minNegativePseudoDistance)) {\n    this.minNegativePseudoDistance.copy(other.minNegativePseudoDistance);\n  }\n  if (other.minPositivePseudoDistance.lt(this.minPositivePseudoDistance)) {\n    this.minPositivePseudoDistance.copy(other.minPositivePseudoDistance);\n  }\n};\n\nPseudoDistanceSelectorBase.prototype.computeDistance = function (p) {\n  var minDistance = this.minTrueDistance.distance < 0 ? this.minNegativePseudoDistance.distance : this.minPositivePseudoDistance.distance;\n  if (this.nearEdge) {\n    var distance = this.minTrueDistance;\n    this.nearEdge.distanceToPseudoDistance(distance, p, this.nearEdgeParam);\n    if (fabs(distance.distance) < fabs(minDistance)) {\n      minDistance = distance.distance;\n    }\n  }\n  return minDistance;\n};\n\nvar Multidistance = function Multidistance() {\n  this.r = _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity;\n  this.g = _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity;\n  this.b = _SignedDistance__WEBPACK_IMPORTED_MODULE_0__["SignedDistance"].Infinity;\n};\n\nMultidistance.prototype.copy = function (other) {\n  this.r = other.r;\n  this.g = other.g;\n  this.b = other.b;\n\n  return this;\n};\n\nvar MultiDistanceSelector = function MultiDistanceSelector(p) {\n  if (p) {\n    this.p = p.clone();\n  }\n\n  this.r = new PseudoDistanceSelectorBase();\n  this.g = new PseudoDistanceSelectorBase();\n  this.b = new PseudoDistanceSelectorBase();\n};\n\nMultiDistanceSelector.prototype.reset = function (p) {\n  this.p = p.clone();\n  this.r.reset();\n  this.g.reset();\n  this.b.reset();\n};\n\nMultiDistanceSelector.prototype.addEdge = function (prevEdge, edge, nextEdge) {\n  var p = this.p;\n  var distance = edge.signedDistance(p);\n  var param = distance.lerp;\n  if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["RED"]) {\n    this.r.addEdgeTrueDistance(edge, distance, param);\n  }\n\n  if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["GREEN"]) {\n    this.g.addEdgeTrueDistance(edge, distance, param);\n  }\n\n  if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["BLUE"]) {\n    this.b.addEdgeTrueDistance(edge, distance, param);\n  }\n  if (PseudoDistanceSelectorBase.pointFacingEdge(prevEdge, edge, nextEdge, p, param)) {\n    edge.distanceToPseudoDistance(distance, p, param);\n    if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["RED"]) {\n      this.r.addEdgePseudoDistance(distance);\n    }\n    if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["GREEN"]) {\n      this.g.addEdgePseudoDistance(distance);\n    }\n    if (edge.color & _EdgeColor__WEBPACK_IMPORTED_MODULE_2__["BLUE"]) {\n      this.b.addEdgePseudoDistance(distance);\n    }\n  }\n};\n\nMultiDistanceSelector.prototype.merge = function (other) {\n  this.r.merge(other.r);\n  this.g.merge(other.g);\n  this.b.merge(other.b);\n};\n\nMultiDistanceSelector.prototype.distance = function () {\n  var multiDistance = new Multidistance();\n\n  multiDistance.r = this.r.computeDistance(this.p);\n  multiDistance.g = this.g.computeDistance(this.p);\n  multiDistance.b = this.b.computeDistance(this.p);\n\n  return multiDistance;\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Shape.js":\n/*!**********************************!*\\\n  !*** ./extensions/MSDF/Shape.js ***!\n  \\**********************************/\n/*! exports provided: Shape */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Shape", function() { return Shape; });\n/* harmony import */ var _Contour__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Contour */ "./extensions/MSDF/Contour.js");\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Math */ "./extensions/MSDF/Math.js");\n\n\n\nvar Shape = function Shape() {\n  this.inverseYAxis = false;\n  this.contours = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n  this.windings = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n  this.bounds = null;\n};\n\nShape.prototype.createContour = function () {\n  if (this.currentContour && this.currentContour.edges.length == 0) {\n    this.contours.pop();\n  }\n\n  var contour = new _Contour__WEBPACK_IMPORTED_MODULE_0__["Contour"]();\n  this.addContour(contour);\n  this.currentContour = contour;\n};\n\nShape.prototype.addContour = function (contour) {\n  this.contours.push(contour);\n};\n\nShape.prototype.checkWinding = function () {\n  this.initWinding();\n  // decide winding, find the largest area and use it for 1, if it is negative, revert all of it\n  var l = 0;\n  for (var i = 0; i < this.windings.length; i++) {\n    if (Math.abs(l) < Math.abs(this.windings[i])) {\n      l = this.windings[i];\n    }\n    this.windings[i] = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["sign"])(this.windings[i]);\n  }\n\n  // rewind the contour if first contour winding is counterclockwise\n  if (l < 0) {\n    this.inverseYAxis = true;\n  }\n\n  if (this.inverseYAxis) {\n    this.inverseY();\n  }\n};\n\nShape.prototype.initWinding = function () {\n  if (this.windings.length == 0) {\n    for (var i = 0; i < this.contours.length; i++) {\n      this.windings.push(this.contours[i].winding());\n    }\n  }\n};\n\nShape.prototype.inverseY = function () {\n  for (var i = 0; i < this.windings.length; i++) {\n    this.windings[i] *= -1;\n  }\n\n  for (var _i = 0; _i < this.contours.length; _i++) {\n    this.contours[_i].inverseY();\n  }\n\n  // need to flip the bounds as well\n  if (this.bounds) {\n    var y1 = -this.bounds.y1;\n    var y2 = -this.bounds.y2;\n    this.bounds.y1 = y2;\n    this.bounds.y2 = y1;\n  }\n};\n\nShape.prototype.validate = function () {var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {\n    for (var _iterator = this.contours[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {var contour = _step.value;\n      if (!contour.edges.empty()) {\n        var corner = contour.edges[contour.edges.length - 1].point(1);\n        for (var edgeIndex = 0; edgeIndex < contour.edges.length - 1; edgeIndex++) {\n          var edge = contour.edges[edgeIndex];\n          if (!edge)\n          return false;\n          if (edge.point(0) != corner)\n          return false;\n          corner = edge.point(1);\n        }\n      }\n    }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator["return"] != null) {_iterator["return"]();}} finally {if (_didIteratorError) {throw _iteratorError;}}}\n  return true;\n};\n\nShape.prototype.normalizeExt = function () {\n  for (var i = 0; i < this.contours.length; i++) {\n    var contour = this.contours[i];\n    if (contour.edges.size() == 1) {\n      var parts = [];\n      contour.edges[0].splitInThirds(parts);\n      contour.edges.clear();\n      contour.edges.push(new EdgeHolder(parts[0]));\n      contour.edges.push(new EdgeHolder(parts[1]));\n      contour.edges.push(new EdgeHolder(parts[2]));\n    }\n  }\n\n  this.checkWinding();\n};\n\nShape.prototype.bounds = function (bounds) {\n  for (var i = 0; i < this.contours.length; i++) {\n    var contour = this.contours[i];\n    contour.bounds(bounds);\n  }\n};\n\nShape.prototype.miterBounds = function (bounds, miterLimit) {\n  for (var i = 0; i < this.contours.length; i++) {\n    var contour = this.contours[i];\n    contour.miterBounds(bounds, miterLimit);\n  }\n};\n\nShape.prototype.scanline = function (line, y) {\n  var intersections = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n  var x = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n  var dy = Object(_Math__WEBPACK_IMPORTED_MODULE_1__["createArray"])();\n\n  for (var i = 0; i < this.contours.length; i++) {\n    var contour = this.contours[i];\n    for (var edgeIndex = 0; edgeIndex < contour.edges.length; edgeIndex++) {\n      var edge = contour.edges[edgeIndex];\n      var n = edge.scanlineIntersections(x, dy, y);\n      for (var _i2 = 0; _i2 < n; ++_i2) {\n        var intersection = { x: x[_i2], direction: dy[_i2] };\n        intersections.push(intersection);\n      }\n    }\n  }\n\n  line.setIntersections(intersections);\n};\n\nShape.prototype.debug = function () {\n  var windings = this.windings;\n  var contours = this.contours;\n\n  var result = "\\nvar myPath = new CompoundPath();\\nmyPath.strokeColor = \'black\';\\n    ";var _iteratorNormalCompletion2 = true;var _didIteratorError2 = false;var _iteratorError2 = undefined;try {\n\n\n\n    for (var _iterator2 = contours[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {var contour = _step2.value;\n      for (var i = 0; i < contour.edges.length; i++) {\n        var edge = contour.edges[i];\n        if (i == 0) {\n          result += "\\nmyPath.moveTo(new Point(".concat(edge.p[0].x, ", ").concat(edge.p[0].y, "));\\n");\n        }\n\n        result += edge.debug("myPath");\n      }\n    }} catch (err) {_didIteratorError2 = true;_iteratorError2 = err;} finally {try {if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {_iterator2["return"]();}} finally {if (_didIteratorError2) {throw _iteratorError2;}}}\n\n  console.log(result);\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/SignedDistance.js":\n/*!*******************************************!*\\\n  !*** ./extensions/MSDF/SignedDistance.js ***!\n  \\*******************************************/\n/*! exports provided: SignedDistance */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignedDistance", function() { return SignedDistance; });\nvar SignedDistance = function SignedDistance(distance, dot, lerp) {\n  this.distance = distance || SignedDistance.Infinity;\n  this.dot = dot == undefined ? 1 : dot;\n  this.lerp = lerp;\n};\n\nSignedDistance.Infinity = -1e240;\nvar fabs = Math.abs;\n\nSignedDistance.prototype.gt = function (b) {\n  return fabs(this.distance) > fabs(b.distance) || fabs(this.distance) == fabs(b.distance) && this.dot > b.dot;\n};\n\nSignedDistance.prototype.lt = function (b) {\n  return fabs(this.distance) < fabs(b.distance) || fabs(this.distance) == fabs(b.distance) && this.dot < b.dot;\n};\n\nSignedDistance.prototype.ge = function (b) {\n  return fabs(this.distance) > fabs(b.distance) || fabs(this.distance) == fabs(b.distance) && this.dot >= b.dot;\n};\n\nSignedDistance.prototype.le = function (b) {\n  return fabs(this.distance) < fabs(b.distance) || fabs(this.distance) == fabs(b.distance) && this.dot <= b.dot;\n};\n\nSignedDistance.prototype.copy = function (other) {\n  this.distance = other.distance;\n  this.dot = other.dot;\n  this.lerp = other.lerp;\n};\n\nSignedDistance.prototype.reset = function () {\n  this.distance = SignedDistance.Infinity;\n  this.dot = 1;\n  this.lerp = undefined;\n};\n\n\n\n/***/ }),\n\n/***/ "./extensions/MSDF/Vector2.js":\n/*!************************************!*\\\n  !*** ./extensions/MSDF/Vector2.js ***!\n  \\************************************/\n/*! exports provided: Vector2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vector2", function() { return Vector2; });\n/**\n * Vector2D copied from THREEJS\n * IT will reduce the bundle size when we put it into worker\n */\n\n/**\n     * @author mrdoob / http://mrdoob.com/\n     * @author philogb / http://blog.thejit.org/\n     * @author egraether / http://egraether.com/\n     * @author zz85 / http://www.lab4games.net/zz85/blog\n     */\n\nfunction Vector2(x, y) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n\n}\n\nObject.defineProperties(Vector2.prototype, {\n\n  "width": {\n\n    get: function get() {\n\n      return this.x;\n\n    },\n\n    set: function set(value) {\n\n      this.x = value;\n\n    } },\n\n\n\n  "height": {\n\n    get: function get() {\n\n      return this.y;\n\n    },\n\n    set: function set(value) {\n\n      this.y = value;\n\n    } } });\n\n\n\n\n\nObject.assign(Vector2.prototype, {\n\n  isVector2: true,\n\n  set: function set(x, y) {\n\n    this.x = x;\n    this.y = y;\n\n    return this;\n\n  },\n\n  setScalar: function setScalar(scalar) {\n\n    this.x = scalar;\n    this.y = scalar;\n\n    return this;\n\n  },\n\n  setX: function setX(x) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function setY(y) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setComponent: function setComponent(index, value) {\n\n    switch (index) {\n\n      case 0:this.x = value;break;\n      case 1:this.y = value;break;\n      default:throw new Error(\'index is out of range: \' + index);}\n\n\n\n    return this;\n\n  },\n\n  getComponent: function getComponent(index) {\n\n    switch (index) {\n\n      case 0:return this.x;\n      case 1:return this.y;\n      default:throw new Error(\'index is out of range: \' + index);}\n\n\n\n  },\n\n  clone: function clone() {\n\n    return new this.constructor(this.x, this.y);\n\n  },\n\n  copy: function copy(v) {\n\n    this.x = v.x;\n    this.y = v.y;\n\n    return this;\n\n  },\n\n  add: function add(v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\');\n      return this.addVectors(v, w);\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n\n    return this;\n\n  },\n\n  addScalar: function addScalar(s) {\n\n    this.x += s;\n    this.y += s;\n\n    return this;\n\n  },\n\n  addVectors: function addVectors(a, b) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n\n    return this;\n\n  },\n\n  addScaledVector: function addScaledVector(v, s) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n\n    return this;\n\n  },\n\n  sub: function sub(v, w) {\n\n    if (w !== undefined) {\n\n      console.warn(\'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\');\n      return this.subVectors(v, w);\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n\n    return this;\n\n  },\n\n  subScalar: function subScalar(s) {\n\n    this.x -= s;\n    this.y -= s;\n\n    return this;\n\n  },\n\n  subVectors: function subVectors(a, b) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n\n    return this;\n\n  },\n\n  multiply: function multiply(v) {\n\n    this.x *= v.x;\n    this.y *= v.y;\n\n    return this;\n\n  },\n\n  multiplyScalar: function multiplyScalar(scalar) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n\n    return this;\n\n  },\n\n  divide: function divide(v) {\n\n    this.x /= v.x;\n    this.y /= v.y;\n\n    return this;\n\n  },\n\n  divideScalar: function divideScalar(scalar) {\n\n    return this.multiplyScalar(1 / scalar);\n\n  },\n\n  applyMatrix3: function applyMatrix3(m) {\n\n    var x = this.x,y = this.y;\n    var e = m.elements;\n\n    this.x = e[0] * x + e[3] * y + e[6];\n    this.y = e[1] * x + e[4] * y + e[7];\n\n    return this;\n\n  },\n\n  min: function min(v) {\n\n    this.x = Math.min(this.x, v.x);\n    this.y = Math.min(this.y, v.y);\n\n    return this;\n\n  },\n\n  max: function max(v) {\n\n    this.x = Math.max(this.x, v.x);\n    this.y = Math.max(this.y, v.y);\n\n    return this;\n\n  },\n\n  clamp: function clamp(min, max) {\n\n    // assumes min < max, componentwise\n\n    this.x = Math.max(min.x, Math.min(max.x, this.x));\n    this.y = Math.max(min.y, Math.min(max.y, this.y));\n\n    return this;\n\n  },\n\n  clampScalar: function clampScalar(minVal, maxVal) {\n\n    this.x = Math.max(minVal, Math.min(maxVal, this.x));\n    this.y = Math.max(minVal, Math.min(maxVal, this.y));\n\n    return this;\n\n  },\n\n  clampLength: function clampLength(min, max) {\n\n    var length = this.length();\n\n    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n  },\n\n  floor: function floor() {\n\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n\n    return this;\n\n  },\n\n  ceil: function ceil() {\n\n    this.x = Math.ceil(this.x);\n    this.y = Math.ceil(this.y);\n\n    return this;\n\n  },\n\n  round: function round() {\n\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n\n    return this;\n\n  },\n\n  roundToZero: function roundToZero() {\n\n    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\n    return this;\n\n  },\n\n  negate: function negate() {\n\n    this.x = -this.x;\n    this.y = -this.y;\n\n    return this;\n\n  },\n\n  dot: function dot(v) {\n\n    return this.x * v.x + this.y * v.y;\n\n  },\n\n  cross: function cross(v) {\n\n    return this.x * v.y - this.y * v.x;\n\n  },\n\n  lengthSq: function lengthSq() {\n\n    return this.x * this.x + this.y * this.y;\n\n  },\n\n  length: function length() {\n\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n\n  },\n\n  manhattanLength: function manhattanLength() {\n\n    return Math.abs(this.x) + Math.abs(this.y);\n\n  },\n\n  normalize: function normalize() {\n\n    return this.divideScalar(this.length() || 1);\n\n  },\n\n  angle: function angle() {\n\n    // computes the angle in radians with respect to the positive x-axis\n\n    var angle = Math.atan2(this.y, this.x);\n\n    if (angle < 0) angle += 2 * Math.PI;\n\n    return angle;\n\n  },\n\n  distanceTo: function distanceTo(v) {\n\n    return Math.sqrt(this.distanceToSquared(v));\n\n  },\n\n  distanceToSquared: function distanceToSquared(v) {\n\n    var dx = this.x - v.x,dy = this.y - v.y;\n    return dx * dx + dy * dy;\n\n  },\n\n  manhattanDistanceTo: function manhattanDistanceTo(v) {\n\n    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\n  },\n\n  setLength: function setLength(length) {\n\n    return this.normalize().multiplyScalar(length);\n\n  },\n\n  lerp: function lerp(v, alpha) {\n\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function lerpVectors(v1, v2, alpha) {\n\n    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n\n  },\n\n  equals: function equals(v) {\n\n    return v.x === this.x && v.y === this.y;\n\n  },\n\n  fromArray: function fromArray(array, offset) {\n\n    if (offset === undefined) offset = 0;\n\n    this.x = array[offset];\n    this.y = array[offset + 1];\n\n    return this;\n\n  },\n\n  toArray: function toArray(array, offset) {\n\n    if (array === undefined) array = [];\n    if (offset === undefined) offset = 0;\n\n    array[offset] = this.x;\n    array[offset + 1] = this.y;\n\n    return array;\n\n  },\n\n  fromBufferAttribute: function fromBufferAttribute(attribute, index, offset) {\n\n    if (offset !== undefined) {\n\n      console.warn(\'THREE.Vector2: offset has been removed from .fromBufferAttribute().\');\n\n    }\n\n    this.x = attribute.getX(index);\n    this.y = attribute.getY(index);\n\n    return this;\n\n  },\n\n  rotateAround: function rotateAround(center, angle) {\n\n    var c = Math.cos(angle),s = Math.sin(angle);\n\n    var x = this.x - center.x;\n    var y = this.y - center.y;\n\n    this.x = x * c - y * s + center.x;\n    this.y = x * s + y * c + center.y;\n\n    return this;\n\n  } });\n\n\n\nVector2.prototype.isEmtpy = function () {\n  return !this.x && !this.y;\n};\n\nVector2.prototype.getOrthogonal = function (polarity) {\n  return polarity ? new Vector2(-this.y, this.x) : new Vector2(this.y, this.x);\n};\n\nVector2.prototype.getOrthonormal = function (polarity) {var allowZero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var len = this.length();\n  if (len == 0) {\n    var y = !allowZero ? 1 : 0;\n    return polarity ? new Vector2(0, y) : new Vector2(0, -y);\n  }\n  return polarity ? new Vector2(-this.y / len, this.x / len) : new Vector2(this.y / len, -this.x / len);\n};\n\nVector2.prototype.cross = function (v) {\n  return this.x * v.y - this.y * v.x;\n};\n\n\nVector2.prototype.normalizeExt = function (allowZero) {\n  var len = this.length();\n  if (Math.abs(len) <= 0.0000001)\n  return new Vector2(0, allowZero ? 0 : 1);\n  return new Vector2(this.x / len, this.y / len);\n};\n\n\n\n/***/ }),\n\n/***/ "./node_modules/babel-loader/lib/index.js?!./extensions/MSDF/GeneratorWorker.js":\n/*!************************************************************************************!*\\\n  !*** ./node_modules/babel-loader/lib??ref--4!./extensions/MSDF/GeneratorWorker.js ***!\n  \\************************************************************************************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MSDF__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MSDF */ "./extensions/MSDF/MSDF.js");\n/* harmony import */ var _Bitmap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bitmap */ "./extensions/MSDF/Bitmap.js");\n\n\n\n\nvar bitmap;\nvar tasks = [];\n\nonmessage = function onmessage(event) {\n  var task = event.data;\n  var range = Math.ceil(task.range);\n  var fontSize = Math.ceil(task.fontSize);\n  var bounds = task.bounds;\n\n  var charInfo = _MSDF__WEBPACK_IMPORTED_MODULE_0__["MSDF"].loadGlyph(task.path, bounds, task.fontSize, task.range);\n\n  var width = Math.ceil(charInfo.width);\n  var height = Math.ceil(charInfo.height);\n\n  width = width < fontSize + 2 * range ? fontSize + 2 * range : width;\n  height = height < fontSize + 2 * range ? fontSize + 2 * range : height;\n\n  // reuse the bitmap as much as possible\n  if (!bitmap || bitmap.width < width || bitmap.height < height) {\n    bitmap = new _Bitmap__WEBPACK_IMPORTED_MODULE_1__["Bitmap"](width, height);\n  }\n\n  bitmap.reset();\n  task.charInfo = charInfo;\n  tasks.push(task);\n\n  // run on task\n  _MSDF__WEBPACK_IMPORTED_MODULE_0__["MSDF"].generate(bitmap, charInfo, range);\n\n  task.image = bitmap.getDrawingData(charInfo.width, charInfo.height, !charInfo.shape.inverseYAxis, range, task["char"]);\n\n  task.width = charInfo.width;\n  task.height = charInfo.height;\n\n  // delete the shape from charInfo\n  task.inverseYAxis = charInfo.shape.inverseYAxis;\n  charInfo.shape = undefined;\n  charInfo.path = undefined;\n  self.postMessage(task, [task.image.binData.buffer]);\n};\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=f591a0fae5b30154eef3.worker.js.map',n.p+"f591a0fae5b30154eef3.worker.js")}},"./node_modules/worker-loader/dist/workers/InlineWorker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/worker-loader/dist/workers/InlineWorker.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},4:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */function(e,t){}});